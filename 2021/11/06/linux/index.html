<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/cat-32*32.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/cat-32*32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/cat-16*16.ico">
  <link rel="mask-icon" href="/images/cat-32*32.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lycshub.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Linux（centos6）1Bytes &#x3D; 8 bits    一个字节等于 八位 1KB &#x3D; 1024Bytes … clear清屏 或者ctrl+l  linux的所有存储设备都必须挂载之后使用，包括u盘光盘     目录名 目录作用    &#x2F;bin&#x2F; 存放系统命令，普通用户和超级用户都可以执行，   &#x2F;sbin&#x2F; 保存和系统设置相关的命令，只有超级用户可以使用这些命令进行系统环境设置，但是">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux操作笔记">
<meta property="og:url" content="https://lycshub.github.io/2021/11/06/linux/index.html">
<meta property="og:site_name" content="Lyc&#39;s Blog">
<meta property="og:description" content="Linux（centos6）1Bytes &#x3D; 8 bits    一个字节等于 八位 1KB &#x3D; 1024Bytes … clear清屏 或者ctrl+l  linux的所有存储设备都必须挂载之后使用，包括u盘光盘     目录名 目录作用    &#x2F;bin&#x2F; 存放系统命令，普通用户和超级用户都可以执行，   &#x2F;sbin&#x2F; 保存和系统设置相关的命令，只有超级用户可以使用这些命令进行系统环境设置，但是">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://github.com/LycsHub/ImageHosting/raw/master/%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95%E5%92%8C%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2.jpg">
<meta property="article:published_time" content="2021-11-06T08:30:00.000Z">
<meta property="article:modified_time" content="2022-03-28T11:46:15.000Z">
<meta property="article:author" content="Harry Smith">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="基础操作">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/LycsHub/ImageHosting/raw/master/%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95%E5%92%8C%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2.jpg">

<link rel="canonical" href="https://lycshub.github.io/2021/11/06/linux/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Linux操作笔记 | Lyc's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-212139889-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-212139889-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Lyc's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lycshub.github.io/2021/11/06/linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/natumetakasi-2021-11-318%3A56%3A10.jpg">
      <meta itemprop="name" content="Harry Smith">
      <meta itemprop="description" content="取次花丛懒回顾，半缘修道半缘君">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lyc's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux操作笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-11-06 16:30:00" itemprop="dateCreated datePublished" datetime="2021-11-06T16:30:00+08:00">2021-11-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-03-28 19:46:15" itemprop="dateModified" datetime="2022-03-28T19:46:15+08:00">2022-03-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2021/11/06/linux/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/11/06/linux/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Linux（centos6）"><a href="#Linux（centos6）" class="headerlink" title="Linux（centos6）"></a>Linux（centos6）</h1><p>1Bytes = 8 bits    一个字节等于 八位</p>
<p>1KB = 1024Bytes</p>
<p>…</p>
<p>clear清屏 或者ctrl+l</p>
<ul>
<li>linux的所有存储设备都必须挂载之后使用，包括u盘光盘</li>
</ul>
<table>
<thead>
<tr>
<th>目录名</th>
<th>目录作用</th>
</tr>
</thead>
<tbody><tr>
<td>/bin/</td>
<td>存放系统命令，普通用户和超级用户都可以执行，</td>
</tr>
<tr>
<td>/sbin/</td>
<td>保存和系统设置相关的命令，只有超级用户可以使用这些命令进行系统环境设置，但是命令普通用户可以查看</td>
</tr>
<tr>
<td>/usr/sbin/</td>
<td>存放系统命令的目录，普通用户和超级用户都可以执行，这些命令与系统启动无关，单用户模式下不能执行</td>
</tr>
<tr>
<td>/boot/</td>
<td>系统启动目录，保存系统启动相关文件</td>
</tr>
<tr>
<td>/dev/</td>
<td>设备文件的保存位置，Linux中用来保存所有的硬件设备文件/</td>
</tr>
<tr>
<td>/etc/</td>
<td>配置文件的保存位置。系统内采用rpm安装的服务配置文件都在此目录中</td>
</tr>
<tr>
<td>/home/</td>
<td>普通用户的家目录</td>
</tr>
<tr>
<td>/lib/</td>
<td>系统调用函数库的保存位置</td>
</tr>
<tr>
<td>/lost+found/</td>
<td>系统意外崩溃而产生的文件碎片，每个分区都有自己的lost+found</td>
</tr>
<tr>
<td>/media/</td>
<td>挂载目录，媒体文件</td>
</tr>
<tr>
<td>/mnt/</td>
<td>挂载目录，u盘，移动硬盘</td>
</tr>
<tr>
<td>/misc/</td>
<td>挂载目录，系统建议nfs服务的共享目录</td>
</tr>
<tr>
<td>/opt/</td>
<td>第三方安装的软件保存位置，一般把第三方软件在/usr/local/目录中</td>
</tr>
<tr>
<td>/proc/</td>
<td>虚拟文件系统，该目录的数据保存到内存中，主要保存系统的内核、进程、外部状态、网络状态灯</td>
</tr>
<tr>
<td>/sys/</td>
<td>和proc相似，主要保存一些内核相关的信息</td>
</tr>
<tr>
<td>/root/</td>
<td>超级管理员的家目录</td>
</tr>
<tr>
<td>/srv/</td>
<td>服务数据目录</td>
</tr>
<tr>
<td>/tmp/</td>
<td>临时数据目录</td>
</tr>
<tr>
<td>/usr/</td>
<td>unix software resource 系统资源目录，用于存放系统的软件资源，不是user</td>
</tr>
<tr>
<td>/var/</td>
<td>动态数据保存位置。日志，保存缓存等</td>
</tr>
</tbody></table>
<ul>
<li>重启时应该关闭服务</li>
<li>服务器访问高峰不要运行高负载命令（大容量的复制解压）</li>
<li>远程配置防火墙不要把自己踢出服务器</li>
<li>密码要定期更新</li>
<li>分配合理权限</li>
<li>定期备份重要数据和日志</li>
</ul>
<span id="more"></span>

<h2 id="Linux常用命令"><a href="#Linux常用命令" class="headerlink" title="Linux常用命令"></a>Linux常用命令</h2><h3 id="文件处理命令"><a href="#文件处理命令" class="headerlink" title="文件处理命令"></a>文件处理命令</h3><ul>
<li><p>目录处理命令：ls ，原意list；路径在/bin/ls</p>
<p>参数 -a 原意all 所有文件显示</p>
<p>​    -l 原意long ，显示出详细信息     </p>
<p>​    -h 原意human ，显示单位kb、mb；</p>
<p>​    -d 原意direct，只显示目录，而不展开目录所有文件</p>
<p>​    -i 原意为inode，id号</p>
<p>文件把用户分成三组：</p>
<p>（-二进制文件 d目录direct  l软链接文件link）</p>
<p>所有者user所属组 group其他 other</p>
<p>r读 w写 x执行</p>
</li>
<li><p>目录处理命令：mkdir</p>
<p>make directories 路径/bin/mkdir</p>
<p>-p 递归创建，比如：mkdir -p /tmp/test</p>
</li>
<li><p>目录处理命令 ： cd</p>
<p>change directory</p>
<p>cd .. 返回上一级目录</p>
</li>
<li><p>pwd ，print working directory</p>
</li>
<li><p>rmdir, remove empty directories ,只能删除空目录</p>
</li>
<li><p>复制命令cp </p>
<p> -r 复制目录</p>
<p> -p 保留文件属性（修改时间等）</p>
<p>cp -r [一个文件位置] [另一个文件位置]</p>
</li>
<li><p>磁盘拷贝命令dd</p>
<p>   if = 输入文件</p>
<p>   of =输出文件</p>
<p>   bs = 字节数</p>
<p>   count = 个数 </p>
<ul>
<li><p>mv 剪切和拷贝</p>
<p>move 。改名<code>mv 源文件名 新文件名</code></p>
<p>移动操作<code>mv 路径 另一个路径</code></p>
</li>
<li><p>rm删除文件命令</p>
<p>remove </p>
<p>删除文件 rm文件名</p>
<p>删除目录 rm -r 目录名</p>
<p>删除目录不需要确认 -f</p>
</li>
<li><p>touch 创建文件</p>
<p>touch中间带空格是指创建多个文件</p>
<p>touch program files会创建两个   而  touch“program files”才会创建带空格的文件</p>
</li>
<li><p>cat可以显示文件的内容</p>
<p>​    -n 显示行号</p>
<p>​    把cat反过来写tac，会倒着显示</p>
</li>
<li><p>more可以分页显示</p>
<p>​    按f，space进行翻页</p>
<p>​    enter一行一行翻页</p>
<p>​    q退出more模式</p>
</li>
<li><p>less显示翻页显示，可以往上翻pgup，向上一行可以按上箭头</p>
<p>​    “/关键词 ”        回车 可以用于搜索，按n键可以查找下一个关键词</p>
<p>​    其余操作与more相同</p>
</li>
<li><p>指定查看前几行   head -n  7文件路径</p>
<p>​    表示前7行</p>
<p>​    不写7默认显示前10行</p>
</li>
<li><p>指定查看后几行   tail </p>
<p>​    -n 指定行数</p>
<p>​    -f  动态显示文件末尾内容 </p>
</li>
<li><p>ln生成链接文件（软链接类比与win快捷方式，文件权限lrwxrwxrwx，l表示link软连接）</p>
<p>​    -s 源文件 目标文件  （意为生成软链接）soft</p>
<p>​    不加-s为硬链接 ，硬链接相当于拷贝+同步更新 </p>
<p>硬链接可以用i节点 识别即ls -i ，有相同id号（内核通过调用id号对文件进行修改，硬链接之间有相同的id号，实现同步更新）</p>
<p>硬链接不可以跨区分区（软连接可以）</p>
<p>删除软链接使用<code>rm -rf name</code>不能加/，不然会变成删除目录</p>
<p>硬链接不能针对目录使用</p>
</li>
</ul>
</li>
</ul>
<h3 id="权限管理命令"><a href="#权限管理命令" class="headerlink" title="权限管理命令"></a>权限管理命令</h3><ul>
<li><p>更改权限：chmod改变文件或者目录权限</p>
<ul>
<li><p>chmod{ugoa}{+-=}   目录或文件名</p>
<p>user   group  other all</p>
<p>例子： chmod u+w test ,给test文件的所有者加上write的权限</p>
</li>
<li><p>chmod  744 文件或者目录名 </p>
<p>例子：r4   w2   x1</p>
<p>​          rwxr–r–    对应 744</p>
<p>-R 递归修改</p>
<p>关于rwx权限的理解</p>
<p>file    r: cat/more/less/head/tail</p>
<p>​    w:vim</p>
<p>​    x:script command</p>
<p>directory   r:ls</p>
<p>​                   w:touch/mkdir/rmdir/rm</p>
<p>​           x:cd</p>
<p>用户是由有删除一个文件的权限不是看这个用户对文件本身的权限，</p>
<p>而是看用户对该文件所在目录（directory）是否有写权限</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><ul>
<li>改变文件所有者chown</li>
</ul>
<p>chown [所有者][文件或目录]</p>
</li>
<li><ul>
<li>chgrp[用户组][文件或者目录]</li>
</ul>
</li>
<li><p>umask -S</p>
<p>显示设置文件的缺省权限(创建文件时默认的权限）</p>
<p>缺省创建的文件没有可执行权限x，创建时会自动是删去x权限</p>
<p>umask 权限码   =&gt; 改变缺省权限</p>
</li>
</ul>
<p>uamsk提供的四位数例如0022，第一位0是特殊权限，</p>
<p>022需要与777相减才是权限，即755（异或运算）才是缺省权限</p>
<h3 id="文件搜索系统"><a href="#文件搜索系统" class="headerlink" title="文件搜索系统"></a>文件搜索系统</h3><ul>
<li><p>find </p>
<p>文件搜索</p>
<p>find [搜索范围][匹配条件]</p>
<ul>
<li><p>-name 根据文件名搜索（精准匹配，模糊搜索可以用*通配符，?匹配单个字符）</p>
<p>​    -iname 搜索不区分大小写</p>
</li>
<li><p>-size根据大小来查找  +大于多大的文件 -小于多大的文件 </p>
<p>​    -size +204800   查找大于100MB的文件</p>
<p>一个数据块 512 byte = 0.5KB，即1KB=2个数据块</p>
<p>100MB=102400KB=204800</p>
</li>
<li><p>-user 在根目录查找所有者来查找</p>
</li>
<li><p>-group 在根目录根据所属组来查找</p>
</li>
<li><p>-amin            -cmin              - mmin根据时间属性来查找</p>
<p>访问时间access     文件属性change    文件内容modify</p>
<p>+-=与size相同</p>
</li>
<li><p>-a                         -r</p>
<p>and                      or</p>
</li>
<li><p>-type根据文件类型查找</p>
<p>f文件  d目录  l软链接文件</p>
</li>
<li><p>-exec/-ok 命令 {} ; 注意空格</p>
<p>该命令用来对搜索结果执行操作</p>
<p>例子：find /etc -name inittab -exec ls -l {} ;       查找/etc 目录下叫做inittab名字的文件并且列出详细的信息</p>
<p>find /etc -name inittab -ok rm {}  \； 查找该文件并且询问是否删除</p>
</li>
<li><p>-inum 根据i节点来查找文件</p>
<p>根据i节点删除文件 find . -inum 31531 -exec rm {} ;  假设文件中有一个i节点为31531，”.”指当前目录</p>
<p>-inum 还可以用来查找是否有硬链接（硬链接不能跨区且i节点相同）</p>
</li>
</ul>
</li>
<li><p>locate </p>
<p> 类似win中everything的原理,</p>
<p>   在Linux当中有一数据库定期自动更新文件系统，搜索时只需搜索数据库即可，</p>
<p>   手动更新命令updatedb，文件资料库不会更新/tmp目录中的文件</p>
<p>-i不区分大小写</p>
</li>
<li><p>查找命令的位置     which</p>
<p>which ls ，which useradd</p>
</li>
<li><p>whereis 搜索命令所在目录及帮助文档路径</p>
</li>
<li><p>grep 在文件内容中进行搜索</p>
<p>grep [内容名字][路径]</p>
<p>-i不区分不大小写</p>
<p>-v排除指定字符串</p>
<p>grep -v ^# /etc/inittab                “^”为行首为注释行的意思</p>
</li>
</ul>
<h3 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h3><ul>
<li><p>man </p>
<p>可以看命令和配置文件的帮助</p>
<p>man+配置文件名称，不需要绝对路径 </p>
<p>帮助文档中可以用“/”+关键词来查找</p>
<p>1表示命令的帮助    5表示配置文件的帮助</p>
<p>可以用whereis来查看命令的路径，路径中包含1，5</p>
<p>查找passwd配置文件 man 5 passwd;</p>
<p>man passwd默认查找passwd命令而不是配置文件</p>
</li>
<li><p>whatis 命令 名称</p>
<p>查看命令的简短 的信息</p>
</li>
<li><p>apropos 配置文件名称</p>
<p>查看配置文件简短的信息</p>
</li>
<li><p>命令 –help</p>
<p>可以获得简短参数信息等</p>
</li>
<li><p>help 【shell内置命令】</p>
<p>例如cd，pwd，umask都是shell内置命令，无法用man，只能用help来获取帮助</p>
</li>
<li><h3 id="解压缩命令"><a href="#解压缩命令" class="headerlink" title="解压缩命令"></a>解压缩命令</h3></li>
<li><p>压缩文件gzip</p>
</li>
<li><p>解压缩命令gunzip</p>
</li>
</ul>
<p>压缩解压.gz</p>
<p>该命令只能压缩文件不能压目录，不保留源文件</p>
<ul>
<li><p>tar [压缩后的文件名][目录]      文件打包成文件夹（目录）之后解、压缩，对目录进行操作</p>
<p>-c打包</p>
<p>-v显示详细信息</p>
<p>-f指定文件名</p>
<p>-z打包同时压缩</p>
</li>
</ul>
<p>解包-x解包     </p>
<p>​                                                       保留原文件</p>
<p>解压并解包到指定该目录例子：tar -zxf  xxx.tar.gz   -C   [指定路径]</p>
<ul>
<li><p>zip [压缩后的文件名][文件或目录]  可以保留原文件</p>
<p>-r 可以压缩目录</p>
<p>解压缩unzip</p>
</li>
<li><p>bzip2 [文件]</p>
</li>
</ul>
<p>-k产生压缩文件后保留源文件</p>
<p>压缩比较大 </p>
<p>tar -cjf [压缩后的文件名][目录] </p>
<ul>
<li><p>bunzip2 </p>
<p>例子：tar -xjf xxx.tar.bz2   解压缩bz2格式并且解包tar -x</p>
<h3 id="网络命令"><a href="#网络命令" class="headerlink" title="网络命令"></a>网络命令</h3></li>
<li><p>用户之间发送信息 write [用户名]</p>
<p>CTRL+d保存</p>
<p>wall 英文原理write all</p>
<p>例子wall hello，给所有在线用户发hello</p>
</li>
<li><p>ping   指定发送次数</p>
<p>-c [次数]  指定发送次数</p>
</li>
<li><p>ifconfig</p>
<p>intreface configure</p>
</li>
<li><p>mail [用户名]</p>
</li>
</ul>
<p>mail 进入界面，q退出，d删除，h列出邮件列表</p>
<ul>
<li><p>last</p>
<p>所有用户登录的时间</p>
<p>lastlog -u[用户名uid] 只查看该用户上次登陆的信息</p>
</li>
<li><p>traceroute</p>
</li>
<li><p>netstat  查询网络状态</p>
</li>
</ul>
<p>-t tcp</p>
<p>-u udp</p>
<p>-l 监听 listen</p>
<p>-r 路由 route</p>
<p>-n 显示ip地址和端口号 nslookup</p>
<p>netstat -tlun    查看本地监听端口</p>
<p>netstat -an   查看所有网络链接（监听，已链接）</p>
<p>netstat   -rn   查看本机路由表</p>
<ul>
<li>setup 只有redhat系列中有</li>
</ul>
<p>用于配置网络</p>
<ul>
<li>mount 挂载命令</li>
</ul>
<p>mount [-t 文件系统]设备文件名  挂载点</p>
<p>卸载命令umount</p>
<h3 id="关机重启"><a href="#关机重启" class="headerlink" title="关机重启"></a>关机重启</h3><ul>
<li><p>shutdown</p>
<p>-h时间</p>
<p>-r重启</p>
<p>-c取消前一个关机命令 </p>
</li>
<li><p>/etc/inittab </p>
</li>
</ul>
<p>修改系统默认运行级别</p>
<p>ininttab 5切换成5的图形界面</p>
<p>runlevel 查询系统运行级别</p>
<ul>
<li>logout退出登录界面</li>
</ul>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><table>
<thead>
<tr>
<th>变量名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>HOME</td>
<td>用户的主目录（即家目录）</td>
</tr>
<tr>
<td>SHELL</td>
<td>用户在使用的Shell解释器名称</td>
</tr>
<tr>
<td>HISTSIZE</td>
<td>输出的历史命令记录条数</td>
</tr>
<tr>
<td>HISTFILESIZE</td>
<td>保存的历史命令记录条数</td>
</tr>
<tr>
<td>MAIL</td>
<td>邮件保存路径</td>
</tr>
<tr>
<td>LANG</td>
<td>系统语言、语系名称</td>
</tr>
<tr>
<td>RANDOM</td>
<td>生成一个随机数字</td>
</tr>
<tr>
<td>PS1</td>
<td>Bash解释器的提示符</td>
</tr>
<tr>
<td>PATH</td>
<td>定义解释器搜索用户执行命令的路径</td>
</tr>
<tr>
<td>EDITOR</td>
<td>用户默认的文本编辑器</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo $PATH #输出环境变量所有路径</span><br><span class="line">PATH = $ PATH : /root/bin # 添加文件夹到环境变量搜索的环境</span><br></pre></td></tr></table></figure>



<h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><ul>
<li><p>vi 文件名</p>
<p>默认进入编辑模式</p>
</li>
</ul>
<p>插入模式：用来打开文件，进入文件之后用aio即可进入插入模式，用esc键让退出插入模式</p>
<p>进入编辑模式：在命令模式下<code>：</code></p>
<p>​    显示行号<code>:set nu</code></p>
<p>​    保存退出<code>:wq</code></p>
<p>命令模式下：</p>
<p>json格式化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%!python3 -m json.tool</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>在光标所在字符后插入（after）</td>
</tr>
<tr>
<td>A</td>
<td>在光标所在行尾插入</td>
</tr>
<tr>
<td>i</td>
<td>在光标所在字符前插入</td>
</tr>
<tr>
<td>I</td>
<td>在光标所在行行首插入</td>
</tr>
<tr>
<td>o</td>
<td>在光标下插入新行</td>
</tr>
<tr>
<td>O</td>
<td>在光标上插入新行</td>
</tr>
</tbody></table>
<p>命令模式下：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>：set nu</td>
<td>设置行号</td>
</tr>
<tr>
<td>：set nonu</td>
<td>取消行号</td>
</tr>
<tr>
<td>gg/G</td>
<td>定位到第一行/最后一行</td>
</tr>
<tr>
<td>nG/：n</td>
<td>定位到n行</td>
</tr>
<tr>
<td>$</td>
<td>移至行尾</td>
</tr>
<tr>
<td>0</td>
<td>移至行首</td>
</tr>
</tbody></table>
<p>命令模式下：</p>
<p>删除</p>
<table>
<thead>
<tr>
<th>x</th>
<th>删除光标所在的一行</th>
</tr>
</thead>
<tbody><tr>
<td>nx</td>
<td>删除光标所在出后n个字符</td>
</tr>
<tr>
<td>dd</td>
<td>删除光标所在行，ndd删除n行delete</td>
</tr>
<tr>
<td>dG</td>
<td>删除光标所在行到文件末尾内容</td>
</tr>
<tr>
<td>D</td>
<td>删除光标所在处到行尾内容</td>
</tr>
<tr>
<td>:n1,n2d</td>
<td>删除指定范围行</td>
</tr>
</tbody></table>
<p>复制和粘贴</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>yy</td>
<td>复制当前行copy</td>
</tr>
<tr>
<td>nyy</td>
<td>复制当前行以下n行</td>
</tr>
<tr>
<td>dd</td>
<td>剪切当前行</td>
</tr>
<tr>
<td>ndd</td>
<td>剪切当前行以下n行</td>
</tr>
<tr>
<td>p，P</td>
<td>粘贴当前光标所在行下或行上paste</td>
</tr>
</tbody></table>
<p>粘贴时保留源格式:</p>
<p>\1. 先让 Vim 处于 NORMAL 模式下；</p>
<p>\2. 执行如下命令，先进入粘贴模式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set paste</span><br></pre></td></tr></table></figure>

<p>\3. 然后进入 INSERT 模式；</p>
<p>\4. 按下p 粘贴代码进来，这个时候的格式能保留原样；</p>
<p>\5. 按 ESC 回到 NORMAL 模式；</p>
<p>\6. 退出粘贴模式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:set nopaste</span><br></pre></td></tr></table></figure>

<p>替换和取消</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>取代光标所在处的字符replace</td>
</tr>
<tr>
<td>R</td>
<td>从光标所在出开始替换字符，直到esc结束</td>
</tr>
<tr>
<td>u</td>
<td>undo取消上一步操作</td>
</tr>
</tbody></table>
<p>搜索和搜索替换命令</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>/string</td>
<td>搜索指定字符串，忽略大小写：set ic</td>
</tr>
<tr>
<td>n</td>
<td>搜索下一个指定字符串出现的位置</td>
</tr>
<tr>
<td>：%s/old/new/g</td>
<td>全文替换指定字符串</td>
</tr>
<tr>
<td>：n1,n1s/old/new/g</td>
<td>在一定范围内指定替换字符串</td>
</tr>
</tbody></table>
<p>保存和退出命令</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>：w</td>
<td>保存修改</td>
</tr>
<tr>
<td>：w new_fliename</td>
<td>另存为指定文件</td>
</tr>
<tr>
<td>：wq</td>
<td>保存并且退出</td>
</tr>
<tr>
<td>ZZ</td>
<td>保存并且退出</td>
</tr>
<tr>
<td>：q!</td>
<td>不保存修改退出</td>
</tr>
<tr>
<td>：wq！</td>
<td>保存修改退出，仅root和文件所有者能用</td>
</tr>
</tbody></table>
<p>vim技巧</p>
<ul>
<li><p>导入命令执行结果<code>：r！命令</code></p>
</li>
<li><p>定义快捷键<code>map 快捷键   触发命令</code></p>
</li>
</ul>
<p>ex       <code>:map ^p I#&lt;ESC&gt;</code>      ctrl+p在光标所在行行首插入一个#</p>
<p>​    <code>:map ^B 0x</code>   删除光标所在行行首的第一个字符</p>
<p><strong>值得注意的是,在使用快捷键定义时，^p不能直接按要同时按住ctrl+V+p</strong></p>
<ul>
<li><p>连续行注释</p>
<p><code>n1,n2s/^/#/g</code>在n1和n2行之间行首添加“#”   </p>
<p><code>n1,n2s/^#//g</code>删除n1n2行首的第一个字符</p>
<p><code>n1,n2s/^/\/\//g</code>在行首增加//，注释符，\代表转义</p>
</li>
<li><p>替换 <code>ab mymail 834876096@163.com</code></p>
</li>
</ul>
<p>vimrc文件可以在和用户名目录下创建<code>.vimrc</code>,这样重启就不会被抹除配置</p>
<ul>
<li><p>同时显示多个文件(分屏)</p>
<p><code>:split</code></p>
<p><code>:vsplit</code></p>
</li>
<li><p>在文件中切换</p>
<p>ctrl+6下一个文件</p>
<p><code>:bp</code>上一个文件</p>
<p><code>:bp</code>上一个文件</p>
</li>
<li><p>窗口之间切换</p>
<p>ctrl+w h/j/k/l</p>
</li>
<li><p>3.多文档编辑的命令如下</p>
<p>:n     编辑下一个文档。<br>:2n    编辑下两个文档。<br>:N     编辑上一个文档。注意，该方法只能用于同时打开多个文档。<br>:e 文档名    这是在进入vim后，不离开 vim 的情形下打开其他文档。<br>:e# 或 Ctrl+ˆ   编辑上一个文档,用于两个文档相互交换编辑时使用。?# 代表的是编辑前一次编辑的文档<br>:files 或 :buffers 或 :ls   可以列出目前 缓冲区 中的所有文档。加号 + 表示 缓冲区已经被修改过了。＃代表上一次编辑的文档，%是目前正在编辑中的文档<br>:b 文档名或编号   移至该文档。<br>:f 或 Ctrl+g   显示当前正在编辑的文档名称。<br>:f 檔名     改变编辑中的文档名。(file)</p>
<p> <strong>多文件切换</strong></p>
<ol>
<li>通过vim打开多个文件（可以通过ctags或者cscope） </li>
<li>“:ls”查看当前打开的buffer（文件） </li>
<li>“:b num”切换文件（其中num为buffer list中的编号）</li>
</ol>
</li>
</ul>
<hr>
<h3 id="手工rpm包管理"><a href="#手工rpm包管理" class="headerlink" title="手工rpm包管理"></a>手工rpm包管理</h3><p>源码包（脚本安装包）</p>
<p>rpm包是centos中的安装包，是二进制包，已经过编译的包</p>
<h4 id="rpm包管理命名和依赖性"><a href="#rpm包管理命名和依赖性" class="headerlink" title="rpm包管理命名和依赖性"></a>rpm包管理命名和依赖性</h4><ul>
<li><p>httpd-2.2.15-15.el6.centos.1.i686.rpm（例子，包全名）</p>
<p>​    httpd    软件包名</p>
<p>​    2.2.15   软件版本</p>
<p>​    15          软件发布次数</p>
<p>​    el6.centos 适合的Linux平台</p>
<p>​    i686        适合的硬件平台</p>
<p>​    rpm         rpm包扩展名</p>
</li>
<li><p>依赖性</p>
<ul>
<li>树形依赖： a-&gt;b-&gt;c</li>
<li>环形依赖:    a-&gt;b-&gt;c-&gt;a</li>
<li>模块依赖：模块依赖查询网站</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://www.rpmfind.net/">www.rpmfind.net</a></p>
<p>.so.2是库依赖</p>
</li>
<li><p>yum在线管理</p>
</li>
</ul>
<p>yum可以从互联网上自动下载依赖库，解决rpm命令管理的依赖性问题（下一讲）</p>
<h4 id="安装升级与卸载"><a href="#安装升级与卸载" class="headerlink" title="安装升级与卸载"></a>安装升级与卸载</h4><p>包全名：操作的包是没有安装的软件包时，使用包全名</p>
<p>包名：操作已经安装的软件包时，使用包名，搜索/var/lib/rpm/中的数据库</p>
<ul>
<li>安装</li>
</ul>
<p>rpm - ivh  包全名</p>
<p>-i   （install） 安装</p>
<p>-v (verbose)   显示详细信息</p>
<p>-h (hash)    显示进度</p>
<p>–nodeps  不检测依赖性（一般不用）</p>
<p><em><strong>ps：两次tab键补全</strong></em></p>
<ul>
<li><p>升级</p>
<p>rpm -Uvh 包全名</p>
<p>upgrade</p>
</li>
<li><p>卸载</p>
</li>
</ul>
<p>rpm -e 包名</p>
<p>erase</p>
<h4 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h4><p>rpm  包名</p>
<p>-q query 查已安装包，包名</p>
<p>-a all</p>
<p>-i information</p>
<p>-p package  查询未安装包的信息，包全名</p>
<p>-l list 列表</p>
<p>-f file</p>
<hr>
<p>-ql可以查询安装位置</p>
<p>-qi 包名 查询软件包的详细信息</p>
<p>-qf 系统文件名</p>
<p>-qR 包名   查询未安装的服务依赖性</p>
<h4 id="效验"><a href="#效验" class="headerlink" title="效验"></a>效验</h4><p>-V 已安装的包名</p>
<p>验证内容中八个信息具体内容如下</p>
<p>S  文件大小是否改变</p>
<p>M  文件的类型和文件权限是否改变</p>
<p>5  文件md5校验和是否被改变</p>
<p>D   设备中的主从代码是否改变</p>
<p>L  文件路径是否改变</p>
<p>U   文件的所有者关系是否改变</p>
<p>G  文件的属组是否改变</p>
<p>T  文件的修改时间是否改变</p>
<hr>
<p>c  配置文件config</p>
<p>d 普通文档documentation</p>
<p>g ghost文件不应被rpm包包含</p>
<p>l 授权文件license</p>
<p>r 描述文件readme</p>
<ul>
<li>rpm包中文件提取（可以用于恢复系统文件误删）</li>
</ul>
<p>rpm2cpio 包全名 | \ cpio -idv .文件绝对路径</p>
<p>#rpm2cpio是一个把rpm包转换成cpio格式的命令</p>
<p>#cpio是一个标准工具，用于创建软件档案文件和从档案文件中提取文件</p>
<hr>
<h3 id="在线rpm包管理"><a href="#在线rpm包管理" class="headerlink" title="在线rpm包管理"></a>在线rpm包管理</h3><h4 id="IP地址配置和网络yum源"><a href="#IP地址配置和网络yum源" class="headerlink" title="IP地址配置和网络yum源"></a>IP地址配置和网络yum源</h4><ul>
<li><p>ip地址和本机网络信息</p>
<ol>
<li><p> setup回车就可以配置ip地址（仅redhat系列）</p>
</li>
<li><p>改ip地址: vi /etc/sysconfig/network-scripts/ifcfg-eth0中onboot改成yes 然后 service network restart</p>
</li>
<li><p>改主机名:/etc/sysconfig/network</p>
</li>
<li><p>改dns: /etc/resolv.conf</p>
</li>
</ol>
</li>
<li><p>网络yum源</p>
</li>
</ul>
<p>vi /etc/yum.repos.d/CentOS-Base.repo </p>
<h4 id="yum命令"><a href="#yum命令" class="headerlink" title="yum命令"></a>yum命令</h4><p>yum list   查询所有可用软件包列表</p>
<p>yum search 关键字  搜索服务器上所有和关键字相关的包</p>
<p>yum -y install 包名    安装</p>
<p>yum - y  update 包名   升级（不加包名会升级所有软件包括内核，会导致远程内核连接不上）</p>
<p>yum -y remove 包名   卸载（尽量不要卸载，会卸载所有依赖库，可能会导致Linux崩溃）</p>
<ul>
<li>软件包组安装</li>
</ul>
<p>yum grouplist  列出所有可用的软件组列表</p>
<p>yum groupinstall 软件组名    指定安装软件组</p>
<p>yum groupremove  软件组名   卸载指定软件组</p>
<hr>
<h4 id="光盘yum的搭建"><a href="#光盘yum的搭建" class="headerlink" title="光盘yum的搭建"></a>光盘yum的搭建</h4><ol>
<li><p>挂载光盘</p>
</li>
<li><p>让网络yum源文件失效，通过改/etc/yum.repos.d/中除了光盘的repo文件之外的repo文件的文件名来使其失效</p>
</li>
<li><p>在修改光盘yum源文件</p>
<p>file地址改为自己的光盘地址，enable = 1；打开 </p>
<h3 id="源码包-amp-rpm包"><a href="#源码包-amp-rpm包" class="headerlink" title="源码包&amp;rpm包"></a>源码包&amp;rpm包</h3><ol>
<li><p>下载源码包</p>
</li>
<li><p>解压缩下载的源码包</p>
</li>
<li><p>进入解压缩目录</p>
<p>ls查看INSTALL文件和README文件可以提供安装帮助</p>
</li>
</ol>
</li>
</ol>
<ul>
<li><p>源码包一般安装在/usr/local/软件名/</p>
</li>
<li><p>etc/rc.d/init.d/  中有可执行文件</p>
<p>service 服务名 start/restart</p>
<p>  service不能管理源码包</p>
<p>源码包在 usr/local/src/中</p>
<p>软件安装位置/usr/local/ </p>
<p>make 编译 如果出错 make clean</p>
<p>make install 编译安装</p>
</li>
</ul>
<h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><h4 id="修改ip"><a href="#修改ip" class="headerlink" title="修改ip"></a>修改ip</h4><ul>
<li>临时修改命令工具</li>
</ul>
<p>ifconfig 查看与配置网络状态命令</p>
<p>临时设置eth0网卡ip地址和子网掩码</p>
<p><code>ifconfig eth0 192.168.0.200 255.255.255.0</code></p>
<p>虚拟网卡 <code>ifconfig eth0:0 192.168.3.1</code></p>
<p>关闭虚拟网卡<code>ifconfig eth0:0 down</code></p>
<ul>
<li>setup图形化窗口配置</li>
<li>修改网络配置文件</li>
</ul>
<p><code>vi /etc/sysconfig/network-scripts/ifcfg-eth0  </code></p>
<p>主机名<code>vi /etc/sysconfig/network</code></p>
<p>dns <code>vi /etc/resolv.config </code></p>
<p>修改完网络信息需要对网络服务进行重启<code>service network restart</code></p>
<h4 id="查看主机名"><a href="#查看主机名" class="headerlink" title="查看主机名"></a>查看主机名</h4><p><code>hostname</code>显示主机名 </p>
<p><code>hostname 主机名</code>更改主机名</p>
<h4 id="网卡设备开关"><a href="#网卡设备开关" class="headerlink" title="网卡设备开关"></a>网卡设备开关</h4><p><code>ifdown 网卡设备名</code>   禁用网卡</p>
<p><code>ifup  网卡设备名</code>  开启网卡</p>
<h4 id="查看网络状态"><a href="#查看网络状态" class="headerlink" title="查看网络状态"></a>查看网络状态</h4><p>netstat [option]</p>
<p>-t   列出tcp协议端口</p>
<p>-u  列出udp协议端口</p>
<p>-a all,包括tcp和udp</p>
<p>-n  不使用域名和服务名,而使用ip地址和端口号</p>
<p>-l  仅列出在监听状态的网卡</p>
<p>-r 查看路由列表</p>
<p><code>route -n</code>  查看路由列表</p>
<h4 id="域名解析命令"><a href="#域名解析命令" class="headerlink" title="域名解析命令"></a>域名解析命令</h4><p><code>nslookup 主机名或者ip</code></p>
<h4 id="ping命令"><a href="#ping命令" class="headerlink" title="ping命令"></a>ping命令</h4><p><code>ping 主机或者ip</code></p>
<p>-c 次数</p>
<h4 id="telnet命令"><a href="#telnet命令" class="headerlink" title="telnet命令"></a>telnet命令</h4><p><code>telnet [域名和ip]  [端口]</code>  #远程管理和端口探测命令</p>
<p>或者直接用nmap扫</p>
<h4 id="traceroute"><a href="#traceroute" class="headerlink" title="traceroute"></a>traceroute</h4><p><code>traceroute [option] ip或者域名</code></p>
<p>路由跟踪命令</p>
<p>-n   使用ip不使用域名,速度更快</p>
<h4 id="wget命令-下载"><a href="#wget命令-下载" class="headerlink" title="wget命令,下载"></a>wget命令,下载</h4><p><code>wget 网站</code></p>
<p>下载命令</p>
<h4 id="SCP命令"><a href="#SCP命令" class="headerlink" title="SCP命令"></a>SCP命令</h4><p>scp [参数] [原路径] [目标路径]</p>
<ul>
<li><p>命令参数：</p>
</li>
<li><p>-1 强制scp命令使用协议ssh1</p>
</li>
<li><p>-2 强制scp命令使用协议ssh2</p>
</li>
<li><p>-4 强制scp命令只使用IPv4寻址</p>
</li>
<li><p>-6 强制scp命令只使用IPv6寻址</p>
</li>
<li><p>-B 使用批处理模式（传输过程中不询问传输口令或短语）</p>
</li>
<li><p>-C 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）</p>
</li>
<li><p>-p 留原文件的修改时间，访问时间和访问权限。</p>
</li>
<li><p>-q 不显示传输进度条。</p>
</li>
<li><p>-r 递归复制整个目录。</p>
</li>
<li><p>-v 详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。</p>
</li>
<li><p>-c cipher 以cipher将数据传输进行加密，这个选项将直接传递给ssh。</p>
</li>
<li><p>-F ssh_config 指定一个替代的ssh配置文件，此参数直接传递给ssh。</p>
</li>
<li><p>-i identity_file 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。</p>
</li>
<li><p>-l limit 限定用户所能使用的带宽，以Kbit/s为单位。</p>
</li>
<li><p>-o ssh_option 如果习惯于使用ssh_config(5)中的参数传递方式，</p>
</li>
<li><p>-P port 注意是大写的P, port是指定数据传输用到的端口号</p>
</li>
<li><p>-S program 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</p>
</li>
</ul>
<ul>
<li>从本地服务器复制到远程服务器</li>
</ul>
<p>复制文件:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$scp local_file remote_username@remote_ip:remote_folder</span><br><span class="line">$scp local_file remote_username@remote_ip:remote_file</span><br><span class="line">$scp local_file remote_ip:remote_folder</span><br><span class="line">$scp local_file remote_ip:remote_file</span><br></pre></td></tr></table></figure>

<p>指定了用户名，命令执行后需要输入用户密码；如果不指定用户名，命令执行后需要输入用户名和密码；</p>
<p>复制目录:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$scp -r local_folder remote_username@remote_ip:remote_folder</span><br><span class="line">$scp -r local_folder remote_ip:remote_folder</span><br></pre></td></tr></table></figure>

<p>第1个指定了用户名，命令执行后需要输入用户密码； 第2个没有指定用户名，命令执行后需要输入用户名和密码；</p>
<p>注解</p>
<p>从远程复制到本地的scp命令与上面的命令一样，只要将从本地复制到远程的命令后面2个参数互换顺序就行了。</p>
<ul>
<li>实例1：从远处复制文件到本地目录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$scp root@10.6.159.147:/opt/soft/demo.tar /opt/soft/</span><br></pre></td></tr></table></figure>

<p>说明： 从10.6.159.147机器上的/opt/soft/的目录中下载demo.tar 文件到本地/opt/soft/目录中</p>
<ul>
<li>实例2：从远处复制到本地</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$scp -r root@10.6.159.147:/opt/soft/test /opt/soft/</span><br></pre></td></tr></table></figure>

<p>说明： 从10.6.159.147机器上的/opt/soft/中下载test目录到本地的/opt/soft/目录来。</p>
<ul>
<li>实例3：上传本地文件到远程机器指定目录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$scp /opt/soft/demo.tar root@10.6.159.147:/opt/soft/scptest</span><br></pre></td></tr></table></figure>

<p>说明： 复制本地opt/soft/目录下的文件demo.tar 到远程机器10.6.159.147的opt/soft/scptest目录</p>
<ul>
<li>实例4：上传本地目录到远程机器指定目录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$scp -r /opt/soft/test root@10.6.159.147:/opt/soft/scptest</span><br></pre></td></tr></table></figure>

<p>说明： 上传本地目录 /opt/soft/test到远程机器10.6.159.147上/opt/soft/scptest的目录中</p>
<h2 id="用户和用户组管理"><a href="#用户和用户组管理" class="headerlink" title="用户和用户组管理"></a>用户和用户组管理</h2><p><strong>用户基本信息文件</strong>              /etc/passwd</p>
<p><code>account:password:uid:gid:用户说明:家目录:shell解释器所在位置</code></p>
<ul>
<li>shell解释器的位置/bin/bash说明是允许登录的,但是/sbin/nologin就不能登录</li>
<li>初始组和附加组,初始组的只能有一个,可以改但不建议,一个用户可以用多个附加组</li>
<li>uid为0时是管理员用户</li>
<li>passwd字段是x的意思是真实密码(加密后密码)存在/etc/shadow文件下 ,具体含义man 5 shadow</li>
</ul>
<p><strong>组信息文件</strong>                             /etc/group</p>
<p><code>组名:password:gid:这个组中的附加用户</code></p>
<ul>
<li>password真实加密密码在gshadow中</li>
</ul>
<p><strong>家目录</strong>       普通用户: /home/用户名/      root用户: /root/</p>
<p><strong>用户邮箱</strong> /var/spool/mail/用户名/</p>
<p><strong>用户模板目录</strong>    /etc/skel/  在新建用户时自动拷贝该文件夹下所有内容到新建用户的家目录</p>
<h3 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h3><h4 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h4><ul>
<li><p><code>useradd [option] 用户名</code></p>
<p>​    -u 手工指定uid</p>
<p>​    -d 家目录</p>
<p>​    -c 用户的说明</p>
<p>​    -g 指定初始组</p>
<p>​    -G 指定附属组</p>
<p>​    -s 手工指定用户shell</p>
</li>
</ul>
<h4 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h4><ul>
<li><p><code>passwd [option] 用户名 </code></p>
<p>-l 锁定用户,禁止其登录</p>
<p>-u 解锁用户</p>
<p>–stdin 允许使用标准输入修改用户密码 </p>
<p>-d 允许使用空密码登录</p>
<p>-e 强制用户下次登录时修改密码</p>
<p>-S 显示用户的密码是否被锁定,以及密码采用的加密算法名称</p>
</li>
<li><p>who  可以查看当前登录的用户，w详细信息 </p>
<p>tty是本地终端，pts表示远程终端</p>
</li>
<li><p>userdel 用户名</p>
<p>- </p>
</li>
</ul>
<p>用户默认值文件 /etc/default/useradd</p>
<p>默认密码有效期 /etc/login/defs</p>
<p><strong>修改用户</strong></p>
<p><code>usermod  [option] 用户名</code></p>
<p>-c 附加说明</p>
<p>-G 附加组</p>
<p>-L 锁定用户</p>
<p>-U 解锁用户</p>
<p><code>chage 用户名</code> 修改用户密码状态</p>
<p>chage -d 0 用户名 # 当前用户名的shadow第三字段修改密码时间为0天,登录要求用户设置新密码</p>
<h4 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h4><p><code>userdel [option] 用户名</code></p>
<ul>
<li>-r 删除用户的同时删除用户家目录</li>
<li>-f 强制删除</li>
</ul>
<p><code>su 用户名</code></p>
<p><code>- 连带环境变量一起切换</code></p>
<p>-c 不切换身份用root身份执行一条命令</p>
<h3 id="用户组管理"><a href="#用户组管理" class="headerlink" title="用户组管理"></a>用户组管理</h3><h4 id="添加组"><a href="#添加组" class="headerlink" title="添加组"></a>添加组</h4><p><code>groupadd 组名</code></p>
<p>-g   指定gid</p>
<h4 id="修改组"><a href="#修改组" class="headerlink" title="修改组"></a>修改组</h4><p><code>groupmod 用户名</code></p>
<p>-n 新组名</p>
<p>-g 修改组id</p>
<h4 id="删除组"><a href="#删除组" class="headerlink" title="删除组"></a>删除组</h4><p>groupdel</p>
<p>将用户添加组或者从组中删除</p>
<p>​    gpasswd 选项 组名</p>
<p>-a 用户名 把用户加入组</p>
<p>-d 把用户从组中删除</p>
<p>加的都是附加组</p>
<h2 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h2><h4 id="acl权限"><a href="#acl权限" class="headerlink" title="acl权限"></a>acl权限</h4><p>补足linux中所属者所属组其他人权限配不足的问题，通过对单个用户分配不同的权限达到权限分配的目地</p>
<p>查看是否开启acl权限： <code>dump2fs -h /dev/sda3</code> 该命令用于查看值都能够文件系统详细信息</p>
<p>开启acl权限，默认已经挂载</p>
<p>如果没有acl权限就重新挂载分区</p>
<ul>
<li><p>临时</p>
<p>mount -o remount，acl /</p>
</li>
<li><p>永久</p>
<ul>
<li><p>修改fastab文件</p>
<p>在defaluts后加入<code>,acl</code></p>
<p>之后重新挂载<code>mount -o remount /</code>或者重启</p>
</li>
</ul>
</li>
</ul>
<p>查看acl命令</p>
<p><code>getfacle 文件名</code></p>
<p>设定acl权限命令</p>
<p><code>setfacl [option] 文件名</code></p>
<p>-m 赋予权限使用  “u:用户名:权限” 的格式，权限写法rwx；“m:” 之后写入的权限是最大权限mask设定</p>
<ul>
<li>最大mask有效权限与删除</li>
</ul>
<p>mask权限与acl权限相与之后才是最终权限</p>
<ul>
<li>删除acl权限</li>
</ul>
<p>setfacl -x u：用户名 文件名</p>
<p>setfacl -x g：组名 文件名</p>
<p>setfacl -b 文件名/目录名</p>
<ul>
<li>递归acl权限</li>
</ul>
<p>serfacl -m u：用户名 ：权限 -R 文件名</p>
<ul>
<li>默认acl权限</li>
</ul>
<p>serfacl -m d：u：用户名 ：权限  文件名</p>
<h4 id="文件特殊权限"><a href="#文件特殊权限" class="headerlink" title="文件特殊权限"></a>文件特殊权限</h4><p>如果设置了setuid那么所有者的权限就会变成<code>rws</code>原本x变成s</p>
<p>其余两个同理</p>
<ul>
<li><p>setuid</p>
<ul>
<li>只有可以执行的二进制文件才能设定setuid权限</li>
<li>执行者必须要有x权限</li>
<li>（在设置了setuid之后）命令执行者在执行文件会暂时获得文件所有者的身份</li>
<li>seruid权限只有在执行程序的过程中有效  </li>
</ul>
<p><strong>设定方法</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chmod 4755 文件名 #4表示suid</span><br><span class="line">chmod u+s 文件名</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">删除suid方法</span></span><br><span class="line">chmod 755 文件名</span><br><span class="line">chmod u-s 文件名</span><br></pre></td></tr></table></figure>

<p>该权限非常危险，应严格控制写权限</p>
</li>
<li><p>setgid</p>
<ul>
<li><p>只有可以执行的二进制文件才能设定setuid权限</p>
</li>
<li><p>执行者必须要有x权限</p>
</li>
<li><p>（在设置了setuid之后）命令执行者在执行文件会暂时获得文件所属组的身份</p>
</li>
<li><p>setgid权限只有在执行程序的过程中有效  </p>
<p>针对目录功能</p>
<ul>
<li> 普通用户必须对此目录拥有r和x权限才能进入此目录</li>
<li>普通用户在此有效组会变成此目录的属组</li>
<li>如果普通用户对此组有w权限，那么新建的文件默认属组是这个目录的属组</li>
</ul>
<p>设定方法与sgid类似，2表示sgid或者g+s</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  chmod 2755 文件名 #2表示sgid</span><br><span class="line">  chmod g+s 文件名</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">删除sgid方法</span></span><br><span class="line">chmod 755 文件名</span><br><span class="line">chmod g-s 文件名</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ul>
<li>sbit（sticky bit）</li>
</ul>
<p>粘着位</p>
<p>作用：user1创建的文件，user2没法修改和删除</p>
<p>前提：</p>
<ul>
<li><p>只对目录有效</p>
</li>
<li><p>普通话用户对该目录拥有wx权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chmod 1755 目录名 #1表示sbit</span><br><span class="line">chmod o+t 目录名</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">删除sbit方法</span></span><br><span class="line">chmod 777 目录名</span><br><span class="line">chmod o-t 目录名</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="文件系统属性chattr权限"><a href="#文件系统属性chattr权限" class="headerlink" title="文件系统属性chattr权限"></a>文件系统属性chattr权限</h4><p>change atrribute</p>
<p>查看文件系统属性<code>lsattr -a 文件或目录</code></p>
<p>a：显示所有文件和目录</p>
<p>d：目标是目录，仅列出目录本身的属性而不是子文件</p>
<p>针对root用户也生效</p>
<p><code>chattr [+-=] [选项][文件或目录]</code></p>
<p>i：如果对文件设置i，相当于只读；如果是目录，仅能对已存在文件内容进行修改</p>
<p>a：对于文件，只能在文件中写入新的数据（只能用ehco方式追加），不能删除和修改；对于目录允许新建和修改文件但是不允许删除</p>
<h4 id="sudo权限"><a href="#sudo权限" class="headerlink" title="sudo权限"></a>sudo权限</h4><p>root把本来只有超级用户执行的命令赋予普通用户执行</p>
<p>sudo的操作对象是系统命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">visudo 或者 vim /etc/sudoers</span><br><span class="line">root all=(all) all</span><br><span class="line"><span class="meta">#</span><span class="bash"> 用户名   被管理主机地址 = （可使用的身份） 授权命令（绝对路径）</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="分区命令"><a href="#分区命令" class="headerlink" title="分区命令"></a>分区命令</h2><h4 id="查看分区信息disk-free"><a href="#查看分区信息disk-free" class="headerlink" title="查看分区信息disk free"></a>查看分区信息disk free</h4><p>​    df [option] [file name]</p>
<p>​        -a显示所有的文件系统信息</p>
<p>​        -h 使用习惯单位显示容量</p>
<h4 id="显示目录和文件的大小data-usage"><a href="#显示目录和文件的大小data-usage" class="headerlink" title="显示目录和文件的大小data usage"></a>显示目录和文件的大小data usage</h4><p>​    du [option] [file name]</p>
<p>​        -a 显示每个子文件的磁盘占用量</p>
<p>​        -h 以习惯的单位显示磁盘占用</p>
<p>​        -s 统计占用量,不列出子目录和子文件占用量</p>
<h4 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h4><p>mount [-l] 显示已经挂载的设备,-l 会显示卷标名称</p>
<p>mount -a 根据/etc/fstab 的内容,自动挂载</p>
<p><strong>mount</strong> [-t 文件系统 ]  [-L 卷标名] [-o 特殊选项] <strong>设备文件名</strong>     <strong>挂载点</strong></p>
<p>光盘的文件系统是iso9660</p>
<p>特殊选项:</p>
<p>remount 重新挂载</p>
<p>exec/noexec 允许执行可执行文件或者禁止</p>
<h5 id="挂载光盘"><a href="#挂载光盘" class="headerlink" title="挂载光盘"></a>挂载光盘</h5><p>mount /dev/cdrom /mnt/cdrom/</p>
<p>第一个参数是系统默认的即为光盘的设备文件名也可以是sr0</p>
<p>第二个参数是挂载点,当前命令挂载在/mnt/cdrom/文件夹下</p>
<h5 id="挂载u盘"><a href="#挂载u盘" class="headerlink" title="挂载u盘"></a>挂载u盘</h5><ul>
<li>首先需要查询upan设备文件名</li>
</ul>
<p><code>fdisk -l</code> 找到u盘的设备文件名</p>
<ul>
<li><strong>mount</strong> [-t 文件系统 ]  [-L 卷标名] [-o 特殊选项] <strong>设备文件名</strong>     <strong>挂载点</strong></li>
</ul>
<p>设备文件名是刚刚upan的设备文件名,挂载点随意,linux系统建议mnt下</p>
<h4 id="卸载设备"><a href="#卸载设备" class="headerlink" title="卸载设备"></a>卸载设备</h4><p>umount <strong>设备文件名 / 挂载点</strong></p>
<h3 id="fdisk进行分区"><a href="#fdisk进行分区" class="headerlink" title="fdisk进行分区"></a>fdisk进行分区</h3><p>先<strong>拓展分区</strong>再<strong>逻辑分区</strong>最后<strong>挂载分区</strong></p>
<p> sdb1,2,3,4 为只能给主分区或者拓展分区,而不能给逻辑分区</p>
<p>5开始为拓展分区,拓展分区的作用是在拓展分区内建立更多的分区</p>
<ul>
<li>fdisk -l 查询新硬盘信息</li>
<li>fdisk /dev/sdb(a) 使用(进入一个linux自带的分区程序,根据提示完成分区)</li>
<li>partprobe 重新读取分区表信息</li>
<li><code>mkfs - t ext4 [刚刚创建的分区]</code>     格式化已创建的分区,只能格式化逻辑分区和主分区,不能格式化拓展分区,格式化之后才可以挂载</li>
<li>使用mount 挂载</li>
</ul>
<h3 id="自动挂载和fstab文件修复"><a href="#自动挂载和fstab文件修复" class="headerlink" title="自动挂载和fstab文件修复"></a>自动挂载和fstab文件修复</h3><ul>
<li>fstab文件修复仅出现在centos7以下的系统</li>
</ul>
<p>自动挂载实现形式: 修改/etc/fstab文件内容</p>
<ul>
<li>第一个字段,分区设备文件名或者uuid</li>
<li>第二字段:挂载点</li>
<li>第三字段:文件系统名</li>
<li>第四字段:挂载参数</li>
<li>第五字段:系统是否定期备份,0表示不备份,1表示每天备份,2表示不定期备份</li>
<li>第六字段指定分区是否被fsck检测,0表示不检测,其他数字代表检测的优先级高,1&gt;2</li>
</ul>
<p>修改完成后进行操作mount -a,</p>
<p>该命令根据fstab文件自动挂载分区,开机自动挂载</p>
<p>如果是centos 7以下 的系统,如果修改错误fstab文件会导致系统异常无法启动,根据命令输入root密码进入提示符界面</p>
<p>首先要给文件mount –o remount,rw /重新挂载该文件为读写,就可以进入/etc/fstab中修改</p>
<h4 id="分配swap分区"><a href="#分配swap分区" class="headerlink" title="分配swap分区"></a>分配swap分区</h4><ul>
<li>查询内存和swap分区占用情况  free</li>
<li>新建swap分区 fdisk /dev/sdb,并且将id改为82</li>
<li>swap分区特有的格式化命令 mkswap /dev/sdb6</li>
<li>加入swap分区 swapon /dev/sdb6,取消用是swapoff</li>
<li>最后加入/etc/fstab开机自动挂载</li>
</ul>
<h2 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h2><p>使Linux系统可以识别出该文件是个shell脚本方法，在文件的开头添加：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">! /bin/bash</span></span><br></pre></td></tr></table></figure>

<p>的声明，<strong>该#不是注释内容而是声明</strong></p>
<ul>
<li><p>echo</p>
<p>-e 支持转义符号\</p>
<p>“ “,引起的内容输出</p>
<p>执行shell脚本：</p>
<ol>
<li>赋予执行权限直接运行：<code>chmod 755 hello.sh</code> or  <code>./hello.sh</code>   </li>
<li>通过调用bash执行脚本 <code>bash hello.sh</code></li>
</ol>
</li>
</ul>
<p>遇到无法执行的shell脚本，因为该脚本是在windows环境下写成的，回车符是<code>M$</code>而Linux是<code>$</code>,需要用dos2unix命令转换脚本回车识别符使Linux支持，该命令可以用在线包管理获取；</p>
<ul>
<li>history</li>
</ul>
<p>-c 清空历史命令</p>
<p>-w 把缓存的历史命令写入历史命令保存文件</p>
<p>~./bash_history</p>
<p>默认保存1000条，可以从/etc/profile中修改环境变量配置文件</p>
<ul>
<li>自动补全，如果唯一，一下tab，两个以上，两下tab把有的都列出来</li>
<li>命令别名</li>
</ul>
<p>alias 别名=‘命令’</p>
<p><strong>等号两边不能有空格</strong></p>
<p>让别名永久生效，修改文件vi /root/.bashrc</p>
<p>删除别名 unalias 别名</p>
<ul>
<li>快捷键</li>
</ul>
<p>ctrl+c 终止当前命令</p>
<p>ctrl+l 相当于clear</p>
<p>ctrl+u 删除/剪切 一行已经输入的命令</p>
<p>ctrl+y 粘贴剪切的命令</p>
<p>ctrl+r 搜索命令</p>
<p>ctrl+d 退出当前终端</p>
<ul>
<li><p>标准输入输出</p>
<table>
<thead>
<tr>
<th>设备</th>
<th>设备文件名</th>
<th>文件描述符</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>键盘</td>
<td>/dev/stdin</td>
<td>0</td>
<td>标准输入</td>
</tr>
<tr>
<td>显示器</td>
<td>/dev/stdout</td>
<td>1</td>
<td>标准输出</td>
</tr>
<tr>
<td>显示器</td>
<td>/dev/stderr</td>
<td>2</td>
<td>标准错误输出</td>
</tr>
</tbody></table>
</li>
<li><p>输出重定向</p>
</li>
</ul>
<p>把原本应该输出到屏幕的信息，写到文件，称为重定向</p>
<p><code>命令&gt;文件</code> 覆盖  </p>
<p><code>命令&gt;&gt;文件</code>追加</p>
<p><code>命令 2&gt; 文件</code> &amp; <code>命令 2&gt;&gt; 文件</code> 错误输出重定向</p>
<h3 id="错误正确都可以写入"><a href="#错误正确都可以写入" class="headerlink" title="错误正确都可以写入"></a>错误正确都可以写入</h3><p><code>命令 &gt;&gt; 文件 2&gt;&amp;1 </code>   追加     </p>
<p><code>命令 &gt; 文件 2&gt;&amp;1</code>    覆盖 /dev/null 文件黑洞，不会</p>
<p>/dev/null 文件黑洞，不会输出任何结果</p>
<p># 把正确的和错误的分开保存</p>
<p><code>命令&gt;&gt;log1 2&gt;&gt;log2</code> 把正确的命令结果输入到log1，把错误的命令结果输出到log2</p>
<ul>
<li>输入重定向</li>
</ul>
<p>wc -c统计字节数   -w统计单词数  -l统计行数</p>
<p>从文件输入命令</p>
<p>wc &lt; 文件</p>
<h4 id="多命令顺序执行和管道符"><a href="#多命令顺序执行和管道符" class="headerlink" title="多命令顺序执行和管道符"></a>多命令顺序执行和管道符</h4><table>
<thead>
<tr>
<th>字符</th>
<th>格式</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>;</td>
<td>命令1 ;命令2</td>
<td>没有逻辑联系,第一条命令执行完执行第二条</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>命令1&amp;&amp;命令2</td>
<td>与关系，命令1正确执行命令2，反之都不执行</td>
</tr>
<tr>
<td>||</td>
<td>命令1||命令2</td>
<td>或关系，命令1正确不执行2，1不正确执行2</td>
</tr>
</tbody></table>
<ul>
<li>管道符</li>
</ul>
<p>命令1 |命令2</p>
<p>命令1的正确输出作为命令2的操作对象</p>
<p>例如： <code>ll -a /etc/ | more</code> more本来是分页显示文件内的内容，用管道符链接可以将命令的结果分页显示</p>
<ul>
<li><p>grep -i忽略大小写 -n输出行号 -v反向查找 –color=auto自动显示颜色</p>
<p>grep 搜索内容 文件名</p>
<p>grep也是对文件进行操作，结合管道符可以对命令的输出进行操作</p>
</li>
<li><p><code>netstat -an | grep &quot;ESTABLISHED&quot;</code>列出网络服务中已经建立连接的</p>
</li>
<li><pre><code> 通配符
</code></pre>
</li>
</ul>
<p>？ 代表一个任意字符</p>
<p><code>*</code>  代表0个或者多个</p>
<p>[]  匹配内容中任意一个字符</p>
<p>[-]  -表示一个范围，a-z就是匹配一个小写字母</p>
<p>[^] 逻辑非</p>
<h4 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h4><ul>
<li>自定义变量（本地变量）</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">log =&quot;money&quot;</span><br><span class="line">echo $log</span><br><span class="line">set #显示所有的变量</span><br></pre></td></tr></table></figure>

<p>和py相同，shell中也不需要对变量进行定义，输出变量是需要加上<code>$</code>符号</p>
<p><strong>变量名和等号之间不能有空格</strong></p>
<p>单引号以字符串的形式输出，双引号输出变量的内容</p>
<p>$（） 小括号中的字符串会当作系统命令</p>
<p>可以用转义\符号忽略$符号的特殊意义，利用花括号来限定一个变量的开始和结束比如</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">log = &quot;money&quot;</span><br><span class="line">echo&quot;i have lots of $&#123;log&#125;&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>环境变量</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export 变量名 = 变量值 #定义环境变量</span><br><span class="line">env #查询环境变量命令</span><br><span class="line">unset 变量名 #删除环境变量</span><br></pre></td></tr></table></figure>

<p>PATH 系统查看命令路径的地址，用冒号分割</p>
<p>将自己写的脚本放入环境变量推荐用变量叠加<code>PATH = &quot;$PATH&quot;:/脚本存放目录</code></p>
<p>PS1 定义系统提示符变量，需要改时再查</p>
<ul>
<li>位置变量</li>
</ul>
<p>位置参数变量的变量名称是固定的</p>
<table>
<thead>
<tr>
<th>位置参数变量</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>$n</td>
<td>n表示数字，$0表示命令本身，$1-$9表示第一个到第九个参数，10以上的需要用大括号包含如${10}</td>
</tr>
<tr>
<td>$*</td>
<td>包含所有参数的列表，看作一个整体</td>
</tr>
<tr>
<td>$@</td>
<td>包含所有参数的而列表,但把每个参数区分对待</td>
</tr>
<tr>
<td>$#</td>
<td>包含所有参数的个数</td>
</tr>
</tbody></table>
<p>位置参数一般跟在shell脚本的后面<code>bash test.sh 参数1 参数2 参数3</code></p>
<p>位置变量用于传递参数，可以类比成一个内建的数组。</p>
<p>$1保存的是第一个参数，$2保存的是第二个参数…以此类推（比如cp有两个参数，第一个参数保存在$1）</p>
<p>$0用于保存该脚本的名字</p>
<ul>
<li>预定义变量</li>
</ul>
<table>
<thead>
<tr>
<th>预定义变量</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>$？</td>
<td>最后一次执行命令返回状态。返回值为0表示命令正确执行，返回非0即为报错</td>
</tr>
<tr>
<td>$$</td>
<td>当前系统的进程号(pid)</td>
</tr>
<tr>
<td>$！</td>
<td>后台运行的最后一个进程号</td>
</tr>
</tbody></table>
<h3 id="接收键盘输入"><a href="#接收键盘输入" class="headerlink" title="接收键盘输入"></a>接收键盘输入</h3><p><code>read [选项] [变量名]</code></p>
<p>-p 提示信息</p>
<p>-t 秒数</p>
<p>-n 字符数，接受到n个字符之后直接执行不用回车</p>
<p>-s 隐藏输入数据</p>
<h3 id="数值运算和运算符"><a href="#数值运算和运算符" class="headerlink" title="数值运算和运算符"></a>数值运算和运算符</h3><p><code>declare [+/-] [选项]变量名</code></p>
<p><code>-</code> 给变量设定烈性数据</p>
<p><code>+</code> 取消类型属性</p>
<p>-i 设定变量为整型</p>
<p>-x 将变量声明为环境变量</p>
<p>-p 显示指定的变量为被声明的类型</p>
<ul>
<li>expr和let数值运算工具</li>
</ul>
<p> $(expr $a + $b)</p>
<h3 id="变量测试和内容替换"><a href="#变量测试和内容替换" class="headerlink" title="变量测试和内容替换"></a>变量测试和内容替换</h3><p>作用：通过x的值来判断y是否有值</p>
<p>用到再查</p>
<p><img src="https://github.com/LycsHub/ImageHosting/raw/master/%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95%E5%92%8C%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2.jpg" alt="变量测试和内容替换"></p>
<h4 id="数值运算-运算式-或者-运算式-（常用）"><a href="#数值运算-运算式-或者-运算式-（常用）" class="headerlink" title="数值运算 **$((运算式)) 或者$[运算式]**（常用）"></a>数值运算 **$((运算式)) 或者$[运算式]**（常用）</h4><p>两个小括号或者一个中括号就可以进行数值运算</p>
<h3 id="判断用户的参数-条件判断"><a href="#判断用户的参数-条件判断" class="headerlink" title="判断用户的参数(条件判断)"></a>判断用户的参数(条件判断)</h3><p>测试语句：<code>[ ]</code>,一个中括号两边都要有一个空格</p>
<table>
<thead>
<tr>
<th>操作符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>文件是否为目录类型</td>
</tr>
<tr>
<td>-e</td>
<td>文件是否存在</td>
</tr>
<tr>
<td>-f</td>
<td>是否为一般文件</td>
</tr>
<tr>
<td>-r</td>
<td>是否有权限读取</td>
</tr>
<tr>
<td>-w</td>
<td>是否有权限写</td>
</tr>
<tr>
<td>-x</td>
<td>是否有权限执行</td>
</tr>
</tbody></table>
<p><strong>注意：返回值为0表示真，1表示假</strong></p>
<p>[ -d /etc ] &amp;&amp; echo”yes” || echo “no”</p>
<p><code>$?</code>可以测试上条测试语句的执行的返回值</p>
<ul>
<li>文件比较</li>
</ul>
<p><code>file1 -nt file2</code> 文件1是否比文件2新,new than</p>
<p><code>file1 -ol file2</code>文件1是否比文件2旧</p>
<p><code>file1 -ef file2</code> 是否为同一个文件,比如判断两个文件是否是硬连接</p>
<ul>
<li>整数之间比较</li>
</ul>
<p>-eq  equal</p>
<p>-ne not equal</p>
<p>-gt great than</p>
<p>-lt low than</p>
<p>-ge great eauql</p>
<p>-le low equal</p>
<ul>
<li>字符串判断</li>
</ul>
<p>-z 字符串 是否为空(空true)</p>
<p>-n 字符串     是否为空(非空 ture)</p>
<p>字符串1 == 字符串2</p>
<p>字符串1 != 字符串2</p>
<ul>
<li>多重条件判断</li>
</ul>
<p><code>判断1 -a 判断2</code> 逻辑与,and</p>
<p><code>判断1 -o 判断2</code> 逻辑或,or</p>
<p><code>! 判断,</code>取反</p>
<h3 id="环境变量-1"><a href="#环境变量-1" class="headerlink" title="环境变量"></a>环境变量</h3><p>让当前的配置文件生效，不用重启</p>
<p><code>source 配置文件</code> 或者`. 配置文件</p>
<ul>
<li>环境变量配置文件</li>
</ul>
<p>PATH        HISSIZE                 PS1                HOSTNAME</p>
<ul>
<li>环境变量配置文件存放位置</li>
</ul>
<p>etc目录下任何用户都会生效</p>
<p><code>/etc/profile</code></p>
<p><code>/etc/profile.d/*.sh</code></p>
<p><code>~/.bash_profile</code>  此条和下一条是登录用户的家目录只有当前登录用户和root可以执行和查看</p>
<p><code>~/.bashrc</code></p>
<p><code>/etc/bashrc</code></p>
<ul>
<li><p>其他环境变量</p>
<ul>
<li><p>注销时生效的环境变量配置文件</p>
<p><code>~/.bash_logout</code></p>
</li>
<li><p>历史命令配置文件</p>
<p><code>~/.bash_history</code></p>
</li>
<li><p>本地终端登录信息/etc/issue</p>
</li>
<li><p>远程登录信息/etc/issue.net</p>
</li>
<li><p>登录后信息/etc/motd</p>
</li>
</ul>
</li>
</ul>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><ul>
<li>通配符是用来匹配符合条件的文件名，通配符是完全匹配；正则匹配的是文件中的匹配符合条件的字符串，是包含匹配</li>
</ul>
<h4 id="基础正则表达式"><a href="#基础正则表达式" class="headerlink" title="基础正则表达式"></a>基础正则表达式</h4><table>
<thead>
<tr>
<th>元字符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>前一个字符匹配0次或者仍以多次</td>
</tr>
<tr>
<td>.</td>
<td>匹配除了换行符外的任意一个字符</td>
</tr>
<tr>
<td>^</td>
<td>匹配行首.例如^hello会匹配以hello开头的行</td>
</tr>
<tr>
<td>$</td>
<td>匹配行尾</td>
</tr>
<tr>
<td>[]</td>
<td>匹配括号中指定的任意一个字符,只匹配一个字符</td>
</tr>
<tr>
<td>[^]</td>
<td>取反</td>
</tr>
<tr>
<td>\</td>
<td>转义</td>
</tr>
<tr>
<td><code>\&#123;n\&#125;</code></td>
<td>前面出现的字符恰好出现n次(这里\是转义,取消{}}特殊含义)</td>
</tr>
<tr>
<td><code>\&#123;n,\&#125;</code></td>
<td>表示前面的字符出现不小于n次</td>
</tr>
<tr>
<td><code>\&#123;n,m\&#125;</code></td>
<td>表示前面的字符至少出现n次至多出现m次</td>
</tr>
</tbody></table>
<p><code>grep &quot;正则表达式&quot; 文件名</code></p>
<h3 id="字符串截取命令"><a href="#字符串截取命令" class="headerlink" title="字符串截取命令"></a>字符串截取命令</h3><h4 id="cut-字符截取命令"><a href="#cut-字符截取命令" class="headerlink" title="cut 字符截取命令"></a>cut 字符截取命令</h4><ul>
<li>(只能适用于tab进行分割或者指定的符号进行分割情况比如”:”用-d指定)</li>
</ul>
<p><code>cut [option] 文件</code></p>
<p>-f 列号     提取第几列 </p>
<p>-d 分隔符 按照指定的分隔符分割列</p>
<p>比如:test.txt文件中有ab!cd的数据</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cut -d &quot;!&quot; -f 1#输出ab</span><br><span class="line">cut -d &quot;!&quot; -f 2#输出cd</span><br></pre></td></tr></table></figure>



<h4 id="printf-命令"><a href="#printf-命令" class="headerlink" title="printf 命令"></a>printf 命令</h4><p><code>printf &#39;输出类型输出格式&#39; 输出内容</code></p>
<p>输出内容:</p>
<p>%ns :输出字符串.n是表示几个字符</p>
<p>%ni:输出整数,n表哦是几个数字</p>
<p>%m.nf 输出浮点数,m表示总共输出几个位,n表示小数位数</p>
<p>输出格式:</p>
<p>  \n 换行</p>
<p>\t 制表</p>
<p>\r 回车</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">printf &#x27;%s&#x27; test.txt # out:&quot;test.txt&quot;</span><br><span class="line">cat test.txt | printf &#x27;%s&#x27; #没有输出</span><br><span class="line">printf &#x27;%s&#x27; $(cat student.txt) #只有这种括号里系统命令的方式才可</span><br></pre></td></tr></table></figure>



<h4 id="awk-命令"><a href="#awk-命令" class="headerlink" title="awk 命令"></a>awk 命令</h4><p><code>awk &#39;条件1 &#123;动作1&#125; 条件2&#123;动作2&#125;...&#39; 文件名</code></p>
<p>BEGIN{print “test!”} #会在所有的执行之前完成</p>
<p>END    #在所有命令执行之后再执行</p>
<p>{FS=”:”} #指定分隔符</p>
<p>动作:</p>
<ol>
<li>流程控制</li>
<li>格式化输出</li>
</ol>
<p>举例:输出非规则数量空格的命令截取</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h | awk &#x27;&#123;print $1 &quot;\t&quot; $5&#125;&#x27; #输出系统容量占用的第一列和第五列</span><br></pre></td></tr></table></figure>



<h4 id="sed-命令"><a href="#sed-命令" class="headerlink" title="sed 命令"></a>sed 命令</h4><p>sed命令也是一个文本编辑器,和vim一样,但是vim只能修改文本,不能修改命令输出</p>
<p><code>sed [option] &#39;[动作]&#39; 文件名</code></p>
<p>-n     加了-n会只将sed命令处理的结果输出到屏幕</p>
<p>-e 允许对输出应用多条sed命令编辑</p>
<p>-i 用sed的修改结果直接修改读取数据的文件,而不是由屏幕输出</p>
<p>动作:</p>
<p>a : 追加,添加一行或者多行,添加多行时要加\表示数据未完结,2a表示第二行之后插入</p>
<p>c : 行替换,用c之后的字符替换原数据行,替换多行时要加\表示数据未完结</p>
<p>i :插入,再当前行前插入一行或者多行,插入多行时结尾要加\表示数据未完结,2i在第二行之前插入</p>
<p>d :删除指定行,2,4d的意思为删除2-4行</p>
<p>p:打印输出指定行,2p第二行</p>
<p>s:字符替换,用一个字符替换另一个字符串    <code>行范围s/旧字符串/新字符串/g</code></p>
<h3 id="字符处理命令"><a href="#字符处理命令" class="headerlink" title="字符处理命令"></a>字符处理命令</h3><h4 id="排序命令"><a href="#排序命令" class="headerlink" title="排序命令"></a>排序命令</h4><p><code>sort [option] 文件名</code></p>
<p>默认按照字母顺序排序</p>
<p>-f :忽略大小写</p>
<p>-n : 以数值型进行排序</p>
<p>-r :反向排序</p>
<p>-t :指定分割符,默认是制表符</p>
<p>-k n[,m] : 按照指定的字段范围排序,从n个字段开始,m个字段结束,默认到行尾</p>
<h4 id="统计命令"><a href="#统计命令" class="headerlink" title="统计命令"></a>统计命令</h4><p><code>wc [option] 文件</code></p>
<p>-l 只统计行数</p>
<p>-w 只统计单词数</p>
<p>-m 只统计字符数</p>
<h3 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">if test-commands #test-commands就是条件判断式用[]括起来的测试语句</span><br><span class="line">then </span><br><span class="line">	commands</span><br><span class="line">fi </span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">多分支的<span class="keyword">if</span>语句</span></span><br><span class="line">if test-commands-1</span><br><span class="line">	then </span><br><span class="line">	commands-1</span><br><span class="line">elif test-commands-2</span><br><span class="line">	then</span><br><span class="line">	commands-2</span><br><span class="line">	...</span><br><span class="line">else</span><br><span class="line">	commands</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>值得注意的是，if语句中的条件判断不是以1为真执行的，而是判断块相当于一个函数，该函数的返回值如果为0，则if条件成立，如果不为0，则条件不成立，为假。同样的判断语句块不仅在此成立，while和until中同样适用。</p>
<h4 id="case"><a href="#case" class="headerlink" title="case"></a>case</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">case word in </span><br><span class="line">	pattern-1)</span><br><span class="line">		commands-1</span><br><span class="line">		;;</span><br><span class="line">	pattern-2)</span><br><span class="line">		commands-2</span><br><span class="line">		;;</span><br><span class="line">	...</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<p>;;符号相当于break语句</p>
<h4 id="while-amp-until"><a href="#while-amp-until" class="headerlink" title="while &amp; until"></a>while &amp; until</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">while test-commands</span><br><span class="line">do</span><br><span class="line">	commands</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">until test-commands</span><br><span class="line">do</span><br><span class="line">	commands</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>while和until的区别在于，while是语句块成真（返回值为0）时做do，而until时当语句块为假（返回值为1）时做do</p>
<h4 id="for"><a href="#for" class="headerlink" title="for"></a>for</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for variable in list #这个list可以是单独的文件比如1.txt 2.txt也可以是cat test.txt然后文件中有空格或者tab分割相当于py中的列表  </span><br><span class="line">do </span><br><span class="line">	commands</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者常规编程语言的习惯</span></span><br><span class="line">for(( i=1;i&lt;=100;i++ ))</span><br></pre></td></tr></table></figure>

<h4 id="function"><a href="#function" class="headerlink" title="function"></a>function</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function funname()</span><br><span class="line">&#123;</span><br><span class="line">    return int;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>例如<code>a=(1 2 3 4 5)</code></p>
<h2 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h2><p>服务分类:</p>
<ol>
<li>rpm包默认安装的服务(独立的服务,基于xinetd的服务)</li>
<li>源码包安装的服务</li>
</ol>
<p>xinetd后台管理一系列独立的服务,用户只能通过访问xinetd的服务间接访问后台管理的服务</p>
<p>而独立的服务就是直接可以在内存中被访问到而不需要经过xinetd</p>
<p>查询rpm已经安装的服务:</p>
<p>chkconfig –list  #查看自启动查看命令rpm  # unbuntu下使用sysv-rc-conf工具</p>
<ul>
<li>ps aux</li>
<li>netstat -tlun</li>
</ul>
<p>查看源码包安装的位置:一般是/usr/local</p>
<h3 id="rpm包安装的服务"><a href="#rpm包安装的服务" class="headerlink" title="rpm包安装的服务"></a>rpm包安装的服务</h3><ul>
<li>rpm包服务产生的数据:<code>/var/lib/</code></li>
<li>rpm包服务产生的日志:<code>/var/log/</code></li>
</ul>
<h4 id="rpm包独立服务的管理"><a href="#rpm包独立服务的管理" class="headerlink" title="rpm包独立服务的管理"></a>rpm包独立服务的管理</h4><p>启动脚本的位置:<code>/etc/init.d/</code></p>
<p>初始化配置文件:<code>/etc/sysconfig/</code></p>
<p>启动命令:<code>/etc/init.d/服务名 start|stop|status|restart</code>  或者<code>service 服务名 start|stop|status|restart</code></p>
<p>查看所有服务安装的状态:<code>service --status-all</code></p>
<p>修改<em><strong>自启动</strong></em>*方法:</p>
<ul>
<li><strong>修改/etc/rc.local文件:往文件中加入 标准的绝对路径启动命令,就会开启自启动服务</strong>(适用于源码包安装和rpm包安装的服务)<ul>
<li>/etc/rc.local 的作用是在开机之后用户输入密码之前运行的脚本</li>
</ul>
</li>
<li>ntsysv命令启动管理自启动,类似setup. (ubuntu中用sysv-rc-conf替代)</li>
</ul>
<h4 id="rpm包基于xinetd服务的管理"><a href="#rpm包基于xinetd服务的管理" class="headerlink" title="rpm包基于xinetd服务的管理"></a>rpm包基于xinetd服务的管理</h4><p>启动脚本的位置:<code>/etc/xinetd.d/</code></p>
<p>xinetd配置文件:<code>/etc/xinetd.conf</code></p>
<p>xinetd服务的启动:</p>
<p>修改<code>/etc/xinetd.d/服务名</code>中的disable来启动服务,修改完配置文件后需要重启xinetd的服务,service xinetd restart</p>
<ul>
<li>xinetd中启动和自启动没区别,更改了配置文件启动后,自动开机启动.</li>
</ul>
<h3 id="源码包安装服务"><a href="#源码包安装服务" class="headerlink" title="源码包安装服务"></a>源码包安装服务</h3><ul>
<li>启动</li>
</ul>
<p>在源码包中找到安装说明打开,找到启动的绝对路径,终端输入回车,即<code>绝对路径 start|stop|status|restart</code></p>
<ul>
<li>自启动</li>
</ul>
<p>在源码包中找到安装说明打开,找到启动的绝对路径就可以,写入/etc/rc.local文件中</p>
<ul>
<li>让源码包服务可以被服务管理命令识别(service 服务名)</li>
</ul>
<p>只需要做一个软连接</p>
<p><code>ln  -s  启动命令 /etc/init.d/自定义一个服务名</code></p>
<h3 id="ssh-服务"><a href="#ssh-服务" class="headerlink" title="ssh 服务"></a>ssh 服务</h3><ul>
<li><p>开启密钥关闭密码</p>
<ol>
<li>生成密钥对</li>
</ol>
<p><code>ssh-keygen -t rsa</code> 生成public key &amp; private key</p>
<p>/root/.ssh/id_rsa为private key</p>
<p>/root/.ssh/id_rsa.pub为public key</p>
<p>复制private key到本地进行，给予权限</p>
<ol start="2">
<li><p>修改ssh配置</p>
<p>/etc/ssh/sshd_config</p>
<p>中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PasswordAuthentication no</span><br><span class="line">PubkeyAuthentication yes ##使用key登录</span><br><span class="line">AuthorizedKeysFile .ssh/authorized_keys ##public key的名字</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<p>​    <strong>记得重启sshd服务</strong></p>
<p><code>service sshd restart</code></p>
<ol start="3">
<li><p>尝试登录</p>
<p>尝试用密钥登录</p>
</li>
</ol>
<h2 id="linux系统管理"><a href="#linux系统管理" class="headerlink" title="linux系统管理"></a>linux系统管理</h2><h3 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h3><h4 id="查看系统当中所有进程ps"><a href="#查看系统当中所有进程ps" class="headerlink" title="查看系统当中所有进程ps"></a>查看系统当中所有进程ps</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps aux   #unix标准,bsd操作格式</span><br><span class="line">ps -le  #linux标准</span><br></pre></td></tr></table></figure>

<p>输出七个字段的解释:<br>USER     PID       %CPU      %MEM       VSZ     RSS      TTY          STAT      START      TIME        COMMAND</p>
<pre><code>VSZ:占用虚拟内存大小,单位kB

RSS:占用实际物理内存大小,单位KB

TTY:终端号,tty1-7代表本地控制终端,1~6是本地字符终端,tty7是图形终端,pts/0-255代表虚拟终端(远程登录)

STAT:status,R运行,S睡眠,T停止,s包含子进程,+位于后台

START:启动时间

TIME:cpu运算时间

COMMAND:产生进程的命令 
</code></pre>
<h4 id="查看系统状态"><a href="#查看系统状态" class="headerlink" title="查看系统状态"></a>查看系统状态</h4><p><code>top [option]</code></p>
<pre><code>-d 秒数,默认是三秒更新一次

P    cpu使用率排序,默认即为此项

M    以内存的使用率排序

N     以pid排序

q   退出top
</code></pre>
<h4 id="查看进程树"><a href="#查看进程树" class="headerlink" title="查看进程树"></a>查看进程树</h4><p><code>pstree [option]</code></p>
<p>-p :显示进程pid,详细显示</p>
<p>-u:显示进程的所属用户</p>
<h4 id="终止进程"><a href="#终止进程" class="headerlink" title="终止进程"></a>终止进程</h4><ol>
<li><p>kill命令(根据pid终止进程)</p>
<p><code>kill [signal] 进程pid</code>#-l显示所有数字选项</p>
<p>-1   重启</p>
<p>-9   强制终止</p>
<p>-15  默认信号,即正常终止进程</p>
</li>
<li><p>killall命令(根据进程名终止进程)</p>
<p><code>kill [option] [signal] 进程名</code></p>
<p>option:</p>
<p>-i   交互式,会询问是否要杀死某个进程</p>
<p>-I   忽略进程名大小写</p>
<p>signal和kill命令一样</p>
</li>
<li><p>pkill命令</p>
<p>按照进程名终止进程,和killall相同</p>
<p><code>pkill [option] [signal] 进程名</code></p>
<p>多了一个选项<code>-t   终端号</code>按照终端号(终端号就是TTY的值)踢出用户</p>
<ul>
<li><p>使用w查询本机已经登录的用户</p>
</li>
<li><p>踢出用户<code>pkill -t -9 终端号</code></p>
</li>
</ul>
</li>
</ol>
<h3 id="工作管理"><a href="#工作管理" class="headerlink" title="工作管理"></a>工作管理</h3><h4 id="任务后台"><a href="#任务后台" class="headerlink" title="任务后台"></a>任务后台</h4><ol>
<li>在一条命令的结尾加入一个”&amp;”,系统会在后台执行任务直到完成任务</li>
<li>在任务执行的过程中,ctrl+Z表示暂停任务(ctrl+C表示结束)</li>
</ol>
<h4 id="查看后台在执行的任务"><a href="#查看后台在执行的任务" class="headerlink" title="查看后台在执行的任务"></a>查看后台在执行的任务</h4><p><code>jobs [option] </code></p>
<p>-l  显示pid</p>
<p>“+”表示最后一个放入后台的工作,默认恢复的工作</p>
<p>“-“表示倒数第二个放入后台的工作</p>
<h4 id="恢复后台暂停的任务到前台"><a href="#恢复后台暂停的任务到前台" class="headerlink" title="恢复后台暂停的任务到前台"></a>恢复后台暂停的任务到前台</h4><p><code>fg %工作号</code></p>
<p>工作号是jobs的第一个字段的数字</p>
<p><strong>%号可以省略</strong>,恢复的就是jobs中显示+号的任务.</p>
<p>kill %工作号</p>
<h4 id="把后台暂停的任务继续后台执行"><a href="#把后台暂停的任务继续后台执行" class="headerlink" title="把后台暂停的任务继续后台执行"></a>把后台暂停的任务继续后台执行</h4><p><code>bg %工作号</code></p>
<h4 id="系统资源查看"><a href="#系统资源查看" class="headerlink" title="系统资源查看"></a>系统资源查看</h4><ol>
<li><p>vmstat监控系统资源</p>
<p><code>vmstat [刷新延时][刷新次数] </code></p>
</li>
<li><p>dmesg开机时内核检测信息,cpu等硬件信息</p>
</li>
<li><p>free [-b | -k | -m | -g] 内存使用状态</p>
<p>-b   以字节为单位显示</p>
<p>-k  以KB为单位显示</p>
<p>-m  以MB为单位显示</p>
<p>-g 以GB为单位显示</p>
</li>
<li><p>cat /proc/cpuinfo   显示cpu信息</p>
</li>
<li><p>uptime    显示top的第一行</p>
</li>
<li><p>uname [option]</p>
<p>-a   查看系统的所有信息</p>
<p>-r    查看内核的版本</p>
<p>-s    查看内核的名称</p>
<p>-m  查看操作系统位数</p>
</li>
<li><p>linux发行版本 lsb_release -a</p>
</li>
<li><p>lsof  [option]列出进程打开或使用的文件信息</p>
<p>-c  字符串 :只列出字符串开头的进程打开的文件</p>
<p>-u 用户名    : 只列出某个用户的进程打开的文件</p>
<p>-p pid :列出某个pid进程打开的文件</p>
<p>lsof -i :[ｐｏｒｔ]查看某个port的端口号</p>
</li>
</ol>
<h4 id="定时任务crond"><a href="#定时任务crond" class="headerlink" title="定时任务crond"></a>定时任务crond</h4><ul>
<li><p>一次性计划任务at（atom）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">在23:20重启网站服务</span></span><br><span class="line">at 23:30 # 进入交互式模式</span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> systemctl restart httpd</span></span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> 按下ctrl+d</span></span><br><span class="line">at -l #列出所有的一次性定时性任务</span><br><span class="line">atrm [数字] # 根据上一条命令列出的序号选择删除</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">不采用交互式直接写计划任务</span></span><br><span class="line">echo &quot;systemctl restart httpd&quot; | at 23:30       </span><br></pre></td></tr></table></figure></li>
<li><p>长期性计划任务</p>
<p><code>crontab [option]</code></p>
<p>-e  编辑crontab定时任务</p>
<p>-l   查询现有的crontab任务</p>
<p>-r   删除当前用户所有的crontab任务</p>
<p><strong>如果是当前用户直接crontab -e进入编辑状态</strong></p>
<p>格式 ：  <code>分、时、日、月、星期 命令</code></p>
<p>分0-59,一个小时的第几分钟</p>
<p>时0-23</p>
<p>日1-31</p>
<p>月1-12</p>
<p>星期 0,7都代表礼拜日</p>
<p>*代表任何时间</p>
<p>,表示不连续的时间</p>
<p>-表示连续的时间范围</p>
<p>*/n 表示每隔n分钟执行一次</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">当前用户下指定定时任务</span></span><br><span class="line">crontab -e#回车就可以进入编辑页面</span><br><span class="line"><span class="meta">#</span><span class="bash">usage:</span></span><br><span class="line">crontab [ -u user ] file</span><br><span class="line">crontab [ -u user ] &#123; -l | -r | -e &#125;</span><br><span class="line"><span class="meta">#</span><span class="bash">example,相当于进入了一个crontab文件里面，直接写命令就行</span></span><br><span class="line">crontab -r</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong></p>
<ul>
<li>除了用逗号（,）来分别表示多个时间段，例如“8,9,12”表示8月、9月和12月。还可以用减号（-）来表示一段连续的时间周期（例如字段“日”的取值为“12-15”，则表示每月的12～15日）。以及用除号（/）表示执行任务的间隔时间（例如“*/2”表示每隔2分钟执行一次任务）</li>
<li>在crond服务的计划任务参数中，所有命令一定要用绝对路径的方式来写</li>
</ul>
</li>
</ul>
<h2 id="日志管理"><a href="#日志管理" class="headerlink" title="日志管理"></a>日志管理</h2><p>  /var/log/cron  记录了定时任务相关日志</p>
<p>  /var/log/cups/ 记录了打印信息的日志</p>
<p>  /var/log/dmesg  记录了系统在开机时自检的信息</p>
<p>  /var/log/btmp  吧记录错误登录的日志,该文件是个二进制文件,只能用lastb命令查看</p>
<p>  /var/log/lastlog  记录系统中所有用户最后一次登录时间日志,也是二进制文件,用lastlog命令查看</p>
<p>  /var/log/maillog  记录邮件信息</p>
<p>  /var/log/message  记录系统重要的信息的日志</p>
<p>  /var/log/secure  记录验证和授权的方面信息,设计用户密码都会记录</p>
<p>  /var/log/wtmp    永久记录所有用户的登录注销信息,记录的用户的启动重启关机时间,只能用last命令查看</p>
<p>  /var/run/utmp   记录当前已经登录的用户信息,文件会伴随着用户的登录和注销不断的变化,只能用w,who,users命令来查看</p>
<h3 id="rsyslogd日志服务"><a href="#rsyslogd日志服务" class="headerlink" title="rsyslogd日志服务"></a>rsyslogd日志服务</h3><p>  基本日志包含四列:</p>
<ul>
<li>事件发生的时间</li>
<li>产生时间的主机名</li>
<li>产生事件的服务名</li>
<li>产生的日志具体信息</li>
</ul>
<p>  /etc/rsyslog.conf 配置文件内容</p>
<p>  例子: authpriv.*    /var/log/secure</p>
<p>  #<code>服务名称  [连接符号]  日志等级     日志所在的位置</code></p>
<ul>
<li><p>服务名称</p>
<table>
<thead>
<tr>
<th>服务名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>auth</td>
<td>安全和认证相关消息(不推荐用authpriv替代)</td>
</tr>
<tr>
<td>authpriv</td>
<td>安全和认证的相关消息</td>
</tr>
<tr>
<td>cron</td>
<td>系统定时任务cront和at产生的日志</td>
</tr>
<tr>
<td>daemon</td>
<td>各个守护进程相关的日志</td>
</tr>
<tr>
<td>kern</td>
<td>内核产生的日志</td>
</tr>
<tr>
<td>local10-local7</td>
<td>为本地服务使用预留的服务</td>
</tr>
<tr>
<td>lpr</td>
<td>打印产生的日志</td>
</tr>
<tr>
<td>ftp</td>
<td>ftp守护进程产生的日志</td>
</tr>
</tbody></table>
</li>
<li><p>连接符号</p>
<table>
<thead>
<tr>
<th>连接符号</th>
<th>识别等级</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>表示所有的日志等级.比如authpriv.*表示authpriv认证服务信息产生的日志所有的日志等级都记录</td>
</tr>
<tr>
<td>.</td>
<td>代表只要比后面等级高的(包含该等级)日志都记录下来,比如cron.info就是代表cron产生的日志比info高的都记录</td>
</tr>
<tr>
<td>.-=</td>
<td>表示只记录所需要的等级,,其他等级不仅录</td>
</tr>
<tr>
<td>.!</td>
<td>表示除了该等级的日志外其他等级都记录</td>
</tr>
</tbody></table>
</li>
<li><p>日志等级</p>
<table>
<thead>
<tr>
<th>等级名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>debug</td>
<td>一般的调试信息的说明</td>
</tr>
<tr>
<td>info</td>
<td>基本的通知信息</td>
</tr>
<tr>
<td>notice</td>
<td>普通信息,但有一定重要性</td>
</tr>
<tr>
<td>warning</td>
<td>警告等级,但还不会影响服务和系统运行</td>
</tr>
<tr>
<td>err</td>
<td>错误信息,说明可以影响到服务或系统运行</td>
</tr>
<tr>
<td>crit</td>
<td>临界状态信息</td>
</tr>
<tr>
<td>alert</td>
<td>警告状态信息,必须立即采取行动`</td>
</tr>
<tr>
<td>emerg</td>
<td>紧急等级信息,系统gg或即将gg</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="日志轮替"><a href="#日志轮替" class="headerlink" title="日志轮替"></a>日志轮替</h3><ul>
<li><p>日志文件的命名规则</p>
<ul>
<li><p>如果配置文件中有dateext参数,就会以日期作为日志文件的后缀</p>
</li>
<li><p>如果没有加dateext参数,日志温煦会自动改名,按照自然数序列自动往上加</p>
</li>
</ul>
</li>
<li><p>日志轮替的配置文件</p>
<p>/etc/logrotate.conf</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>参数说明</th>
</tr>
</thead>
<tbody><tr>
<td>daily</td>
<td>日志轮替的周期是每天</td>
</tr>
<tr>
<td>weekly</td>
<td>周期是每周</td>
</tr>
<tr>
<td>monthly</td>
<td>每月</td>
</tr>
<tr>
<td>rotate 数字</td>
<td>保留日志文件的个数,0是没有备份</td>
</tr>
<tr>
<td>compress</td>
<td>日志轮替时,旧的日志进行压缩</td>
</tr>
<tr>
<td>create mode owner group</td>
<td>建立新的日志,同时指定新日志的权限和所有者和所属组.如create 0600 root utmp</td>
</tr>
<tr>
<td>mail address</td>
<td>日志轮替的时候,输出内容通过右键发送到指定邮件地址.mail 邮件地址</td>
</tr>
<tr>
<td>missingok</td>
<td>如果日志不存在,忽略该日志警告信息</td>
</tr>
<tr>
<td>notifempty</td>
<td>日志为空文件,则不进行日志轮替</td>
</tr>
<tr>
<td>minsize 大小</td>
<td>日志轮替的最小值,只有日志达到这个值才会轮替</td>
</tr>
<tr>
<td>size 大小</td>
<td>日志只有大于指定大小才会轮替,而不是按照时间轮替. 比如 size 100k</td>
</tr>
<tr>
<td>dateext</td>
<td>使用日期作为日志轮替文件的后缀</td>
</tr>
</tbody></table>
</li>
</ul>
<p>  rpm包安装不需要手动做日志轮替,只有源码包需要</p>
<p>  logratate命令</p>
<p>  <code>logrotate [option]    配置文件名</code>  默认的配置文件为/etc/logrotate.conf</p>
<p>  -v   显示日志轮替的过程,</p>
<p>  -f 强制日志轮替,忽略条件是否符合.</p>
<h2 id="启动管理"><a href="#启动管理" class="headerlink" title="启动管理"></a>启动管理</h2><h3 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h3><table>
<thead>
<tr>
<th>运行级别</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>关机</td>
</tr>
<tr>
<td>1</td>
<td>单用户模式,主要用于系统修复</td>
</tr>
<tr>
<td>2</td>
<td>不完全的命令行模式,不含nfs服务</td>
</tr>
<tr>
<td>3</td>
<td>完全的命令行模式,就是标准字符界面</td>
</tr>
<tr>
<td>4</td>
<td>系统保留</td>
</tr>
<tr>
<td>5</td>
<td>图形模式</td>
</tr>
<tr>
<td>6</td>
<td>重启动</td>
</tr>
</tbody></table>
<ul>
<li>运行级别命令</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runlevel #查看运行级别</span><br><span class="line">init 运行级别 #改变运行级别命令</span><br></pre></td></tr></table></figure>

<ul>
<li>系统默认运行级别 </li>
</ul>
<p>​       在文件/etc/inittab,修改配置文件即可.</p>
<p>​        这个配置文件在最新的发行版中以及不生效了,<code>sudo systemctl set-default runlevel5.target</code>运行级别相同,语法改成如上即可</p>
<h3 id="启动过程"><a href="#启动过程" class="headerlink" title="启动过程"></a>启动过程</h3><p>![linux sys ](<a target="_blank" rel="noopener" href="https://github.com/LycsHub/ImageHosting/raw/master/linux">https://github.com/LycsHub/ImageHosting/raw/master/linux</a> sys .jpg)</p>
<p>“内核解压并且自检”这一步之后因为linux默认调用的是ide接口的驱动无法加载sata接口硬盘,而装有sata驱动模块在硬盘中,形成死锁.</p>
<p>为了解决这个问题linux引入了一个叫做initramfs的文件放在boot目录下,在mbr加载引导程序的时候加载这个文件,这个文件是一个类似整个linux的文件系统目录的文件,被系统内核加载之后linux可以跳过读取硬盘的步骤,直接在iniramfs中读取所需要的驱动和依赖,解决死锁问题</p>
<p>在”挂载真正的根目录”后系统开始调用启动程序,并且根据各种文件确定启动的系统的运行级别和需要启动的服务,最后进入系统完成开机</p>
<ul>
<li><p>关于调用/etc/rc[0-6].d文件</p>
<p>由这个脚本文件按照不同的运行级别启动相应的程序,</p>
<ul>
<li>k开头的文件是按照数字顺序默认关闭(kill)</li>
<li>s开头的文件是按照数字顺序默认启动(start)</li>
</ul>
</li>
</ul>
<h3 id="grub配置文件"><a href="#grub配置文件" class="headerlink" title="grub配置文件"></a>grub配置文件</h3><p>/boot/grub/grub.conf</p>
<p>![linux grub](<a target="_blank" rel="noopener" href="https://github.com/LycsHub/ImageHosting/raw/master/linux">https://github.com/LycsHub/ImageHosting/raw/master/linux</a> grub.jpg)</p>
<p>该文件中default=0是启动第一个操作系统</p>
<p>timeout是等待时间</p>
<p>hiddenmenu是隐藏菜单</p>
<h4 id="grub加密和调整字符界面分辨率"><a href="#grub加密和调整字符界面分辨率" class="headerlink" title="grub加密和调整字符界面分辨率"></a>grub加密和调整字符界面分辨率</h4><h4 id="grub加密"><a href="#grub加密" class="headerlink" title="grub加密"></a>grub加密</h4><ol>
<li>生成加密密码串 <code>grub-md5-crypt</code></li>
<li>在grub.conf中加入<code>password --md5 加密后内容</code></li>
</ol>
<h4 id="字符界面分辨率调整"><a href="#字符界面分辨率调整" class="headerlink" title="字符界面分辨率调整"></a>字符界面分辨率调整</h4><p>没啥屌用</p>
<h3 id="系统修复模式"><a href="#系统修复模式" class="headerlink" title="系统修复模式"></a>系统修复模式</h3><ul>
<li>单用户模式</li>
</ul>
<p>在grub启动的界面选择按e进入编辑然后选择内核接着按e,quit后加一个1保存后退回界面然后b启动</p>
<ul>
<li><p>光盘修复模式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">先进入救援模式</span></span><br><span class="line"><span class="meta">#</span><span class="bash">以下演示的例子是误删文件inittab</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>chroot /mnt/sysimage#更改主目录进入系统</p>
<p>cd /root</p>
<p>rpm -qf /etc/inittab #查询/etc/inittab属于哪个包</p>
<p>mkdir /mnt/cdrom #建立挂载点</p>
<p>  mount /dev/sr0 /mnt/cdrom #挂载光盘</p>
<p>  rpm2cpio /mnt/cdrom/Packages/包名 | cpio -idv ./etc/inittab # 提取inittab到当前目录<br>  cp /etc/inittab /etc/inittab  #复制文件到指定位置</p>
<h2 id="数据备份"><a href="#数据备份" class="headerlink" title="数据备份"></a>数据备份</h2><p>需要备份目录:</p>
<p>/root</p>
<p>/home</p>
<p>/var/spool/mail</p>
<p>/etc</p>
<p>其他目录</p>
<ul>
<li>apache备份的数据<ul>
<li>配置文件</li>
<li>网页主目录</li>
<li>日志文件</li>
</ul>
</li>
<li>mysql需要备份的数据<ul>
<li>源码包:/usr/local/mysql/data</li>
<li>rpm包:/var/lib/mysql</li>
</ul>
</li>
</ul>
<h3 id="备份命令"><a href="#备份命令" class="headerlink" title="备份命令"></a>备份命令</h3><ul>
<li><p>dump命令</p>
<p><code>dump [option] 备份后文件名 源文件或者目录</code></p>
<p>-level:0-9个备份等级</p>
<p>-f:文件名</p>
<p>-u:备份成功后,把备份时间记录在/etc/dumpdates文件</p>
<p>-v:显示备份过程中输出更多信息</p>
<p>-j:调换bzlib库压缩备份文件,其实就是把备份文件压缩为.bz2格式</p>
<p>-W:显示允许被dump的分区备份等级及备份时间</p>
</li>
<li><p>restore命令</p>
<p><code>restore [mode] [option]</code></p>
<p>4个模式不能混用</p>
<p>-C 比较备份数据和实际数据的变化</p>
<p>-i 进入交互模式,手工选择需要恢复的文件</p>
<p>-t  查看模式,用于查看备份文件中用有哪些数据</p>
<p>-r 还原模式,用于数据还原</p>
<p>option</p>
<p>-f 指定备份文件的文件名</p>
</li>
</ul>
<h2 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h2><p><code>apt-get install lrzsz</code>安装lrzsz让linux支持xshell自带的zmodem</p>
<ul>
<li><p>缓存cache和缓冲buffer的区别</p>
</li>
<li><p>cache是利用内存加速数据从硬盘读取的速度</p>
</li>
<li><p>buffer则是利用内存加速数据写入硬盘的速度</p>
</li>
</ul>
<p>init3下终端输入中文方法：</p>
<p>利用：zhcon，输入命令<code>zhcon --utf8</code></p>
<p>进入终端界面后使用CTRL+2进行输入法切换</p>
<p>ubuntu 图形化，应用中心的图标快捷方式，应用在/usr/share/application</p>
<ul>
<li>mysql开启远程访问</li>
</ul>
<p>使用SSH连接到服务器，登录到MySQL</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p 数据库root密码</span><br></pre></td></tr></table></figure>

<p>写入SQL语句,开启远程访问</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;  use mysql;</span><br><span class="line">mysql&gt;  update user set host = &#x27;%&#x27; where user = &#x27;root&#x27;;</span><br></pre></td></tr></table></figure>

<p>运行下面的语句，查看设置是否生效（显示%的值）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select host,user from user where user=&#x27;root&#x27;</span><br></pre></td></tr></table></figure>

<p>退出MySQL命令，回到Linux命名模式，重启MySQL</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart mysqld</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://support.websoft9.com/docs/mysql/zh/stack-accounts.html#mysql">https://support.websoft9.com/docs/mysql/zh/stack-accounts.html#mysql</a></p>
<p><a target="_blank" rel="noopener" href="https://support.websoft9.com/docs/linux/zh/#%E6%94%B9%E8%BF%9B">https://support.websoft9.com/docs/linux/zh/#%E6%94%B9%E8%BF%9B</a></p>
<p><strong>iconv  -f gbk -t utf-8 index.html &gt; aautf8.html</strong></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"># Linux</a>
              <a href="/tags/%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/" rel="tag"># 基础操作</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/11/06/android/" rel="prev" title="Android语法笔记(Java)">
      <i class="fa fa-chevron-left"></i> Android语法笔记(Java)
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/11/06/go/" rel="next" title="GO语法笔记">
      GO语法笔记 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux%EF%BC%88centos6%EF%BC%89"><span class="nav-number">1.</span> <span class="nav-text">Linux（centos6）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.</span> <span class="nav-text">Linux常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.1.</span> <span class="nav-text">文件处理命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.2.</span> <span class="nav-text">权限管理命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%90%9C%E7%B4%A2%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.1.3.</span> <span class="nav-text">文件搜索系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.4.</span> <span class="nav-text">帮助命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.5.</span> <span class="nav-text">解压缩命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.6.</span> <span class="nav-text">网络命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF"><span class="nav-number">1.1.7.</span> <span class="nav-text">关机重启</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">1.1.8.</span> <span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vim"><span class="nav-number">1.1.9.</span> <span class="nav-text">vim</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%B7%A5rpm%E5%8C%85%E7%AE%A1%E7%90%86"><span class="nav-number">1.1.10.</span> <span class="nav-text">手工rpm包管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rpm%E5%8C%85%E7%AE%A1%E7%90%86%E5%91%BD%E5%90%8D%E5%92%8C%E4%BE%9D%E8%B5%96%E6%80%A7"><span class="nav-number">1.1.10.1.</span> <span class="nav-text">rpm包管理命名和依赖性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%8D%87%E7%BA%A7%E4%B8%8E%E5%8D%B8%E8%BD%BD"><span class="nav-number">1.1.10.2.</span> <span class="nav-text">安装升级与卸载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.1.10.3.</span> <span class="nav-text">查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%88%E9%AA%8C"><span class="nav-number">1.1.10.4.</span> <span class="nav-text">效验</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E7%BA%BFrpm%E5%8C%85%E7%AE%A1%E7%90%86"><span class="nav-number">1.1.11.</span> <span class="nav-text">在线rpm包管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IP%E5%9C%B0%E5%9D%80%E9%85%8D%E7%BD%AE%E5%92%8C%E7%BD%91%E7%BB%9Cyum%E6%BA%90"><span class="nav-number">1.1.11.1.</span> <span class="nav-text">IP地址配置和网络yum源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#yum%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.11.2.</span> <span class="nav-text">yum命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%89%E7%9B%98yum%E7%9A%84%E6%90%AD%E5%BB%BA"><span class="nav-number">1.1.11.3.</span> <span class="nav-text">光盘yum的搭建</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85-amp-rpm%E5%8C%85"><span class="nav-number">1.1.12.</span> <span class="nav-text">源码包&amp;rpm包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C"><span class="nav-number">1.1.13.</span> <span class="nav-text">网络</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9ip"><span class="nav-number">1.1.13.1.</span> <span class="nav-text">修改ip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="nav-number">1.1.13.2.</span> <span class="nav-text">查看主机名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BD%91%E5%8D%A1%E8%AE%BE%E5%A4%87%E5%BC%80%E5%85%B3"><span class="nav-number">1.1.13.3.</span> <span class="nav-text">网卡设备开关</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81"><span class="nav-number">1.1.13.4.</span> <span class="nav-text">查看网络状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.13.5.</span> <span class="nav-text">域名解析命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ping%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.13.6.</span> <span class="nav-text">ping命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#telnet%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.13.7.</span> <span class="nav-text">telnet命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#traceroute"><span class="nav-number">1.1.13.8.</span> <span class="nav-text">traceroute</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#wget%E5%91%BD%E4%BB%A4-%E4%B8%8B%E8%BD%BD"><span class="nav-number">1.1.13.9.</span> <span class="nav-text">wget命令,下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SCP%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.13.10.</span> <span class="nav-text">SCP命令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%92%8C%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="nav-number">1.2.</span> <span class="nav-text">用户和用户组管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="nav-number">1.2.1.</span> <span class="nav-text">用户管理命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">添加用户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">修改密码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">删除用户</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="nav-number">1.2.2.</span> <span class="nav-text">用户组管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%BB%84"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">添加组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%BB%84"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">修改组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%BB%84"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">删除组</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="nav-number">1.3.</span> <span class="nav-text">权限管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#acl%E6%9D%83%E9%99%90"><span class="nav-number">1.3.0.1.</span> <span class="nav-text">acl权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90"><span class="nav-number">1.3.0.2.</span> <span class="nav-text">文件特殊权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B1%9E%E6%80%A7chattr%E6%9D%83%E9%99%90"><span class="nav-number">1.3.0.3.</span> <span class="nav-text">文件系统属性chattr权限</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sudo%E6%9D%83%E9%99%90"><span class="nav-number">1.3.0.4.</span> <span class="nav-text">sudo权限</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%8C%BA%E5%91%BD%E4%BB%A4"><span class="nav-number">1.4.</span> <span class="nav-text">分区命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%88%86%E5%8C%BA%E4%BF%A1%E6%81%AFdisk-free"><span class="nav-number">1.4.0.1.</span> <span class="nav-text">查看分区信息disk free</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%98%BE%E7%A4%BA%E7%9B%AE%E5%BD%95%E5%92%8C%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%A7%E5%B0%8Fdata-usage"><span class="nav-number">1.4.0.2.</span> <span class="nav-text">显示目录和文件的大小data usage</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%82%E8%BD%BD"><span class="nav-number">1.4.0.3.</span> <span class="nav-text">挂载</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%82%E8%BD%BD%E5%85%89%E7%9B%98"><span class="nav-number">1.4.0.3.1.</span> <span class="nav-text">挂载光盘</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%82%E8%BD%BDu%E7%9B%98"><span class="nav-number">1.4.0.3.2.</span> <span class="nav-text">挂载u盘</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%B8%E8%BD%BD%E8%AE%BE%E5%A4%87"><span class="nav-number">1.4.0.4.</span> <span class="nav-text">卸载设备</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fdisk%E8%BF%9B%E8%A1%8C%E5%88%86%E5%8C%BA"><span class="nav-number">1.4.1.</span> <span class="nav-text">fdisk进行分区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD%E5%92%8Cfstab%E6%96%87%E4%BB%B6%E4%BF%AE%E5%A4%8D"><span class="nav-number">1.4.2.</span> <span class="nav-text">自动挂载和fstab文件修复</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E9%85%8Dswap%E5%88%86%E5%8C%BA"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">分配swap分区</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shell"><span class="nav-number">1.5.</span> <span class="nav-text">shell</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%AD%A3%E7%A1%AE%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%86%99%E5%85%A5"><span class="nav-number">1.5.1.</span> <span class="nav-text">错误正确都可以写入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%91%BD%E4%BB%A4%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%E5%92%8C%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">多命令顺序执行和管道符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">定义变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E6%94%B6%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5"><span class="nav-number">1.5.2.</span> <span class="nav-text">接收键盘输入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.3.</span> <span class="nav-text">数值运算和运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95%E5%92%8C%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2"><span class="nav-number">1.5.4.</span> <span class="nav-text">变量测试和内容替换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97-%E8%BF%90%E7%AE%97%E5%BC%8F-%E6%88%96%E8%80%85-%E8%BF%90%E7%AE%97%E5%BC%8F-%EF%BC%88%E5%B8%B8%E7%94%A8%EF%BC%89"><span class="nav-number">1.5.4.1.</span> <span class="nav-text">数值运算 **$((运算式)) 或者$[运算式]**（常用）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E7%94%A8%E6%88%B7%E7%9A%84%E5%8F%82%E6%95%B0-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="nav-number">1.5.5.</span> <span class="nav-text">判断用户的参数(条件判断)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-1"><span class="nav-number">1.5.6.</span> <span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.5.7.</span> <span class="nav-text">正则表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.5.7.1.</span> <span class="nav-text">基础正则表达式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.8.</span> <span class="nav-text">字符串截取命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#cut-%E5%AD%97%E7%AC%A6%E6%88%AA%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.8.1.</span> <span class="nav-text">cut 字符截取命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#printf-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.8.2.</span> <span class="nav-text">printf 命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#awk-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.8.3.</span> <span class="nav-text">awk 命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sed-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.8.4.</span> <span class="nav-text">sed 命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.9.</span> <span class="nav-text">字符处理命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.9.1.</span> <span class="nav-text">排序命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1%E5%91%BD%E4%BB%A4"><span class="nav-number">1.5.9.2.</span> <span class="nav-text">统计命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.5.10.</span> <span class="nav-text">流程控制语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#if"><span class="nav-number">1.5.10.1.</span> <span class="nav-text">if</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#case"><span class="nav-number">1.5.10.2.</span> <span class="nav-text">case</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#while-amp-until"><span class="nav-number">1.5.10.3.</span> <span class="nav-text">while &amp; until</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#for"><span class="nav-number">1.5.10.4.</span> <span class="nav-text">for</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#function"><span class="nav-number">1.5.10.5.</span> <span class="nav-text">function</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">1.5.10.6.</span> <span class="nav-text">数组</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.6.</span> <span class="nav-text">服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#rpm%E5%8C%85%E5%AE%89%E8%A3%85%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.6.1.</span> <span class="nav-text">rpm包安装的服务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rpm%E5%8C%85%E7%8B%AC%E7%AB%8B%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">1.6.1.1.</span> <span class="nav-text">rpm包独立服务的管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rpm%E5%8C%85%E5%9F%BA%E4%BA%8Exinetd%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">1.6.1.2.</span> <span class="nav-text">rpm包基于xinetd服务的管理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E5%AE%89%E8%A3%85%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.6.2.</span> <span class="nav-text">源码包安装服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ssh-%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.6.3.</span> <span class="nav-text">ssh 服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="nav-number">1.7.</span> <span class="nav-text">linux系统管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="nav-number">1.7.1.</span> <span class="nav-text">进程管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E5%BD%93%E4%B8%AD%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8Bps"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">查看系统当中所有进程ps</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E7%8A%B6%E6%80%81"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">查看系统状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E6%A0%91"><span class="nav-number">1.7.1.3.</span> <span class="nav-text">查看进程树</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%88%E6%AD%A2%E8%BF%9B%E7%A8%8B"><span class="nav-number">1.7.1.4.</span> <span class="nav-text">终止进程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E7%AE%A1%E7%90%86"><span class="nav-number">1.7.2.</span> <span class="nav-text">工作管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%BB%E5%8A%A1%E5%90%8E%E5%8F%B0"><span class="nav-number">1.7.2.1.</span> <span class="nav-text">任务后台</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%90%8E%E5%8F%B0%E5%9C%A8%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BB%BB%E5%8A%A1"><span class="nav-number">1.7.2.2.</span> <span class="nav-text">查看后台在执行的任务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%81%A2%E5%A4%8D%E5%90%8E%E5%8F%B0%E6%9A%82%E5%81%9C%E7%9A%84%E4%BB%BB%E5%8A%A1%E5%88%B0%E5%89%8D%E5%8F%B0"><span class="nav-number">1.7.2.3.</span> <span class="nav-text">恢复后台暂停的任务到前台</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%8A%E5%90%8E%E5%8F%B0%E6%9A%82%E5%81%9C%E7%9A%84%E4%BB%BB%E5%8A%A1%E7%BB%A7%E7%BB%AD%E5%90%8E%E5%8F%B0%E6%89%A7%E8%A1%8C"><span class="nav-number">1.7.2.4.</span> <span class="nav-text">把后台暂停的任务继续后台执行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E6%9F%A5%E7%9C%8B"><span class="nav-number">1.7.2.5.</span> <span class="nav-text">系统资源查看</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1crond"><span class="nav-number">1.7.2.6.</span> <span class="nav-text">定时任务crond</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86"><span class="nav-number">1.8.</span> <span class="nav-text">日志管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#rsyslogd%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.8.1.</span> <span class="nav-text">rsyslogd日志服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A5%E5%BF%97%E8%BD%AE%E6%9B%BF"><span class="nav-number">1.8.2.</span> <span class="nav-text">日志轮替</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86"><span class="nav-number">1.9.</span> <span class="nav-text">启动管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="nav-number">1.9.1.</span> <span class="nav-text">运行级别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B"><span class="nav-number">1.9.2.</span> <span class="nav-text">启动过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#grub%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.9.3.</span> <span class="nav-text">grub配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#grub%E5%8A%A0%E5%AF%86%E5%92%8C%E8%B0%83%E6%95%B4%E5%AD%97%E7%AC%A6%E7%95%8C%E9%9D%A2%E5%88%86%E8%BE%A8%E7%8E%87"><span class="nav-number">1.9.3.1.</span> <span class="nav-text">grub加密和调整字符界面分辨率</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#grub%E5%8A%A0%E5%AF%86"><span class="nav-number">1.9.3.2.</span> <span class="nav-text">grub加密</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E7%95%8C%E9%9D%A2%E5%88%86%E8%BE%A8%E7%8E%87%E8%B0%83%E6%95%B4"><span class="nav-number">1.9.3.3.</span> <span class="nav-text">字符界面分辨率调整</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E4%BF%AE%E5%A4%8D%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.9.4.</span> <span class="nav-text">系统修复模式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD"><span class="nav-number">1.10.</span> <span class="nav-text">数据备份</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%87%E4%BB%BD%E5%91%BD%E4%BB%A4"><span class="nav-number">1.10.1.</span> <span class="nav-text">备份命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%82%E9%A1%B9"><span class="nav-number">1.11.</span> <span class="nav-text">杂项</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Harry Smith"
      src="https://raw.githubusercontent.com/LycsHub/ImageHosting/master/natumetakasi-2021-11-318%3A56%3A10.jpg">
  <p class="site-author-name" itemprop="name">Harry Smith</p>
  <div class="site-description" itemprop="description">取次花丛懒回顾，半缘修道半缘君</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">40</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Harry Smith</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://harrysmith-1.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://lycshub.github.io/2021/11/06/linux/";
    this.page.identifier = "2021/11/06/linux/";
    this.page.title = "Linux操作笔记";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://harrysmith-1.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
